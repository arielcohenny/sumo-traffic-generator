INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment4-and-moderate-load/11
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 53870 ***
Loading net-file from 'workspace/grid.net.xml' ... done (28ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is empty at time 0 - no traffic light states generated
INFO:TrafficSimulator:Step 0: 3 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is empty at time 30 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is empty at time 60 - no traffic light states generated
Warning: Vehicle 'veh56' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=65.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is empty at time 90 - no traffic light states generated
Warning: Vehicle 'veh22' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh22' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.35, offset=0.15), time=90.00.
INFO:TrafficSimulator:Step 100: 223 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is empty at time 120 - no traffic light states generated
Warning: Vehicle 'veh35' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh203' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh203' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-21.48, offset=3.68), time=125.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is empty at time 150 - no traffic light states generated
Warning: Vehicle 'veh115' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh115' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.42, offset=7.39), time=150.00.
Warning: Vehicle 'veh277' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=155.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is empty at time 180 - no traffic light states generated
INFO:TrafficSimulator:Step 200: 355 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is empty at time 210 - no traffic light states generated
Warning: Vehicle 'veh245' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Teleporting vehicle 'veh118'; collision with vehicle 'veh199', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=221.00, stage=move.
Warning: Teleporting vehicle 'veh170'; collision with vehicle 'veh134', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=224.00, stage=move.
Warning: Vehicle 'veh118' ends teleporting on edge 'E_PNK_W_WZM', time=224.00.
Warning: Vehicle 'veh170' ends teleporting on edge 'E_PNK_W_WZM', time=227.00.
Warning: Vehicle 'veh163' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is empty at time 240 - no traffic light states generated
Warning: Vehicle 'veh325' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh325' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.77, offset=7.46), time=240.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is empty at time 270 - no traffic light states generated
Warning: Vehicle 'veh234' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=295.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is empty at time 300 - no traffic light states generated
INFO:TrafficSimulator:Step 300: 440 vehicles active
Warning: Vehicle 'veh480' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh480' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-18.98, offset=6.78), time=305.00.
Warning: Teleporting vehicle 'veh429'; collision with vehicle 'veh489', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=311.00, stage=move.
Warning: Vehicle 'veh429' ends teleporting on edge 'E_PNK_W_WZM_T', time=311.00.
Warning: Vehicle 'veh423' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=325.00.
Warning: Vehicle 'veh423' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.52, offset=1.26), time=325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is empty at time 330 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is empty at time 360 - no traffic light states generated
Warning: Vehicle 'veh771' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
Warning: Vehicle 'veh771' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.34, offset=3.29), time=360.00.
Warning: Vehicle 'veh738' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
Warning: Vehicle 'veh738' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-10.21, offset=0.94), time=360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is empty at time 390 - no traffic light states generated
Warning: Vehicle 'veh696' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh696' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-20.67, offset=1.93), time=395.00.
INFO:TrafficSimulator:Step 400: 506 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is empty at time 420 - no traffic light states generated
Warning: Vehicle 'veh801' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=420.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is empty at time 450 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is empty at time 480 - no traffic light states generated
Warning: Vehicle 'veh846' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh846' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-13.79, offset=4.76), time=485.00.
Warning: Vehicle 'veh719' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=491.00.
INFO:TrafficSimulator:Step 500: 538 vehicles active
Warning: Vehicle 'veh663' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=505.00.
Warning: Vehicle 'veh663' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-11.05, offset=1.87), time=505.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is empty at time 510 - no traffic light states generated
Warning: Vehicle 'veh949' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
Warning: Vehicle 'veh954' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
Warning: Vehicle 'veh954' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.42, offset=5.31), time=510.00.
Warning: Teleporting vehicle 'veh942'; collision with vehicle 'veh1015', lane='E_GOR_W_NMR_H_s_1', gap=-5.93, time=512.00, stage=move.
Warning: Vehicle 'veh942' ends teleporting on edge 'E_PNK_W_WZM_T', time=513.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is empty at time 540 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is empty at time 570 - no traffic light states generated
Warning: Vehicle 'veh1212' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Teleporting vehicle 'veh974'; collision with vehicle 'veh984', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=581.00, stage=move.
Warning: Vehicle 'veh974' ends teleporting on edge 'E_PNK_W_WZM_T', time=581.00.
Warning: Teleporting vehicle 'veh1078'; collision with vehicle 'veh1018', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=586.00, stage=move.
Warning: Vehicle 'veh1078' ends teleporting on edge 'E_PNK_W_WZM_T', time=587.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is empty at time 600 - no traffic light states generated
INFO:TrafficSimulator:Step 600: 542 vehicles active
Warning: Vehicle 'veh1290' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=605.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is empty at time 630 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is empty at time 660 - no traffic light states generated
Warning: Teleporting vehicle 'veh1123'; collision with vehicle 'veh1139', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=673.00, stage=move.
Warning: Vehicle 'veh1123' ends teleporting on edge 'E_PNK_W_WZM_T', time=673.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is empty at time 690 - no traffic light states generated
INFO:TrafficSimulator:Step 700: 540 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is empty at time 720 - no traffic light states generated
Warning: Vehicle 'veh1123' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=745.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is empty at time 750 - no traffic light states generated
Warning: Vehicle 'veh1642' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=750.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is empty at time 780 - no traffic light states generated
Warning: Vehicle 'veh1717' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
Warning: Vehicle 'veh1717' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-21.48, offset=8.99), time=780.00.
INFO:TrafficSimulator:Step 800: 545 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is empty at time 810 - no traffic light states generated
Warning: Vehicle 'veh1386' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is empty at time 840 - no traffic light states generated
Warning: Vehicle 'veh1848' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=842.00.
Warning: Vehicle 'veh1848' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.04, offset=2.06), time=842.00.
Warning: Teleporting vehicle 'veh1732'; collision with vehicle 'veh1748', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=848.00, stage=move.
Warning: Vehicle 'veh1732' ends teleporting on edge 'E_PNK_W_WZM_T', time=848.00.
Warning: Vehicle 'veh1884' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=850.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is empty at time 870 - no traffic light states generated
Warning: Vehicle 'veh1796' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=878.00.
Warning: Vehicle 'veh1774' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=878.00.
Warning: Vehicle 'veh1774' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.10, offset=6.22), time=878.00.
Warning: Vehicle 'veh1750' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=878.00.
Warning: Vehicle 'veh1750' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-17.32, offset=8.03), time=878.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is empty at time 900 - no traffic light states generated
Warning: Vehicle 'veh1437' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
Warning: Vehicle 'veh1437' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-19.35, offset=7.62), time=900.00.
INFO:TrafficSimulator:Step 900: 536 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is empty at time 930 - no traffic light states generated
Warning: Teleporting vehicle 'veh1909'; collision with vehicle 'veh1813', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=930.00, stage=move.
Warning: Vehicle 'veh1717' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=931.00.
Warning: Vehicle 'veh1717' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.18, offset=5.09), time=931.00.
Warning: Vehicle 'veh1855' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=931.00.
Warning: Vehicle 'veh1855' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.87, offset=0.48), time=931.00.
Warning: Vehicle 'veh1909' ends teleporting on edge 'E_PNK_W_WZM', time=933.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is empty at time 960 - no traffic light states generated
Warning: Teleporting vehicle 'veh1935'; collision with vehicle 'veh2056', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=966.00, stage=move.
Warning: Vehicle 'veh1935' ends teleporting on edge 'E_PNK_W_WZM_T', time=966.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is empty at time 990 - no traffic light states generated
INFO:TrafficSimulator:Step 1000: 555 vehicles active
Warning: Vehicle 'veh2063' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1015.00.
Warning: Vehicle 'veh2063' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-22.54, offset=10.78), time=1015.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is empty at time 1020 - no traffic light states generated
Warning: Vehicle 'veh2289' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1020.00.
Warning: Vehicle 'veh2285' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1033.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is empty at time 1050 - no traffic light states generated
Warning: Vehicle 'veh2231' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1054.00.
Warning: Vehicle 'veh2231' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.02, offset=3.53), time=1054.00.
Warning: Vehicle 'veh1737' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1062.00.
Warning: Vehicle 'veh1737' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-11.06, offset=1.87), time=1062.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is empty at time 1080 - no traffic light states generated
Warning: Vehicle 'veh1724' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh1724' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.42, offset=4.19), time=1080.00.
INFO:TrafficSimulator:Step 1100: 569 vehicles active
Warning: Vehicle 'veh2281' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1109.00.
Warning: Vehicle 'veh2281' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.63, offset=6.71), time=1109.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is empty at time 1110 - no traffic light states generated
Warning: Vehicle 'veh2516' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1110.00.
Warning: Vehicle 'veh2516' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-10.12, offset=0.44), time=1110.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is empty at time 1140 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is empty at time 1170 - no traffic light states generated
Warning: Vehicle 'veh2580' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2580' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.49, offset=1.15), time=1170.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is empty at time 1200 - no traffic light states generated
INFO:TrafficSimulator:Step 1200: 604 vehicles active
Warning: Vehicle 'veh2777' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1210.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is empty at time 1230 - no traffic light states generated
Warning: Vehicle 'veh2107' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1236.00.
Warning: Vehicle 'veh2568' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1236.00.
Warning: Vehicle 'veh2568' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.43, offset=6.30), time=1236.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is empty at time 1260 - no traffic light states generated
Warning: Teleporting vehicle 'veh2625'; collision with vehicle 'veh2580', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=1274.00, stage=move.
Warning: Vehicle 'veh2625' ends teleporting on edge 'E_PNK_W_WZM_T', time=1274.00.
Warning: Vehicle 'veh2328' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1282.00.
Warning: Vehicle 'veh2328' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.17, offset=1.25), time=1282.00.
Warning: Teleporting vehicle 'veh2646'; collision with vehicle 'veh2759', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=1288.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is empty at time 1290 - no traffic light states generated
Warning: Vehicle 'veh2646' ends teleporting on edge 'E_PNK_W_WZM', time=1292.00.
INFO:TrafficSimulator:Step 1300: 636 vehicles active
Warning: Vehicle 'veh2899' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1301.00.
Warning: Vehicle 'veh2609' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1304.00.
Warning: Vehicle 'veh3000' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1304.00.
Warning: Vehicle 'veh3000' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.66, offset=3.35), time=1304.00.
Warning: Vehicle 'veh2733' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1304.00.
Warning: Vehicle 'veh2733' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.60, offset=0.87), time=1305.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is empty at time 1320 - no traffic light states generated
Warning: Vehicle 'veh3039' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1320.00.
Warning: Vehicle 'veh2869' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1326.00.
Warning: Teleporting vehicle 'veh2883'; collision with vehicle 'veh2812', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=1327.00, stage=move.
Warning: Vehicle 'veh2883' ends teleporting on edge 'E_PNK_W_WZM_T', time=1327.00.
Warning: Teleporting vehicle 'veh2825'; collision with vehicle 'veh2858', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=1329.00, stage=move.
Warning: Vehicle 'veh2825' ends teleporting on edge 'E_PNK_W_WZM_T', time=1329.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is empty at time 1350 - no traffic light states generated
Warning: Teleporting vehicle 'veh2875'; collision with vehicle 'veh2935', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=1367.00, stage=move.
Warning: Vehicle 'veh2875' ends teleporting on edge 'E_PNK_W_WZM_T', time=1367.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is empty at time 1380 - no traffic light states generated
Warning: Vehicle 'veh3189' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh3189' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.13, offset=2.67), time=1382.00.
INFO:TrafficSimulator:Step 1400: 657 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is empty at time 1410 - no traffic light states generated
Warning: Vehicle 'veh2943' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1414.00.
Warning: Vehicle 'veh2943' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.91, offset=1.59), time=1414.00.
Warning: Vehicle 'veh3094' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1416.00.
Warning: Vehicle 'veh3040' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1416.00.
Warning: Vehicle 'veh3040' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.25, offset=1.33), time=1416.00.
Warning: Vehicle 'veh3023' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1416.00.
Warning: Vehicle 'veh3023' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-17.19, offset=1.60), time=1416.00.
Warning: Teleporting vehicle 'veh3094'; collision with vehicle 'veh3069', lane='E_GOR_W_NMR_H_s_1', gap=-0.61, time=1416.00, stage=move.
Warning: Vehicle 'veh3094' ends teleporting on edge 'E_PNK_W_WZM_T', time=1416.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is empty at time 1440 - no traffic light states generated
Warning: Vehicle 'veh3225' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1462.00.
Warning: Vehicle 'veh3225' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-13.70, offset=1.65), time=1462.00.
Warning: Teleporting vehicle 'veh3249'; collision with vehicle 'veh3148', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=1468.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is empty at time 1470 - no traffic light states generated
Warning: Vehicle 'veh3249' ends teleporting on edge 'E_PNK_W_WZM', time=1471.00.
Warning: Vehicle 'veh2468' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1483.00.
Warning: Vehicle 'veh2523' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1483.00.
Warning: Vehicle 'veh2523' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-11.08, offset=0.73), time=1484.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is empty at time 1500 - no traffic light states generated
INFO:TrafficSimulator:Step 1500: 647 vehicles active
Warning: Vehicle 'veh3344' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1506.00.
Warning: Vehicle 'veh3344' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.91, offset=7.24), time=1506.00.
Warning: Vehicle 'veh3262' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1507.00.
Warning: Teleporting vehicle 'veh3262'; collision with vehicle 'veh3344', lane='E_GOR_W_NMR_H_s_1', gap=-0.85, time=1507.00, stage=move.
Warning: Teleporting vehicle 'veh3382'; collision with vehicle 'veh3262', lane='E_GOR_W_NMR_H_s_1', gap=-1.19, time=1507.00, stage=move.
Warning: Vehicle 'veh3262' ends teleporting on edge 'E_PNK_W_WZM_T', time=1507.00.
Warning: Vehicle 'veh3382' ends teleporting on edge 'E_PNK_W_WZM_T', time=1507.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is empty at time 1530 - no traffic light states generated
Warning: Vehicle 'veh3566' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3566' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.42, offset=3.48), time=1530.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is empty at time 1560 - no traffic light states generated
Warning: Vehicle 'veh2810' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1573.00.
Warning: Vehicle 'veh2810' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-20.87, offset=7.07), time=1573.00.
Warning: Vehicle 'veh3496' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1580.00.
Warning: Vehicle 'veh3496' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.84, offset=1.98), time=1581.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is empty at time 1590 - no traffic light states generated
Warning: Vehicle 'veh3597' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1596.00.
Warning: Vehicle 'veh3653' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1596.00.
Warning: Vehicle 'veh3653' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.25, offset=6.86), time=1596.00.
INFO:TrafficSimulator:Step 1600: 623 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is empty at time 1620 - no traffic light states generated
Warning: Vehicle 'veh2827' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1642.00.
Warning: Vehicle 'veh2827' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.91, offset=8.53), time=1642.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is empty at time 1650 - no traffic light states generated
Warning: Vehicle 'veh3734' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1663.00.
Warning: Vehicle 'veh3734' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-19.27, offset=4.37), time=1663.00.
Warning: Vehicle 'veh3855' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1663.00.
Warning: Vehicle 'veh3855' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.51, offset=4.27), time=1663.00.
Warning: Vehicle 'veh2998' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1663.00.
Warning: Vehicle 'veh2998' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.77, offset=2.52), time=1663.00.
Warning: Vehicle 'veh3687' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1664.00.
Warning: Vehicle 'veh3687' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-10.81, offset=1.09), time=1665.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is empty at time 1680 - no traffic light states generated
INFO:TrafficSimulator:Step 1700: 584 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is empty at time 1710 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is empty at time 1740 - no traffic light states generated
Warning: Teleporting vehicle 'veh3928'; collision with vehicle 'veh3893', lane='E_GOR_W_NMR_H_s_1', gap=-5.69, time=1741.00, stage=move.
Warning: Vehicle 'veh3928' ends teleporting on edge 'E_PNK_W_WZM_T', time=1742.00.
Warning: Vehicle 'veh4103' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1744.00.
Warning: Vehicle 'veh4103' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.12, offset=2.05), time=1744.00.
Warning: Vehicle 'veh4069' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1753.00.
Warning: Vehicle 'veh3998' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=1757.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is empty at time 1770 - no traffic light states generated
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is empty at time 1800 - no traffic light states generated
INFO:TrafficSimulator:Step 1800: 591 vehicles active
Warning: Vehicle 'veh3027' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1818.00.
Warning: Vehicle 'veh3027' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.64, offset=8.02), time=1818.00.
Warning: Vehicle 'veh3948' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1828.00.
Warning: Vehicle 'veh3948' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.46, offset=3.98), time=1828.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is empty at time 1830 - no traffic light states generated
Warning: Vehicle 'veh3832' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1843.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is empty at time 1860 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is empty at time 1890 - no traffic light states generated
Warning: Vehicle 'veh4374' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh4374' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-9.90, offset=0.18), time=1890.00.
INFO:TrafficSimulator:Step 1900: 616 vehicles active
Warning: Vehicle 'veh4338' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1904.00.
Warning: Vehicle 'veh4338' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.38, offset=7.02), time=1904.00.
Warning: Vehicle 'veh4284' performs emergency braking on lane 'E_GOR_W_NMR_1' with decel=9.00, wished=4.50, severity=1.00, time=1911.00.
Warning: Teleporting vehicle 'veh4301'; collision with vehicle 'veh4282', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=1917.00, stage=move.
Warning: Vehicle 'veh4301' ends teleporting on edge 'E_PNK_W_WZM_T', time=1918.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is empty at time 1920 - no traffic light states generated
Warning: Vehicle 'veh4225' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1924.00.
Warning: Vehicle 'veh4225' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.87, offset=1.79), time=1924.00.
Warning: Vehicle 'veh2639' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1933.00.
Warning: Teleporting vehicle 'veh4311'; junction collision with vehicle 'veh4474', lane=':J_NMR_PNK_2_0', gap=-0.23, time=1935.00, stage=move.
Warning: Vehicle 'veh4311' ends teleporting on edge 'E_PNK_W_WZM_T', time=1935.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is empty at time 1950 - no traffic light states generated
Warning: Vehicle 'veh4604' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1959.00.
Warning: Vehicle 'veh4604' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-13.33, offset=3.34), time=1959.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is empty at time 1980 - no traffic light states generated
Warning: Vehicle 'veh4657' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
Warning: Vehicle 'veh4657' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-11.11, offset=1.63), time=1980.00.
Warning: Vehicle 'veh3244' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1994.00.
Warning: Vehicle 'veh4344' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1994.00.
INFO:TrafficSimulator:Step 2000: 597 vehicles active
Warning: Teleporting vehicle 'veh4531'; collision with vehicle 'veh4580', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=2004.00, stage=move.
Warning: Vehicle 'veh4531' ends teleporting on edge 'E_PNK_W_WZM_T', time=2006.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is empty at time 2010 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is empty at time 2040 - no traffic light states generated
Warning: Vehicle 'veh4651' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2054.00.
Warning: Vehicle 'veh4651' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-10.80, offset=1.42), time=2054.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is empty at time 2070 - no traffic light states generated
Warning: Vehicle 'veh4654' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2092.00.
Warning: Vehicle 'veh4654' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-13.75, offset=2.70), time=2092.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is empty at time 2100 - no traffic light states generated
INFO:TrafficSimulator:Step 2100: 589 vehicles active
Warning: Vehicle 'veh4748' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2113.00.
Warning: Vehicle 'veh4748' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.08, offset=1.85), time=2113.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is empty at time 2130 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is empty at time 2160 - no traffic light states generated
Warning: Vehicle 'veh5114' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2189.00.
Warning: Vehicle 'veh5114' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-16.83, offset=1.93), time=2189.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is empty at time 2190 - no traffic light states generated
INFO:TrafficSimulator:Step 2200: 585 vehicles active
Warning: Teleporting vehicle 'veh5165'; collision with vehicle 'veh5006', lane='E_GOR_W_NMR_H_s_1', gap=-1.42, time=2203.00, stage=move.
Warning: Vehicle 'veh5165' ends teleporting on edge 'E_PNK_W_WZM_T', time=2203.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is empty at time 2220 - no traffic light states generated
Warning: Vehicle 'veh5271' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2223.00.
Warning: Vehicle 'veh5266' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2223.00.
Warning: Vehicle 'veh5266' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-15.75, offset=0.45), time=2223.00.
Warning: Teleporting vehicle 'veh5164'; collision with vehicle 'veh5191', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=2230.00, stage=move.
Warning: Vehicle 'veh5164' ends teleporting on edge 'E_PNK_W_WZM_T', time=2230.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is empty at time 2250 - no traffic light states generated
Warning: Vehicle 'veh5103' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2250.00.
Warning: Vehicle 'veh5226' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2271.00.
Warning: Teleporting vehicle 'veh5226'; collision with vehicle 'veh5157', lane='E_GOR_W_NMR_H_s_1', gap=-0.91, time=2271.00, stage=move.
Warning: Vehicle 'veh5226' ends teleporting on edge 'E_PNK_W_WZM_T', time=2271.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is empty at time 2280 - no traffic light states generated
INFO:TrafficSimulator:Step 2300: 570 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is empty at time 2310 - no traffic light states generated
Warning: Vehicle 'veh5435' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2325.00.
Warning: Vehicle 'veh5435' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.85, offset=0.10), time=2325.00.
Warning: Vehicle 'veh5445' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2326.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is empty at time 2340 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is empty at time 2370 - no traffic light states generated
Warning: Vehicle 'veh5516' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2383.00.
Warning: Vehicle 'veh5528' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2383.00.
Warning: Vehicle 'veh5528' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-19.77, offset=1.01), time=2383.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is empty at time 2400 - no traffic light states generated
INFO:TrafficSimulator:Step 2400: 577 vehicles active
Warning: Vehicle 'veh5057' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2403.00.
Warning: Vehicle 'veh5057' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-14.74, offset=4.36), time=2404.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is empty at time 2430 - no traffic light states generated
Warning: Vehicle 'veh5556' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2430.00.
Warning: Vehicle 'veh5556' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.05, offset=2.63), time=2430.00.
Warning: Vehicle 'veh5671' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2450.00.
Warning: Vehicle 'veh5671' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-12.41, offset=0.29), time=2450.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is empty at time 2460 - no traffic light states generated
Warning: Vehicle 'veh5444' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=2489.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is empty at time 2490 - no traffic light states generated
INFO:TrafficSimulator:Step 2500: 587 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is empty at time 2520 - no traffic light states generated
Warning: Teleporting vehicle 'veh5966'; collision with vehicle 'veh5891', lane='E_GOR_W_NMR_H_s_1', gap=-1.16, time=2547.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is empty at time 2550 - no traffic light states generated
Warning: Vehicle 'veh5966' ends teleporting on edge 'E_PNK_W_WZM', time=2550.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is empty at time 2580 - no traffic light states generated
Warning: Vehicle 'veh6171' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2583.00.
Warning: Vehicle 'veh6171' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.16, offset=0.23), time=2583.00.
Warning: Vehicle 'veh5787' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=2584.00.
Warning: Vehicle 'veh5787' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-12.87, offset=1.56), time=2584.00.
Warning: Vehicle 'veh5716' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=2584.00.
Warning: Vehicle 'veh5716' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-11.77, offset=1.91), time=2584.00.
Warning: Vehicle 'veh6168' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2589.00.
INFO:TrafficSimulator:Step 2600: 612 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is empty at time 2610 - no traffic light states generated
Warning: Teleporting vehicle 'veh6140'; collision with vehicle 'veh6058', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=2636.00, stage=move.
Warning: Vehicle 'veh6140' ends teleporting on edge 'E_PNK_W_WZM', time=2639.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is empty at time 2640 - no traffic light states generated
Warning: Vehicle 'veh6376' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2651.00.
Warning: Vehicle 'veh6375' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2651.00.
Warning: Vehicle 'veh6375' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.01, offset=1.40), time=2651.00.
Warning: Vehicle 'veh6374' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2651.00.
Warning: Vehicle 'veh5803' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=2658.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is empty at time 2670 - no traffic light states generated
Warning: Vehicle 'veh6029' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=2676.00.
Warning: Vehicle 'veh6029' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-13.86, offset=0.82), time=2676.00.
Warning: Vehicle 'veh6296' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2676.00.
Warning: Vehicle 'veh6080' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2676.00.
Warning: Vehicle 'veh6080' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.97, offset=2.63), time=2676.00.
Warning: Vehicle 'veh6296' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-10.86, offset=0.95), time=2677.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is empty at time 2700 - no traffic light states generated
INFO:TrafficSimulator:Step 2700: 646 vehicles active
Warning: Teleporting vehicle 'veh6313'; collision with vehicle 'veh6260', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=2725.00, stage=move.
Warning: Vehicle 'veh6313' ends teleporting on edge 'E_PNK_W_WZM_T', time=2725.00.
Warning: Vehicle 'veh6349' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2726.00.
Warning: Vehicle 'veh6349' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-13.90, offset=0.42), time=2726.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is empty at time 2730 - no traffic light states generated
Warning: Vehicle 'veh6319' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2735.00.
Warning: Vehicle 'veh5818' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2754.00.
Warning: Vehicle 'veh5818' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-20.62, offset=7.63), time=2754.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is empty at time 2760 - no traffic light states generated
Warning: Vehicle 'veh5874' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2766.00.
Warning: Vehicle 'veh6381' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2766.00.
Warning: Vehicle 'veh6381' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.87, offset=0.84), time=2766.00.
Warning: Teleporting vehicle 'veh6516'; collision with vehicle 'veh6518', lane='E_GOR_W_NMR_H_s_1', gap=-5.50, time=2780.00, stage=move.
Warning: Vehicle 'veh6516' ends teleporting on edge 'E_PNK_W_WZM_T', time=2780.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is empty at time 2790 - no traffic light states generated
INFO:TrafficSimulator:Step 2800: 668 vehicles active
Warning: Vehicle 'veh4287' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2816.00.
Warning: Vehicle 'veh4287' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-16.15, offset=3.62), time=2816.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is empty at time 2820 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is empty at time 2850 - no traffic light states generated
Warning: Vehicle 'veh6650' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2852.00.
Warning: Vehicle 'veh6650' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.41, offset=8.50), time=2852.00.
Warning: Vehicle 'veh6532' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2856.00.
Warning: Vehicle 'veh6532' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-20.52, offset=2.69), time=2856.00.
Warning: Vehicle 'veh6890' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=2869.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is empty at time 2880 - no traffic light states generated
Warning: Teleporting vehicle 'veh6799'; collision with vehicle 'veh6750', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=2880.00, stage=move.
Warning: Vehicle 'veh6799' ends teleporting on edge 'E_PNK_W_WZM_T', time=2880.00.
INFO:TrafficSimulator:Step 2900: 643 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is empty at time 2910 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is empty at time 2940 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is empty at time 2970 - no traffic light states generated
Warning: Vehicle 'veh7120' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2988.00.
Warning: Vehicle 'veh7120' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-10.26, offset=1.14), time=2988.00.
Warning: Vehicle 'veh7026' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2989.00.
Warning: Vehicle 'veh7026' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-9.92, offset=0.07), time=2989.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is empty at time 3000 - no traffic light states generated
INFO:TrafficSimulator:Step 3000: 641 vehicles active
Warning: Teleporting vehicle 'veh7057'; collision with vehicle 'veh7078', lane='E_GOR_W_NMR_H_s_1', gap=-5.90, time=3007.00, stage=move.
Warning: Vehicle 'veh7057' ends teleporting on edge 'E_PNK_W_WZM_T', time=3007.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is empty at time 3030 - no traffic light states generated
Warning: Vehicle 'veh6714' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3033.00.
Warning: Vehicle 'veh6714' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-17.23, offset=6.62), time=3033.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is empty at time 3060 - no traffic light states generated
Warning: Teleporting vehicle 'veh7294'; collision with vehicle 'veh7182', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=3084.00, stage=move.
Warning: Vehicle 'veh7294' ends teleporting on edge 'E_PNK_W_WZM_T', time=3084.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is empty at time 3090 - no traffic light states generated
Warning: Teleporting vehicle 'veh7288'; collision with vehicle 'veh7311', lane='E_GOR_W_NMR_H_s_1', gap=-3.44, time=3094.00, stage=move.
Warning: Vehicle 'veh7288' ends teleporting on edge 'E_PNK_W_WZM_T', time=3095.00.
Warning: Teleporting vehicle 'veh7239'; collision with vehicle 'veh7340', lane='E_GOR_W_NMR_H_s_1', gap=-4.36, time=3097.00, stage=move.
Warning: Vehicle 'veh7239' ends teleporting on edge 'E_PNK_W_WZM_T', time=3098.00.
INFO:TrafficSimulator:Step 3100: 598 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is empty at time 3120 - no traffic light states generated
Warning: Vehicle 'veh7572' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3123.00.
Warning: Vehicle 'veh7572' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.39, offset=7.51), time=3123.00.
Warning: Vehicle 'veh7509' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3133.00.
Warning: Vehicle 'veh7509' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-11.10, offset=1.48), time=3133.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is empty at time 3150 - no traffic light states generated
Warning: Vehicle 'veh4598' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3168.00.
Warning: Vehicle 'veh4598' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.26, offset=6.49), time=3168.00.
Warning: Teleporting vehicle 'veh7356'; collision with vehicle 'veh7545', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=3174.00, stage=move.
Warning: Vehicle 'veh7356' ends teleporting on edge 'E_PNK_W_WZM_T', time=3176.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is empty at time 3180 - no traffic light states generated
Warning: Vehicle 'veh7718' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=3194.00.
INFO:TrafficSimulator:Step 3200: 575 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is empty at time 3210 - no traffic light states generated
Warning: Vehicle 'veh3439' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3213.00.
Warning: Vehicle 'veh7825' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=3229.00.
Warning: Teleporting vehicle 'veh7562'; collision with vehicle 'veh7577', lane='E_GOR_W_NMR_H_s_1', gap=-1.49, time=3233.00, stage=move.
Warning: Vehicle 'veh7562' ends teleporting on edge 'E_PNK_W_WZM_T', time=3233.00.
Warning: Teleporting vehicle 'veh7627'; collision with vehicle 'veh7715', lane='E_GOR_W_NMR_H_s_1', gap=-4.75, time=3238.00, stage=move.
Warning: Vehicle 'veh7627' ends teleporting on edge 'E_PNK_W_WZM_T', time=3238.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is empty at time 3240 - no traffic light states generated
Warning: Vehicle 'veh4668' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3258.00.
Warning: Vehicle 'veh7722' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3258.00.
Warning: Vehicle 'veh7722' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-10.43, offset=0.44), time=3258.00.
Warning: Teleporting vehicle 'veh7709'; collision with vehicle 'veh7764', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=3265.00, stage=move.
Warning: Vehicle 'veh7709' ends teleporting on edge 'E_PNK_W_WZM', time=3268.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is empty at time 3270 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is empty at time 3300 - no traffic light states generated
INFO:TrafficSimulator:Step 3300: 586 vehicles active
Warning: Vehicle 'veh7779' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3306.00.
Warning: Vehicle 'veh7834' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3306.00.
Warning: Vehicle 'veh7834' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.63, offset=2.71), time=3306.00.
Warning: Vehicle 'veh7887' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3313.00.
Warning: Vehicle 'veh7887' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-12.16, offset=1.10), time=3313.00.
Warning: Teleporting vehicle 'veh7852'; collision with vehicle 'veh7825', lane='E_GOR_W_NMR_H_s_1', gap=-0.59, time=3321.00, stage=move.
Warning: Vehicle 'veh7852' ends teleporting on edge 'E_PNK_W_WZM_T', time=3321.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is empty at time 3330 - no traffic light states generated
Warning: Vehicle 'veh8058' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh8058' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.99, offset=0.12), time=3330.00.
Warning: Teleporting vehicle 'veh7893'; collision with vehicle 'veh7859', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=3356.00, stage=move.
Warning: Vehicle 'veh7893' ends teleporting on edge 'E_PNK_W_WZM', time=3359.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is empty at time 3360 - no traffic light states generated
Warning: Vehicle 'veh8179' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3360.00.
Warning: Vehicle 'veh8179' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-14.68, offset=3.86), time=3360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is empty at time 3390 - no traffic light states generated
Warning: Vehicle 'veh8271' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3393.00.
INFO:TrafficSimulator:Step 3400: 604 vehicles active
Warning: Teleporting vehicle 'veh8066'; collision with vehicle 'veh8061', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=3413.00, stage=move.
Warning: Vehicle 'veh8066' ends teleporting on edge 'E_PNK_W_WZM_T', time=3413.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is empty at time 3420 - no traffic light states generated
Warning: Vehicle 'veh8044' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3445.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is empty at time 3450 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is empty at time 3480 - no traffic light states generated
INFO:TrafficSimulator:Step 3500: 591 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is empty at time 3510 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is empty at time 3540 - no traffic light states generated
Warning: Vehicle 'veh5784' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3546.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is empty at time 3570 - no traffic light states generated
Warning: Vehicle 'veh8447' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3572.00.
Warning: Vehicle 'veh8447' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.00, offset=3.21), time=3572.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is empty at time 3600 - no traffic light states generated
INFO:TrafficSimulator:Step 3600: 607 vehicles active
Warning: Vehicle 'veh8788' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=3626.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is empty at time 3630 - no traffic light states generated
Warning: Vehicle 'veh8889' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3632.00.
Warning: Teleporting vehicle 'veh8662'; collision with vehicle 'veh8668', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=3632.00, stage=move.
Warning: Vehicle 'veh8662' ends teleporting on edge 'E_PNK_W_WZM_T', time=3632.00.
Warning: Teleporting vehicle 'veh8719'; collision with vehicle 'veh8628', lane='E_GOR_W_NMR_H_s_1', gap=-5.86, time=3639.00, stage=move.
Warning: Vehicle 'veh8719' ends teleporting on edge 'E_PNK_W_WZM', time=3642.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is empty at time 3660 - no traffic light states generated
Warning: Teleporting vehicle 'veh8659'; collision with vehicle 'veh8588', lane='E_PNK_E_NMR_H_sr_0', gap=-0.15, time=3677.00, stage=move.
Warning: Vehicle 'veh8659' ends teleporting on edge 'E_NMR_S_JBT', time=3677.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is empty at time 3690 - no traffic light states generated
INFO:TrafficSimulator:Step 3700: 615 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is empty at time 3720 - no traffic light states generated
Warning: Teleporting vehicle 'veh8775'; collision with vehicle 'veh8789', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=3721.00, stage=move.
Warning: Vehicle 'veh8775' ends teleporting on edge 'E_PNK_W_WZM_T', time=3722.00.
Warning: Teleporting vehicle 'veh8863'; collision with vehicle 'veh8917', lane='E_GOR_W_NMR_H_s_1', gap=-5.83, time=3728.00, stage=move.
Warning: Vehicle 'veh8863' ends teleporting on edge 'E_PNK_W_WZM_T', time=3729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is empty at time 3750 - no traffic light states generated
Warning: Teleporting vehicle 'veh9134'; collision with vehicle 'veh9100', lane='E_GOR_W_NMR_H_s_1', gap=-3.31, time=3777.00, stage=move.
Warning: Vehicle 'veh9134' ends teleporting on edge 'E_PNK_W_WZM_T', time=3777.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is empty at time 3780 - no traffic light states generated
Warning: Vehicle 'veh5985' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3780.00.
Warning: Vehicle 'veh5985' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-14.89, offset=4.76), time=3780.00.
INFO:TrafficSimulator:Step 3800: 607 vehicles active
Warning: Teleporting vehicle 'veh9177'; collision with vehicle 'veh9173', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=3808.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is empty at time 3810 - no traffic light states generated
Warning: Vehicle 'veh9177' ends teleporting on edge 'E_PNK_W_WZM', time=3812.00.
Warning: Vehicle 'veh9406' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3826.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is empty at time 3840 - no traffic light states generated
Warning: Vehicle 'veh9157' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3842.00.
Warning: Vehicle 'veh9108' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3846.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is empty at time 3870 - no traffic light states generated
Warning: Teleporting vehicle 'veh9336'; collision with vehicle 'veh9281', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=3898.00, stage=move.
Warning: Vehicle 'veh9336' ends teleporting on edge 'E_PNK_W_WZM_T', time=3898.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is empty at time 3900 - no traffic light states generated
INFO:TrafficSimulator:Step 3900: 634 vehicles active
Warning: Vehicle 'veh9286' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3920.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is empty at time 3930 - no traffic light states generated
Warning: Vehicle 'veh9483' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3936.00.
Warning: Vehicle 'veh9483' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.46, offset=7.14), time=3936.00.
Warning: Teleporting vehicle 'veh9491'; collision with vehicle 'veh9490', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3951.00, stage=move.
Warning: Vehicle 'veh9491' ends teleporting on edge 'E_PNK_W_WZM_T', time=3951.00.
Warning: Teleporting vehicle 'veh9598'; collision with vehicle 'veh9555', lane='E_GOR_W_NMR_H_s_1', gap=-2.55, time=3958.00, stage=move.
Warning: Vehicle 'veh9598' ends teleporting on edge 'E_PNK_W_WZM_T', time=3958.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is empty at time 3960 - no traffic light states generated
Warning: Teleporting vehicle 'veh9606'; collision with vehicle 'veh9520', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=3961.00, stage=move.
Warning: Vehicle 'veh9606' ends teleporting on edge 'E_PNK_W_WZM_T', time=3961.00.
Warning: Teleporting vehicle 'veh9625'; collision with vehicle 'veh9664', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=3988.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is empty at time 3990 - no traffic light states generated
Warning: Vehicle 'veh9625' ends teleporting on edge 'E_PNK_W_WZM', time=3991.00.
INFO:TrafficSimulator:Step 4000: 649 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is empty at time 4020 - no traffic light states generated
Warning: Vehicle 'veh9613' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4022.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is empty at time 4050 - no traffic light states generated
Warning: Vehicle 'veh9990' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Teleporting vehicle 'veh9813'; collision with vehicle 'veh9838', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=4079.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is empty at time 4080 - no traffic light states generated
Warning: Vehicle 'veh9813' ends teleporting on edge 'E_PNK_W_WZM_T', time=4081.00.
Warning: Vehicle 'veh10068' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4082.00.
Warning: Vehicle 'veh10068' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.48, offset=0.93), time=4082.00.
INFO:TrafficSimulator:Step 4100: 662 vehicles active
Warning: Vehicle 'veh9833' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4108.00.
Warning: Vehicle 'veh9833' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.63, offset=5.52), time=4108.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is empty at time 4110 - no traffic light states generated
Warning: Vehicle 'veh10175' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4129.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is empty at time 4140 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is empty at time 4170 - no traffic light states generated
Warning: Teleporting vehicle 'veh9948'; collision with vehicle 'veh10018', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=4171.00, stage=move.
Warning: Vehicle 'veh9948' ends teleporting on edge 'E_PNK_W_WZM_T', time=4172.00.
Warning: Teleporting vehicle 'veh10129'; collision with vehicle 'veh10142', lane='E_GOR_W_NMR_H_s_1', gap=-6.18, time=4181.00, stage=move.
Warning: Vehicle 'veh10129' ends teleporting on edge 'E_PNK_W_WZM_T', time=4181.00.
Warning: Teleporting vehicle 'veh10224'; collision with vehicle 'veh10199', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=4187.00, stage=move.
Warning: Vehicle 'veh10224' ends teleporting on edge 'E_PNK_W_WZM', time=4190.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is empty at time 4200 - no traffic light states generated
INFO:TrafficSimulator:Step 4200: 666 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is empty at time 4230 - no traffic light states generated
Warning: Vehicle 'veh10411' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4251.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is empty at time 4260 - no traffic light states generated
Warning: Teleporting vehicle 'veh10369'; collision with vehicle 'veh10407', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=4261.00, stage=move.
Warning: Vehicle 'veh10369' ends teleporting on edge 'E_PNK_W_WZM_T', time=4262.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is empty at time 4290 - no traffic light states generated
Warning: Vehicle 'veh6539' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4291.00.
Warning: Vehicle 'veh10396' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4292.00.
Warning: Vehicle 'veh10396' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.31, offset=1.35), time=4292.00.
Warning: Vehicle 'veh6654' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4299.00.
Warning: Vehicle 'veh6654' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-12.85, offset=2.05), time=4299.00.
INFO:TrafficSimulator:Step 4300: 668 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is empty at time 4320 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is empty at time 4350 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is empty at time 4380 - no traffic light states generated
Warning: Vehicle 'veh4652' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4381.00.
Warning: Vehicle 'veh4652' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.04, offset=1.26), time=4381.00.
Warning: Vehicle 'veh10612' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4382.00.
Warning: Vehicle 'veh10612' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.29, offset=1.97), time=4382.00.
INFO:TrafficSimulator:Step 4400: 645 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is empty at time 4410 - no traffic light states generated
Warning: Teleporting vehicle 'veh4808'; waited too long (yield), lane='E_YMK_E_WZM_H_slr_0', time=4431.00.
Warning: Vehicle 'veh4808' ends teleporting on edge 'E_YMK_E_NMR', time=4431.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is empty at time 4440 - no traffic light states generated
Warning: Teleporting vehicle 'veh10738'; collision with vehicle 'veh10866', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=4443.00, stage=move.
Warning: Vehicle 'veh10738' ends teleporting on edge 'E_PNK_W_WZM_T', time=4445.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is empty at time 4470 - no traffic light states generated
Warning: Vehicle 'veh10826' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4472.00.
Warning: Vehicle 'veh10912' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4472.00.
Warning: Vehicle 'veh10912' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.84, offset=2.43), time=4472.00.
Warning: Vehicle 'veh10826' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-9.96, offset=0.62), time=4473.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is empty at time 4500 - no traffic light states generated
INFO:TrafficSimulator:Step 4500: 659 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is empty at time 4530 - no traffic light states generated
Warning: Vehicle 'veh11156' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4540.00.
Warning: Vehicle 'veh11309' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4540.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is empty at time 4560 - no traffic light states generated
Warning: Vehicle 'veh11146' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4562.00.
Warning: Vehicle 'veh11060' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4562.00.
Warning: Vehicle 'veh11060' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-15.22, offset=4.03), time=4562.00.
Warning: Vehicle 'veh11352' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4579.00.
Warning: Vehicle 'veh11193' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4588.00.
Warning: Teleporting vehicle 'veh11193'; collision with vehicle 'veh11239', lane='E_GOR_W_NMR_H_s_1', gap=-1.21, time=4588.00, stage=move.
Warning: Vehicle 'veh11193' ends teleporting on edge 'E_PNK_W_WZM_T', time=4588.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is empty at time 4590 - no traffic light states generated
INFO:TrafficSimulator:Step 4600: 678 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is empty at time 4620 - no traffic light states generated
Warning: Vehicle 'veh11516' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=4626.00.
Warning: Vehicle 'veh11516' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-9.78, offset=0.16), time=4626.00.
Warning: Teleporting vehicle 'veh11214'; collision with vehicle 'veh11140', lane='E_GOR_W_NMR_H_s_1', gap=-6.09, time=4630.00, stage=move.
Warning: Teleporting vehicle 'veh11303'; collision with vehicle 'veh11178', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=4633.00, stage=move.
Warning: Vehicle 'veh11214' ends teleporting on edge 'E_PNK_W_WZM', time=4633.00.
Warning: Vehicle 'veh11303' ends teleporting on edge 'E_PNK_W_WZM', time=4636.00.
Warning: Vehicle 'veh11564' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4638.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is empty at time 4650 - no traffic light states generated
Warning: Vehicle 'veh11258' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4652.00.
Warning: Vehicle 'veh11258' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.08, offset=3.68), time=4652.00.
Warning: Vehicle 'veh11597' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4653.00.
Warning: Vehicle 'veh11597' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-23.80, offset=12.51), time=4653.00.
Warning: Vehicle 'veh11595' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4653.00.
Warning: Vehicle 'veh11595' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.80, offset=7.99), time=4653.00.
Warning: Vehicle 'veh11482' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4663.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is empty at time 4680 - no traffic light states generated
INFO:TrafficSimulator:Step 4700: 673 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is empty at time 4710 - no traffic light states generated
Warning: Teleporting vehicle 'veh11436'; collision with vehicle 'veh11464', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=4723.00, stage=move.
Warning: Vehicle 'veh11436' ends teleporting on edge 'E_PNK_W_WZM', time=4726.00.
Warning: Vehicle 'veh11362' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4735.00.
Warning: Vehicle 'veh11362' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-15.60, offset=5.47), time=4735.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is empty at time 4740 - no traffic light states generated
Warning: Teleporting vehicle 'veh11699'; collision with vehicle 'veh11680', lane='E_GOR_W_NMR_H_s_1', gap=-4.30, time=4766.00, stage=move.
Warning: Vehicle 'veh11699' ends teleporting on edge 'E_PNK_W_WZM_T', time=4766.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is empty at time 4770 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is empty at time 4800 - no traffic light states generated
INFO:TrafficSimulator:Step 4800: 640 vehicles active
Warning: Teleporting vehicle 'veh11739'; collision with vehicle 'veh11721', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=4818.00, stage=move.
Warning: Vehicle 'veh11739' ends teleporting on edge 'E_PNK_W_WZM', time=4821.00.
Warning: Teleporting vehicle 'veh11731'; collision with vehicle 'veh11770', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=4822.00, stage=move.
Warning: Teleporting vehicle 'veh11729'; collision with vehicle 'veh11818', lane='E_GOR_W_NMR_H_s_1', gap=-5.70, time=4824.00, stage=move.
Warning: Vehicle 'veh11731' ends teleporting on edge 'E_PNK_W_WZM', time=4825.00.
Warning: Vehicle 'veh11729' ends teleporting on edge 'E_PNK_W_WZM_T', time=4826.00.
Warning: Vehicle 'veh12068' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4829.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is empty at time 4830 - no traffic light states generated
Warning: Vehicle 'veh11721' performs emergency braking on lane ':J_NMR_PNK_2_0' with decel=9.00, wished=4.50, severity=1.00, time=4830.00.
Warning: Vehicle 'veh10765' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4832.00.
Warning: Vehicle 'veh10765' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-11.67, offset=0.70), time=4833.00.
Warning: Teleporting vehicle 'veh11788'; collision with vehicle 'veh10765', lane='E_GOR_E_AYA_H_s_1', gap=-0.90, time=4833.00, stage=move.
Warning: Vehicle 'veh11788' ends teleporting on edge 'E_HLC_E_AYA', time=4833.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is empty at time 4860 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is empty at time 4890 - no traffic light states generated
INFO:TrafficSimulator:Step 4900: 627 vehicles active
Warning: Teleporting vehicle 'veh12076'; collision with vehicle 'veh12093', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=4902.00, stage=move.
Warning: Vehicle 'veh12076' ends teleporting on edge 'E_PNK_W_WZM_T', time=4902.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is empty at time 4920 - no traffic light states generated
Warning: Vehicle 'veh11212' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4940.00.
Warning: Vehicle 'veh11212' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-13.44, offset=0.44), time=4940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is empty at time 4950 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is empty at time 4980 - no traffic light states generated
Warning: Vehicle 'veh12265' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4997.00.
INFO:TrafficSimulator:Step 5000: 646 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is empty at time 5010 - no traffic light states generated
Warning: Vehicle 'veh12223' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5011.00.
Warning: Vehicle 'veh12223' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.70, offset=5.78), time=5011.00.
Warning: Vehicle 'veh12341' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5032.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is empty at time 5040 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is empty at time 5070 - no traffic light states generated
Warning: Teleporting vehicle 'veh12522'; collision with vehicle 'veh12399', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=5076.00, stage=move.
Warning: Vehicle 'veh12522' ends teleporting on edge 'E_PNK_W_WZM', time=5079.00.
Warning: Teleporting vehicle 'veh12478'; collision with vehicle 'veh12495', lane='E_GOR_W_NMR_H_s_1', gap=-6.53, time=5083.00, stage=move.
Warning: Vehicle 'veh12478' ends teleporting on edge 'E_PNK_W_WZM', time=5086.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is empty at time 5100 - no traffic light states generated
INFO:TrafficSimulator:Step 5100: 675 vehicles active
Warning: Vehicle 'veh12390' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5101.00.
Warning: Vehicle 'veh12390' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.30, offset=1.19), time=5101.00.
Warning: Vehicle 'veh12611' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5102.00.
Warning: Vehicle 'veh12611' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.08, offset=3.37), time=5102.00.
Warning: Vehicle 'veh12501' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5102.00.
Warning: Vehicle 'veh12501' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.06, offset=2.04), time=5102.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is empty at time 5130 - no traffic light states generated
Warning: Vehicle 'veh12704' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5132.00.
Warning: Teleporting vehicle 'veh12704'; collision with vehicle 'veh12760', lane='E_GOR_W_NMR_H_s_1', gap=-1.28, time=5132.00, stage=move.
Warning: Vehicle 'veh12704' ends teleporting on edge 'E_PNK_W_WZM_T', time=5132.00.
Warning: Teleporting vehicle 'veh12726'; collision with vehicle 'veh12783', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=5134.00, stage=move.
Warning: Vehicle 'veh12726' ends teleporting on edge 'E_PNK_W_WZM_T', time=5134.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is empty at time 5160 - no traffic light states generated
Warning: Teleporting vehicle 'veh12807'; collision with vehicle 'veh12576', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=5166.00, stage=move.
Warning: Vehicle 'veh12807' ends teleporting on edge 'E_PNK_W_WZM_T', time=5166.00.
Warning: Teleporting vehicle 'veh12742'; collision with vehicle 'veh12745', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=5177.00, stage=move.
Warning: Vehicle 'veh12742' ends teleporting on edge 'E_PNK_W_WZM_T', time=5177.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is empty at time 5190 - no traffic light states generated
Warning: Vehicle 'veh5137' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5192.00.
Warning: Vehicle 'veh12149' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5193.00.
Warning: Vehicle 'veh12149' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-11.50, offset=0.58), time=5193.00.
INFO:TrafficSimulator:Step 5200: 674 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is empty at time 5220 - no traffic light states generated
Warning: Vehicle 'veh12930' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5220.00.
Warning: Teleporting vehicle 'veh12930'; collision with vehicle 'veh12964', lane='E_GOR_W_NMR_H_s_1', gap=-2.10, time=5220.00, stage=move.
Warning: Vehicle 'veh12930' ends teleporting on edge 'E_PNK_W_WZM_T', time=5220.00.
Warning: Vehicle 'veh12967' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5224.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is empty at time 5250 - no traffic light states generated
Warning: Teleporting vehicle 'veh12849'; collision with vehicle 'veh12967', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=5251.00, stage=move.
Warning: Teleporting vehicle 'veh13035'; collision with vehicle 'veh13015', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=5254.00, stage=move.
Warning: Vehicle 'veh12849' ends teleporting on edge 'E_PNK_W_WZM', time=5254.00.
Warning: Vehicle 'veh13035' ends teleporting on edge 'E_PNK_W_WZM_T', time=5254.00.
Warning: Teleporting vehicle 'veh13016'; collision with vehicle 'veh13032', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=5256.00, stage=move.
Warning: Vehicle 'veh13016' ends teleporting on edge 'E_PNK_W_WZM_T', time=5256.00.
Warning: Vehicle 'veh12667' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=5261.00.
Warning: Vehicle 'veh12637' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=5269.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is empty at time 5280 - no traffic light states generated
INFO:TrafficSimulator:Step 5300: 680 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is empty at time 5310 - no traffic light states generated
Warning: Vehicle 'veh6476' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5331.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is empty at time 5340 - no traffic light states generated
Warning: Teleporting vehicle 'veh13249'; collision with vehicle 'veh13269', lane='E_GOR_W_NMR_H_s_1', gap=-6.40, time=5343.00, stage=move.
Warning: Vehicle 'veh13249' ends teleporting on edge 'E_PNK_W_WZM_T', time=5343.00.
Warning: Teleporting vehicle 'veh13182'; junction collision with vehicle 'veh13285', lane=':J_NMR_PNK_2_0', gap=-0.27, time=5345.00, stage=move.
Warning: Teleporting vehicle 'veh13142'; collision with vehicle 'veh13107', lane='E_GOR_W_NMR_H_s_1', gap=-1.89, time=5346.00, stage=move.
Warning: Vehicle 'veh13142' ends teleporting on edge 'E_PNK_W_WZM_T', time=5346.00.
Warning: Vehicle 'veh13182' ends teleporting on edge 'E_PNK_W_WZM', time=5348.00.
Warning: Vehicle 'veh12967' performs emergency braking on lane 'E_PNK_W_WZM_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5363.00.
Warning: Vehicle 'veh13155' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=5368.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is empty at time 5370 - no traffic light states generated
Warning: Vehicle 'veh13143' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5371.00.
Warning: Vehicle 'veh13143' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-15.82, offset=2.91), time=5371.00.
Warning: Vehicle 'veh13287' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5372.00.
Warning: Vehicle 'veh13287' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-9.74, offset=0.44), time=5373.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is empty at time 5400 - no traffic light states generated
Warning: Vehicle 'veh13600' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
Warning: Vehicle 'veh13600' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.92, offset=2.41), time=5400.00.
INFO:TrafficSimulator:Step 5400: 705 vehicles active
Warning: Teleporting vehicle 'veh13328'; collision with vehicle 'veh13346', lane='E_GOR_W_NMR_H_s_1', gap=-5.47, time=5407.00, stage=move.
Warning: Vehicle 'veh13328' ends teleporting on edge 'E_PNK_W_WZM_T', time=5407.00.
Warning: Vehicle 'veh13394' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5410.00.
Warning: Teleporting vehicle 'veh13386'; collision with vehicle 'veh13394', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=5423.00, stage=move.
Warning: Vehicle 'veh13386' ends teleporting on edge 'E_PNK_W_WZM_T', time=5424.00.
Warning: Teleporting vehicle 'veh13466'; collision with vehicle 'veh13425', lane='E_GOR_W_NMR_H_s_1', gap=-2.04, time=5426.00, stage=move.
Warning: Vehicle 'veh13365' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5429.00.
Warning: Vehicle 'veh13466' ends teleporting on edge 'E_PNK_W_WZM', time=5429.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is empty at time 5430 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is empty at time 5460 - no traffic light states generated
Warning: Vehicle 'veh13780' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5463.00.
Warning: Vehicle 'veh13780' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-20.94, offset=9.20), time=5463.00.
Warning: Teleporting vehicle 'veh13557'; collision with vehicle 'veh13539', lane='E_GOR_W_NMR_H_s_1', gap=-2.42, time=5483.00, stage=move.
Warning: Vehicle 'veh13557' ends teleporting on edge 'E_PNK_W_WZM_T', time=5483.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is empty at time 5490 - no traffic light states generated
INFO:TrafficSimulator:Step 5500: 724 vehicles active
Warning: Teleporting vehicle 'veh13743'; collision with vehicle 'veh13733', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=5517.00, stage=move.
Warning: Vehicle 'veh13743' ends teleporting on edge 'E_PNK_W_WZM_T', time=5517.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is empty at time 5520 - no traffic light states generated
Warning: Teleporting vehicle 'veh13592'; collision with vehicle 'veh13727', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=5521.00, stage=move.
Warning: Vehicle 'veh13592' ends teleporting on edge 'E_PNK_W_WZM', time=5524.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is empty at time 5550 - no traffic light states generated
Warning: Vehicle 'veh13702' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5552.00.
Warning: Vehicle 'veh13702' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-22.03, offset=10.18), time=5552.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is empty at time 5580 - no traffic light states generated
Warning: Vehicle 'veh13932' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5583.00.
INFO:TrafficSimulator:Step 5600: 741 vehicles active
Warning: Teleporting vehicle 'veh13908'; collision with vehicle 'veh13801', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=5603.00, stage=move.
Warning: Vehicle 'veh13908' ends teleporting on edge 'E_PNK_W_WZM_T', time=5605.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is empty at time 5610 - no traffic light states generated
Warning: Vehicle 'veh13789' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5614.00.
Warning: Vehicle 'veh13613' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5616.00.
Warning: Vehicle 'veh13613' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-11.66, offset=2.25), time=5616.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is empty at time 5640 - no traffic light states generated
Warning: Vehicle 'veh13794' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5641.00.
Warning: Vehicle 'veh13794' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.11, offset=7.55), time=5641.00.
Warning: Vehicle 'veh14317' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5659.00.
Warning: Vehicle 'veh14317' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-10.50, offset=0.26), time=5660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is empty at time 5670 - no traffic light states generated
Warning: Vehicle 'veh14274' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5695.00.
Warning: Vehicle 'veh14274' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-15.71, offset=5.61), time=5695.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is empty at time 5700 - no traffic light states generated
INFO:TrafficSimulator:Step 5700: 725 vehicles active
Warning: Vehicle 'veh14257' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5705.00.
Warning: Vehicle 'veh14145' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5713.00.
Warning: Vehicle 'veh14145' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-14.27, offset=1.45), time=5713.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is empty at time 5730 - no traffic light states generated
Warning: Vehicle 'veh14062' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5731.00.
Warning: Vehicle 'veh14062' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.79, offset=4.14), time=5731.00.
Warning: Vehicle 'veh14386' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5732.00.
Warning: Teleporting vehicle 'veh14317'; collision with vehicle 'veh14313', lane='E_GOR_W_NMR_H_s_1', gap=-6.23, time=5752.00, stage=move.
Warning: Vehicle 'veh14317' ends teleporting on edge 'E_PNK_W_WZM_T', time=5752.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is empty at time 5760 - no traffic light states generated
Warning: Vehicle 'veh14601' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh14601' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.02, offset=3.39), time=5760.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is empty at time 5790 - no traffic light states generated
Warning: Vehicle 'veh14445' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5791.00.
Warning: Vehicle 'veh14445' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-18.54, offset=8.97), time=5791.00.
Warning: Teleporting vehicle 'veh14321'; collision with vehicle 'veh14476', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=5797.00, stage=move.
Warning: Vehicle 'veh14321' ends teleporting on edge 'E_PNK_W_WZM_T', time=5799.00.
INFO:TrafficSimulator:Step 5800: 732 vehicles active
Warning: Teleporting vehicle 'veh14515'; collision with vehicle 'veh14686', lane='E_GOR_W_NMR_H_s_1', gap=-3.90, time=5808.00, stage=move.
Warning: Vehicle 'veh14515' ends teleporting on edge 'E_PNK_W_WZM_T', time=5810.00.
Warning: Vehicle 'veh14451' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5812.00.
Warning: Vehicle 'veh14451' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.20, offset=2.55), time=5812.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is empty at time 5820 - no traffic light states generated
Warning: Teleporting vehicle 'veh14587'; collision with vehicle 'veh14580', lane='E_GOR_W_NMR_H_s_1', gap=-1.30, time=5844.00, stage=move.
Warning: Vehicle 'veh14587' ends teleporting on edge 'E_PNK_W_WZM_T', time=5844.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is empty at time 5850 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is empty at time 5880 - no traffic light states generated
Warning: Vehicle 'veh14905' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5884.00.
Warning: Teleporting vehicle 'veh14785'; collision with vehicle 'veh14773', lane='E_GOR_W_NMR_H_s_1', gap=-6.60, time=5896.00, stage=move.
Warning: Teleporting vehicle 'veh14885'; collision with vehicle 'veh14806', lane='E_GOR_W_NMR_H_s_1', gap=-5.91, time=5898.00, stage=move.
Warning: Vehicle 'veh14785' ends teleporting on edge 'E_PNK_W_WZM', time=5899.00.
INFO:TrafficSimulator:Step 5900: 713 vehicles active
Warning: Vehicle 'veh14885' ends teleporting on edge 'E_PNK_W_WZM', time=5901.00.
Warning: Vehicle 'veh14226' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=5902.00.
Warning: Vehicle 'veh14226' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-9.14, offset=0.08), time=5902.00.
Warning: Vehicle 'veh15083' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5903.00.
Warning: Vehicle 'veh15083' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-15.69, offset=2.35), time=5903.00.
Warning: Vehicle 'veh14546' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5903.00.
Warning: Vehicle 'veh14546' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.36, offset=3.72), time=5903.00.
Warning: Vehicle 'veh14636' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5903.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is empty at time 5910 - no traffic light states generated
Warning: Vehicle 'veh6995' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5913.00.
Warning: Vehicle 'veh6995' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-20.38, offset=8.24), time=5913.00.
Warning: Vehicle 'veh15098' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5913.00.
Warning: Vehicle 'veh15098' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.78, offset=4.22), time=5913.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is empty at time 5940 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is empty at time 5970 - no traffic light states generated
Warning: Teleporting vehicle 'veh15066'; collision with vehicle 'veh14985', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=5977.00, stage=move.
Warning: Vehicle 'veh15066' ends teleporting on edge 'E_PNK_W_WZM_T', time=5977.00.
Warning: Teleporting vehicle 'veh15099'; collision with vehicle 'veh14980', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=5986.00, stage=move.
Warning: Vehicle 'veh15099' ends teleporting on edge 'E_PNK_W_WZM_T', time=5986.00.
Warning: Vehicle 'veh15349' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5997.00.
Warning: Vehicle 'veh15349' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-15.70, offset=4.06), time=5997.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is empty at time 6000 - no traffic light states generated
INFO:TrafficSimulator:Step 6000: 698 vehicles active
Warning: Teleporting vehicle 'veh15162'; collision with vehicle 'veh15210', lane='E_GOR_W_NMR_H_s_1', gap=-4.70, time=6028.00, stage=move.
Warning: Vehicle 'veh15162' ends teleporting on edge 'E_PNK_W_WZM_T', time=6028.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is empty at time 6030 - no traffic light states generated
Warning: Vehicle 'veh15335' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6056.00.
Warning: Vehicle 'veh15335' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-16.98, offset=4.56), time=6056.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is empty at time 6060 - no traffic light states generated
Warning: Teleporting vehicle 'veh15163'; collision with vehicle 'veh15218', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=6062.00, stage=move.
Warning: Vehicle 'veh15163' ends teleporting on edge 'E_PNK_W_WZM_T', time=6063.00.
Warning: Teleporting vehicle 'veh15330'; collision with vehicle 'veh15189', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=6067.00, stage=move.
Warning: Vehicle 'veh15330' ends teleporting on edge 'E_PNK_W_WZM', time=6071.00.
Warning: Teleporting vehicle 'veh15340'; collision with vehicle 'veh15272', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=6072.00, stage=move.
Warning: Vehicle 'veh15340' ends teleporting on edge 'E_PNK_W_WZM_T', time=6074.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is empty at time 6090 - no traffic light states generated
Warning: Vehicle 'veh15181' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6091.00.
Warning: Vehicle 'veh15181' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.64, offset=0.88), time=6091.00.
Warning: Vehicle 'veh15344' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6092.00.
INFO:TrafficSimulator:Step 6100: 701 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is empty at time 6120 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is empty at time 6150 - no traffic light states generated
Warning: Teleporting vehicle 'veh15400'; collision with vehicle 'veh15363', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=6154.00, stage=move.
Warning: Teleporting vehicle 'veh15496'; collision with vehicle 'veh15558', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=6157.00, stage=move.
Warning: Vehicle 'veh15400' ends teleporting on edge 'E_PNK_W_WZM', time=6157.00.
Warning: Vehicle 'veh15496' ends teleporting on edge 'E_PNK_W_WZM_T', time=6157.00.
Warning: Teleporting vehicle 'veh14818'; collision with vehicle 'veh14864', lane='E_WZM_N_YMK_T_0', gap=-1.59, time=6158.00, stage=move.
Warning: Vehicle 'veh14818' ends teleporting on edge 'E_WZM_N_YMK', time=6158.00.
Warning: Teleporting vehicle 'veh15640'; collision with vehicle 'veh15514', lane='E_GOR_W_NMR_H_s_1', gap=-2.85, time=6164.00, stage=move.
Warning: Teleporting vehicle 'veh15612'; collision with vehicle 'veh15665', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=6166.00, stage=move.
Warning: Vehicle 'veh15612' ends teleporting on edge 'E_PNK_W_WZM_T', time=6166.00.
Warning: Vehicle 'veh15589' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6167.00.
Warning: Vehicle 'veh15589' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.83, offset=7.40), time=6167.00.
Warning: Vehicle 'veh15421' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6167.00.
Warning: Vehicle 'veh15421' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.24, offset=2.88), time=6167.00.
Warning: Vehicle 'veh15640' ends teleporting on edge 'E_PNK_W_WZM', time=6167.00.
Warning: Vehicle 'veh15165' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6177.00.
Warning: Vehicle 'veh15165' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-12.81, offset=1.21), time=6177.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is empty at time 6180 - no traffic light states generated
Warning: Vehicle 'veh15520' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6181.00.
Warning: Vehicle 'veh15520' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.64, offset=6.90), time=6181.00.
INFO:TrafficSimulator:Step 6200: 729 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is empty at time 6210 - no traffic light states generated
Warning: Teleporting vehicle 'veh15784'; collision with vehicle 'veh15786', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=6214.00, stage=move.
Warning: Vehicle 'veh15784' ends teleporting on edge 'E_PNK_W_WZM_T', time=6214.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is empty at time 6240 - no traffic light states generated
Warning: Vehicle 'veh16118' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6252.00.
Warning: Teleporting vehicle 'veh15661'; collision with vehicle 'veh15814', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=6252.00, stage=move.
Warning: Vehicle 'veh15661' ends teleporting on edge 'E_PNK_W_WZM_T', time=6252.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is empty at time 6270 - no traffic light states generated
Warning: Vehicle 'veh15571' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6277.00.
Warning: Vehicle 'veh15571' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.12, offset=3.81), time=6277.00.
Warning: Teleporting vehicle 'veh15918'; collision with vehicle 'veh15970', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=6296.00, stage=move.
Warning: Vehicle 'veh15918' ends teleporting on edge 'E_PNK_W_WZM_T', time=6296.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is empty at time 6300 - no traffic light states generated
Warning: Vehicle 'veh5907' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6300.00.
Warning: Vehicle 'veh5907' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.42, offset=4.29), time=6300.00.
INFO:TrafficSimulator:Step 6300: 747 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is empty at time 6330 - no traffic light states generated
Warning: Vehicle 'veh16400' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6359.00.
Warning: Vehicle 'veh16400' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-21.34, offset=4.65), time=6359.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is empty at time 6360 - no traffic light states generated
Warning: Vehicle 'veh16236' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6371.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is empty at time 6390 - no traffic light states generated
Warning: Vehicle 'veh16315' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16315' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.64, offset=3.36), time=6390.00.
Warning: Vehicle 'veh16509' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh9740' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh9740' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-11.91, offset=2.37), time=6390.00.
INFO:TrafficSimulator:Step 6400: 757 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is empty at time 6420 - no traffic light states generated
Warning: Vehicle 'veh16654' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6441.00.
Warning: Vehicle 'veh16654' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-20.51, offset=0.44), time=6441.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is empty at time 6450 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is empty at time 6480 - no traffic light states generated
INFO:TrafficSimulator:Step 6500: 749 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is empty at time 6510 - no traffic light states generated
Warning: Vehicle 'veh16731' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6517.00.
Warning: Vehicle 'veh16646' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6531.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is empty at time 6540 - no traffic light states generated
Warning: Vehicle 'veh16318' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6542.00.
Warning: Vehicle 'veh9708' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6544.00.
Warning: Vehicle 'veh9708' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.38, offset=5.23), time=6544.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is empty at time 6570 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is empty at time 6600 - no traffic light states generated
INFO:TrafficSimulator:Step 6600: 740 vehicles active
Warning: Teleporting vehicle 'veh16878'; collision with vehicle 'veh16890', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=6609.00, stage=move.
Warning: Vehicle 'veh16878' ends teleporting on edge 'E_PNK_W_WZM_T', time=6610.00.
Warning: Vehicle 'veh16844' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6614.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is empty at time 6630 - no traffic light states generated
Warning: Vehicle 'veh16657' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6632.00.
Warning: Vehicle 'veh16657' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.63, offset=2.17), time=6632.00.
Warning: Vehicle 'veh16799' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6636.00.
Warning: Vehicle 'veh16799' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.14, offset=7.29), time=6636.00.
Warning: Vehicle 'veh17187' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=6638.00.
Warning: Vehicle 'veh17187' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-12.89, offset=0.30), time=6638.00.
Warning: Vehicle 'veh17008' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6644.00.
Warning: Vehicle 'veh17008' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.90, offset=4.69), time=6644.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is empty at time 6660 - no traffic light states generated
Warning: Vehicle 'veh6453' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh6453' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.30, offset=3.48), time=6660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is empty at time 6690 - no traffic light states generated
Warning: Vehicle 'veh17242' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6692.00.
Warning: Vehicle 'veh17242' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.16, offset=7.37), time=6692.00.
INFO:TrafficSimulator:Step 6700: 733 vehicles active
Warning: Vehicle 'veh17147' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6704.00.
Warning: Vehicle 'veh17147' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.92, offset=0.54), time=6704.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is empty at time 6720 - no traffic light states generated
Warning: Vehicle 'veh6434' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6726.00.
Warning: Vehicle 'veh6434' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.60, offset=3.79), time=6726.00.
Warning: Vehicle 'veh17436' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=6728.00.
Warning: Vehicle 'veh17436' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-12.40, offset=2.79), time=6728.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is empty at time 6750 - no traffic light states generated
Warning: Vehicle 'veh17315' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6766.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is empty at time 6780 - no traffic light states generated
Warning: Vehicle 'veh6173' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6787.00.
Warning: Vehicle 'veh6173' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.17, offset=2.30), time=6787.00.
INFO:TrafficSimulator:Step 6800: 709 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is empty at time 6810 - no traffic light states generated
Warning: Vehicle 'veh17327' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6812.00.
Warning: Vehicle 'veh17327' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.52, offset=0.48), time=6812.00.
Warning: Vehicle 'veh17698' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=6819.00.
Warning: Teleporting vehicle 'veh17493'; collision with vehicle 'veh17499', lane='E_GOR_W_NMR_H_s_1', gap=-3.00, time=6836.00, stage=move.
Warning: Vehicle 'veh17493' ends teleporting on edge 'E_PNK_W_WZM_T', time=6836.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is empty at time 6840 - no traffic light states generated
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is empty at time 6870 - no traffic light states generated
Warning: Teleporting vehicle 'veh17636'; collision with vehicle 'veh17672', lane='E_GOR_W_NMR_H_s_1', gap=-6.41, time=6876.00, stage=move.
Warning: Vehicle 'veh17636' ends teleporting on edge 'E_PNK_W_WZM', time=6879.00.
Warning: Vehicle 'veh17881' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6881.00.
Warning: Vehicle 'veh17881' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.78, offset=7.26), time=6881.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is empty at time 6900 - no traffic light states generated
INFO:TrafficSimulator:Step 6900: 694 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is empty at time 6930 - no traffic light states generated
Warning: Vehicle 'veh17732' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6945.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is empty at time 6960 - no traffic light states generated
Warning: Vehicle 'veh18120' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=6967.00.
Warning: Vehicle 'veh18120' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-10.10, offset=0.37), time=6967.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is empty at time 6990 - no traffic light states generated
Warning: Vehicle 'veh18168' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6991.00.
Warning: Vehicle 'veh17755' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6996.00.
INFO:TrafficSimulator:Step 7000: 681 vehicles active
Warning: Vehicle 'veh18134' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7009.00.
Warning: Vehicle 'veh18134' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-11.00, offset=1.03), time=7009.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is empty at time 7020 - no traffic light states generated
Warning: Vehicle 'veh8010' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7042.00.
Warning: Vehicle 'veh8010' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.91, offset=7.76), time=7042.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is empty at time 7050 - no traffic light states generated
Warning: Vehicle 'veh18356' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh17985' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh17985' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.45, offset=1.27), time=7050.00.
Warning: Vehicle 'veh18338' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh18338' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.14, offset=0.66), time=7050.00.
Warning: Teleporting vehicle 'veh17943'; collision with vehicle 'veh18062', lane='E_GOR_W_NMR_H_s_1', gap=-5.56, time=7051.00, stage=move.
Warning: Vehicle 'veh17943' ends teleporting on edge 'E_PNK_W_WZM_T', time=7052.00.
Warning: Vehicle 'veh18159' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=7059.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is empty at time 7080 - no traffic light states generated
Warning: Vehicle 'veh18143' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7082.00.
Warning: Vehicle 'veh18143' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.82, offset=5.97), time=7082.00.
Warning: Vehicle 'veh18206' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7086.00.
Warning: Vehicle 'veh18392' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7099.00.
Warning: Vehicle 'veh18392' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-12.99, offset=3.47), time=7099.00.
INFO:TrafficSimulator:Step 7100: 689 vehicles active
Warning: Teleporting vehicle 'veh18209'; collision with vehicle 'veh18134', lane='E_GOR_W_NMR_H_s_1', gap=-3.56, time=7104.00, stage=move.
Warning: Vehicle 'veh18209' ends teleporting on edge 'E_PNK_W_WZM_T', time=7104.00.
Warning: Teleporting vehicle 'veh18222'; collision with vehicle 'veh18228', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=7108.00, stage=move.
Warning: Vehicle 'veh18222' ends teleporting on edge 'E_PNK_W_WZM_T', time=7108.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is empty at time 7110 - no traffic light states generated
Warning: Teleporting vehicle 'veh18270'; collision with vehicle 'veh18305', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=7111.00, stage=move.
Warning: Vehicle 'veh18270' ends teleporting on edge 'E_PNK_W_WZM_T', time=7111.00.
Warning: Teleporting vehicle 'veh18294'; collision with vehicle 'veh18331', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=7137.00, stage=move.
Warning: Vehicle 'veh18604' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7138.00.
Warning: Vehicle 'veh18604' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.77, offset=2.03), time=7138.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is empty at time 7140 - no traffic light states generated
Warning: Vehicle 'veh18294' ends teleporting on edge 'E_PNK_W_WZM', time=7140.00.
Warning: Teleporting vehicle 'veh18377'; junction collision with vehicle 'veh18331', lane=':J_NMR_PNK_2_0', gap=-0.04, time=7144.00, stage=move.
Warning: Vehicle 'veh18377' ends teleporting on edge 'E_PNK_W_WZM_T', time=7144.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is empty at time 7170 - no traffic light states generated
Warning: Vehicle 'veh18409' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7172.00.
Warning: Vehicle 'veh18409' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-12.16, offset=2.83), time=7173.00.
Warning: Vehicle 'veh18195' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7176.00.
Warning: Vehicle 'veh18195' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.50, offset=5.01), time=7176.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is empty at time 7200 - no traffic light states generated
INFO:TrafficSimulator:Step 7200: 690 vehicles active
Warning: Teleporting vehicle 'veh18519'; collision with vehicle 'veh18630', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=7227.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is empty at time 7230 - no traffic light states generated
Warning: Vehicle 'veh18519' ends teleporting on edge 'E_PNK_W_WZM', time=7230.00.
Warning: Vehicle 'veh18660' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=7234.00.
Warning: Vehicle 'veh18660' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.17, offset=7.71), time=7234.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is empty at time 7260 - no traffic light states generated
Warning: Vehicle 'veh18548' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7262.00.
Warning: Vehicle 'veh18548' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-20.34, offset=3.14), time=7262.00.
Warning: Vehicle 'veh10719' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7266.00.
Warning: Vehicle 'veh10719' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.39, offset=6.78), time=7266.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is empty at time 7290 - no traffic light states generated
INFO:TrafficSimulator:=== SIMULATION COMPLETED ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Vehicles still running: 494
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TrafficSimulator:Detailed statistics will be provided by SUMO output below:
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16202
INFO:TreeMethodController:Vehicle total time: 4391310
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16202
INFO:TreeMethodController:Tree Method - Total driving time: 4391310
INFO:TreeMethodController:Tree Method - Average duration: 271.04 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16202
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 75.85s
 TraCI-Duration: 54.45s
 Real time factor: 96.2426
 UPS: 59947.079763
Vehicles:
 Inserted: 16642 (Loaded: 18825)
 Running: 494
 Waiting: 2183
 Teleports: 121 (Collisions: 120, Yield: 1)
 Emergency Stops: 170
 Emergency Braking: 281
Statistics (avg of 16148):
 RouteLength: 1456.18
 Speed: 7.09
 Duration: 271.96
 WaitingTime: 113.13
 TimeLoss: 166.49
 DepartDelay: 132.07
DijkstraRouter answered 98000 queries and explored 22.53 edges on average.
DijkstraRouter spent 0.13s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:__main__:Pipeline execution completed successfully
