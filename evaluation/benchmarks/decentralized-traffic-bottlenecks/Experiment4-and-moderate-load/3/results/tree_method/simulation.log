INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment4-and-moderate-load/3
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 50738 ***
Loading net-file from 'workspace/grid.net.xml' ... done (28ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 1 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
Warning: Vehicle 'veh97' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh97' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.93, offset=1.00), time=90.00.
INFO:TrafficSimulator:Step 100: 201 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh210' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=120.00.
Warning: Vehicle 'veh210' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-12.76, offset=1.37), time=120.00.
Warning: Vehicle 'veh218' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh218' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.83, offset=3.15), time=125.00.
Warning: Vehicle 'veh6' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh6' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-10.04, offset=0.46), time=130.00.
Warning: Teleporting vehicle 'veh27'; collision with vehicle 'veh88', lane='E_GOR_W_NMR_H_s_1', gap=-5.70, time=131.00, stage=move.
Warning: Vehicle 'veh27' ends teleporting on edge 'E_PNK_W_WZM', time=134.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh203' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh203' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-21.42, offset=4.30), time=150.00.
Warning: Vehicle 'veh288' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh288' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-21.36, offset=2.17), time=150.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 377 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh238'; collision with vehicle 'veh282', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=222.00, stage=move.
Warning: Vehicle 'veh238' ends teleporting on edge 'E_PNK_W_WZM', time=225.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh293' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh293' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.78, offset=9.00), time=240.00.
Warning: Vehicle 'veh259' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh259' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-13.08, offset=3.42), time=240.00.
Warning: Vehicle 'veh426' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=241.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Vehicle 'veh340' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=270.00.
Warning: Vehicle 'veh340' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-20.32, offset=2.39), time=270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
Warning: Vehicle 'veh635' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=300.00.
Warning: Vehicle 'veh635' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-11.10, offset=0.90), time=300.00.
INFO:TrafficSimulator:Step 300: 442 vehicles active
Warning: Teleporting vehicle 'veh539'; collision with vehicle 'veh420', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=313.00, stage=move.
Warning: Vehicle 'veh539' ends teleporting on edge 'E_PNK_W_WZM', time=316.00.
Warning: Teleporting vehicle 'veh581'; collision with vehicle 'veh569', lane='E_GOR_W_NMR_H_s_1', gap=-5.58, time=318.00, stage=move.
Warning: Vehicle 'veh581' ends teleporting on edge 'E_PNK_W_WZM_T', time=318.00.
Warning: Vehicle 'veh382' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh567' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh493' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh493' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-15.16, offset=1.74), time=330.00.
Warning: Vehicle 'veh517' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh517' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.25, offset=3.70), time=330.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
Warning: Vehicle 'veh578' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
Warning: Vehicle 'veh578' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-18.78, offset=6.98), time=360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh689' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
INFO:TrafficSimulator:Step 400: 491 vehicles active
Warning: Teleporting vehicle 'veh669'; collision with vehicle 'veh675', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=401.00, stage=move.
Warning: Vehicle 'veh669' ends teleporting on edge 'E_PNK_W_WZM', time=404.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh875' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh875' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-12.36, offset=1.76), time=486.00.
Warning: Teleporting vehicle 'veh872'; collision with vehicle 'veh874', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=491.00, stage=move.
Warning: Teleporting vehicle 'veh938'; collision with vehicle 'veh901', lane='E_GOR_W_NMR_H_s_1', gap=-5.85, time=494.00, stage=move.
Warning: Vehicle 'veh872' ends teleporting on edge 'E_PNK_W_WZM', time=494.00.
Warning: Vehicle 'veh938' ends teleporting on edge 'E_PNK_W_WZM', time=497.00.
INFO:TrafficSimulator:Step 500: 517 vehicles active
Warning: Vehicle 'veh424' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=505.00.
Warning: Vehicle 'veh424' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.30, offset=7.62), time=505.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1104' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1218' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1218' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.85, offset=2.49), time=575.00.
Warning: Teleporting vehicle 'veh1050'; collision with vehicle 'veh1047', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=578.00, stage=move.
Warning: Vehicle 'veh1050' ends teleporting on edge 'E_PNK_W_WZM_T', time=580.00.
Warning: Vehicle 'veh559' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=595.00.
Warning: Vehicle 'veh559' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.25, offset=3.36), time=595.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 536 vehicles active
Warning: Vehicle 'veh1293' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=605.00.
Warning: Vehicle 'veh1293' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.13, offset=8.14), time=605.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
Warning: Vehicle 'veh928' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=651.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1220'; collision with vehicle 'veh1309', lane='E_GOR_W_NMR_H_s_1', gap=-6.32, time=663.00, stage=move.
Warning: Vehicle 'veh1220' ends teleporting on edge 'E_PNK_W_WZM_T', time=664.00.
Warning: Vehicle 'veh1259' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=665.00.
Warning: Vehicle 'veh1183' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=667.00.
Warning: Vehicle 'veh1183' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.33, offset=2.56), time=667.00.
Warning: Vehicle 'veh1116' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=667.00.
Warning: Vehicle 'veh1116' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.35, offset=4.92), time=667.00.
Warning: Vehicle 'veh1485' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=672.00.
Warning: Vehicle 'veh1485' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-14.57, offset=3.40), time=672.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1314'; junction collision with vehicle 'veh1296', lane=':J_NMR_PNK_2_0', gap=-0.34, time=691.00, stage=move.
Warning: Vehicle 'veh1314' ends teleporting on edge 'E_PNK_W_WZM_T', time=691.00.
Warning: Vehicle 'veh1496' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=695.00.
Warning: Vehicle 'veh1496' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.98, offset=4.61), time=695.00.
Warning: Vehicle 'veh1472' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=698.00.
Warning: Vehicle 'veh1472' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.15, offset=7.15), time=698.00.
Warning: Vehicle 'veh1414' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=698.00.
Warning: Vehicle 'veh1414' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-11.61, offset=1.20), time=698.00.
INFO:TrafficSimulator:Step 700: 548 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1434' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=736.00.
Warning: Teleporting vehicle 'veh1455'; collision with vehicle 'veh1474', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=746.00, stage=move.
Warning: Vehicle 'veh1455' ends teleporting on edge 'E_PNK_W_WZM_T', time=746.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1361' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1361' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.21, offset=3.48), time=755.00.
Warning: Vehicle 'veh1550' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh801' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
Warning: Vehicle 'veh801' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-20.25, offset=2.49), time=780.00.
Warning: Vehicle 'veh1045' performs emergency braking on lane ':cluster_J11_J14_1_1' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
Warning: Vehicle 'veh1719' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
INFO:TrafficSimulator:Step 800: 575 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1472' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=832.00.
Warning: Vehicle 'veh1699' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=833.00.
Warning: Vehicle 'veh1699' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.21, offset=10.91), time=833.00.
Warning: Vehicle 'veh1753' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=833.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1852' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=840.00.
Warning: Vehicle 'veh1488' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=840.00.
Warning: Vehicle 'veh1488' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.96, offset=7.84), time=840.00.
Warning: Vehicle 'veh1644' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=841.00.
Warning: Teleporting vehicle 'veh1644'; collision with vehicle 'veh1488', lane='E_NMR_S_JBT_H_l_0', gap=-0.72, time=841.00, stage=move.
Warning: Vehicle 'veh1644' ends teleporting on edge 'E_DOR_E_T', time=841.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1120' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=870.00.
Warning: Vehicle 'veh1120' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-10.69, offset=0.40), time=871.00.
Warning: Vehicle 'veh1767' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=879.00.
Warning: Vehicle 'veh1767' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.48, offset=1.12), time=879.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
INFO:TrafficSimulator:Step 900: 542 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh2115' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=965.00.
Warning: Vehicle 'veh2099' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=972.00.
Warning: Vehicle 'veh2099' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-21.38, offset=6.64), time=972.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
Warning: Vehicle 'veh1301' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=990.00.
Warning: Vehicle 'veh1301' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-14.63, offset=0.03), time=990.00.
INFO:TrafficSimulator:Step 1000: 541 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2121' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1042.00.
Warning: Vehicle 'veh2121' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-10.89, offset=1.67), time=1043.00.
Warning: Vehicle 'veh2115' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1046.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
INFO:TrafficSimulator:Step 1100: 580 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2342' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1112.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 619 vehicles active
Warning: Teleporting vehicle 'veh2577'; collision with vehicle 'veh2533', lane='E_GOR_W_NMR_H_s_1', gap=-1.37, time=1208.00, stage=move.
Warning: Vehicle 'veh2577' ends teleporting on edge 'E_PNK_W_WZM_T', time=1210.00.
Warning: Vehicle 'veh2356' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1213.00.
Warning: Teleporting vehicle 'veh2617'; collision with vehicle 'veh2575', lane='E_GOR_W_NMR_H_s_1', gap=-1.28, time=1226.00, stage=move.
Warning: Vehicle 'veh2617' ends teleporting on edge 'E_PNK_W_WZM_T', time=1226.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2727' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1293.00.
INFO:TrafficSimulator:Step 1300: 633 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Vehicle 'veh3036' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1320.00.
Warning: Vehicle 'veh3036' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.13, offset=5.19), time=1320.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh2993' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Vehicle 'veh2993' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.77, offset=9.38), time=1385.00.
INFO:TrafficSimulator:Step 1400: 652 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh3150' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1471.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 643 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3259'; collision with vehicle 'veh3269', lane='E_GOR_W_NMR_H_s_1', gap=-5.40, time=1548.00, stage=move.
Warning: Vehicle 'veh3259' ends teleporting on edge 'E_PNK_W_WZM_T', time=1548.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh3672' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3430' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3430' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.82, offset=4.04), time=1565.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3723' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1592.00.
Warning: Vehicle 'veh3693' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1592.00.
Warning: Vehicle 'veh3693' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.93, offset=2.52), time=1592.00.
INFO:TrafficSimulator:Step 1600: 624 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3691' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1643.00.
Warning: Vehicle 'veh3691' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.77, offset=3.34), time=1643.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh3682' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1655.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
INFO:TrafficSimulator:Step 1700: 635 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3755'; collision with vehicle 'veh3692', lane='E_GOR_W_NMR_H_s_1', gap=-0.57, time=1735.00, stage=move.
Warning: Vehicle 'veh3755' ends teleporting on edge 'E_PNK_W_WZM_T', time=1735.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh4155' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1758.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh4174' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1772.00.
Warning: Vehicle 'veh4174' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-14.75, offset=4.08), time=1772.00.
Warning: Vehicle 'veh3954' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1785.00.
Warning: Vehicle 'veh3954' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-9.82, offset=0.52), time=1785.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 598 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Vehicle 'veh4392' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1856.00.
Warning: Vehicle 'veh4392' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-15.87, offset=0.22), time=1856.00.
Warning: Teleporting vehicle 'veh4187'; collision with vehicle 'veh4118', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=1859.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh4391' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1862.00.
Warning: Teleporting vehicle 'veh4242'; collision with vehicle 'veh4252', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=1862.00, stage=move.
Warning: Vehicle 'veh4187' ends teleporting on edge 'E_PNK_W_WZM', time=1862.00.
Warning: Vehicle 'veh4242' ends teleporting on edge 'E_PNK_W_WZM', time=1865.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
Warning: Vehicle 'veh4476' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh4438' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
INFO:TrafficSimulator:Step 1900: 629 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh4218' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Vehicle 'veh4218' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.75, offset=11.06), time=1925.00.
Warning: Vehicle 'veh4506' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Vehicle 'veh4506' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.54, offset=4.25), time=1925.00.
Warning: Teleporting vehicle 'veh4352'; collision with vehicle 'veh4327', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1938.00, stage=move.
Warning: Vehicle 'veh4352' ends teleporting on edge 'E_PNK_W_WZM_T', time=1938.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
INFO:TrafficSimulator:Step 2000: 637 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4688'; collision with vehicle 'veh4608', lane='E_GOR_W_NMR_H_s_1', gap=-0.59, time=2036.00, stage=move.
Warning: Vehicle 'veh4688' ends teleporting on edge 'E_PNK_W_WZM_T', time=2038.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4821' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2045.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 668 vehicles active
Warning: Vehicle 'veh4557' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2126.00.
Warning: Vehicle 'veh4557' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.57, offset=0.35), time=2126.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Vehicle 'veh4898' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2142.00.
Warning: Vehicle 'veh4898' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.22, offset=1.87), time=2142.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh5092' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh5092' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-11.16, offset=1.29), time=2160.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Vehicle 'veh5219' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=2193.00.
Warning: Vehicle 'veh5219' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-9.31, offset=0.28), time=2193.00.
Warning: Vehicle 'veh5056' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2193.00.
Warning: Vehicle 'veh5056' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-19.84, offset=5.49), time=2193.00.
INFO:TrafficSimulator:Step 2200: 644 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5154'; collision with vehicle 'veh5140', lane='E_GOR_W_NMR_H_s_1', gap=-5.96, time=2221.00, stage=move.
Warning: Vehicle 'veh5318' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2223.00.
Warning: Vehicle 'veh5154' ends teleporting on edge 'E_PNK_W_WZM', time=2224.00.
Warning: Vehicle 'veh5245' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2225.00.
Warning: Vehicle 'veh5245' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.09, offset=0.71), time=2225.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
INFO:TrafficSimulator:Step 2300: 621 vehicles active
Warning: Teleporting vehicle 'veh5224'; collision with vehicle 'veh5146', lane='E_PNK_E_NMR_T_0', gap=-1.20, time=2303.00, stage=move.
Warning: Vehicle 'veh5224' ends teleporting on edge 'E_PNK_E_NMR', time=2303.00.
Warning: Teleporting vehicle 'veh5308'; collision with vehicle 'veh5281', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=2309.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh5318' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2312.00.
Warning: Teleporting vehicle 'veh5385'; collision with vehicle 'veh5245', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=2312.00, stage=move.
Warning: Vehicle 'veh5308' ends teleporting on edge 'E_PNK_W_WZM', time=2312.00.
Warning: Vehicle 'veh5385' ends teleporting on edge 'E_PNK_W_WZM_T', time=2312.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 590 vehicles active
Warning: Teleporting vehicle 'veh5530'; collision with vehicle 'veh5572', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=2402.00, stage=move.
Warning: Vehicle 'veh5530' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=2407.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh5886' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2463.00.
Warning: Vehicle 'veh5886' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-9.50, offset=0.41), time=2463.00.
Warning: Vehicle 'veh5639' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Vehicle 'veh5639' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.73, offset=4.62), time=2465.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
INFO:TrafficSimulator:Step 2500: 579 vehicles active
Warning: Vehicle 'veh5919' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2510.00.
Warning: Vehicle 'veh5919' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-17.54, offset=1.87), time=2510.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5948'; collision with vehicle 'veh5963', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=2551.00, stage=move.
Warning: Vehicle 'veh5948' ends teleporting on edge 'E_PNK_W_WZM_T', time=2551.00.
Warning: Vehicle 'veh5769' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2576.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh6168' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2585.00.
INFO:TrafficSimulator:Step 2600: 604 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6004'; collision with vehicle 'veh6065', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=2623.00, stage=move.
Warning: Vehicle 'veh6004' ends teleporting on edge 'E_PNK_W_WZM_T', time=2623.00.
Warning: Vehicle 'veh6285' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2637.00.
Warning: Vehicle 'veh6285' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.83, offset=4.17), time=2637.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5994'; junction collision with vehicle 'veh6065', lane=':J_NMR_PNK_2_0', gap=-1.50, time=2643.00, stage=move.
Warning: Vehicle 'veh5994' ends teleporting on edge 'E_PNK_W_WZM_T', time=2643.00.
Warning: Vehicle 'veh6353' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2644.00.
Warning: Vehicle 'veh6353' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.80, offset=0.09), time=2644.00.
Warning: Vehicle 'veh6129' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2644.00.
Warning: Vehicle 'veh6129' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.00, offset=4.70), time=2644.00.
Warning: Teleporting vehicle 'veh6065'; collision with vehicle 'veh5994', lane='E_PNK_W_WZM_T_0', gap=-1.62, time=2644.00, stage=move.
Warning: Vehicle 'veh6065' ends teleporting on edge 'E_PNK_W_WZM', time=2644.00.
Warning: Teleporting vehicle 'veh6099'; collision with vehicle 'veh6170', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=2645.00, stage=move.
Warning: Vehicle 'veh6099' ends teleporting on edge 'E_PNK_W_WZM_T', time=2647.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh6153' performs emergency braking on lane ':cluster_J11_J14_1_1' with decel=9.00, wished=4.50, severity=1.00, time=2672.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 621 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6576' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2734.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Vehicle 'veh6587' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2765.00.
Warning: Vehicle 'veh6587' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-17.48, offset=1.22), time=2765.00.
Warning: Vehicle 'veh6580' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2765.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Vehicle 'veh4250' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2790.00.
INFO:TrafficSimulator:Step 2800: 655 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6300' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2846.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh6722' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh7000' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2900.00.
Warning: Vehicle 'veh7000' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-15.67, offset=0.88), time=2900.00.
INFO:TrafficSimulator:Step 2900: 672 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6822'; collision with vehicle 'veh6956', lane='E_GOR_W_NMR_H_s_1', gap=-5.88, time=2925.00, stage=move.
Warning: Vehicle 'veh6822' ends teleporting on edge 'E_PNK_W_WZM_T', time=2925.00.
Warning: Vehicle 'veh6798' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2936.00.
Warning: Vehicle 'veh6798' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.81, offset=0.24), time=2936.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh6990' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2945.00.
Warning: Vehicle 'veh6990' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.09, offset=5.97), time=2945.00.
Warning: Teleporting vehicle 'veh7017'; collision with vehicle 'veh7030', lane='E_GOR_W_NMR_H_s_1', gap=-2.20, time=2949.00, stage=move.
Warning: Vehicle 'veh7017' ends teleporting on edge 'E_PNK_W_WZM_T', time=2949.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
INFO:TrafficSimulator:Step 3000: 676 vehicles active
Warning: Vehicle 'veh7260' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=3005.00.
Warning: Vehicle 'veh7260' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-10.11, offset=0.72), time=3005.00.
Warning: Vehicle 'veh6949' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3013.00.
Warning: Vehicle 'veh6949' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.97, offset=3.69), time=3013.00.
Warning: Vehicle 'veh7264' performs emergency braking on lane 'E_BLK_W_AYA_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3017.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh7179' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3035.00.
Warning: Vehicle 'veh7179' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.31, offset=5.09), time=3035.00.
Warning: Vehicle 'veh7136' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3035.00.
Warning: Vehicle 'veh7136' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-19.25, offset=2.80), time=3035.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7221'; collision with vehicle 'veh7296', lane='E_GOR_W_NMR_H_s_1', gap=-6.17, time=3088.00, stage=move.
Warning: Vehicle 'veh7221' ends teleporting on edge 'E_PNK_W_WZM_T', time=3088.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7236'; collision with vehicle 'veh7277', lane='E_GOR_W_NMR_H_s_1', gap=-5.67, time=3091.00, stage=move.
Warning: Vehicle 'veh7236' ends teleporting on edge 'E_PNK_W_WZM_T', time=3091.00.
INFO:TrafficSimulator:Step 3100: 671 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh4479' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3150.00.
Warning: Vehicle 'veh4479' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-16.45, offset=6.72), time=3150.00.
Warning: Teleporting vehicle 'veh7388'; collision with vehicle 'veh7407', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=3178.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh7388' ends teleporting on edge 'E_PNK_W_WZM', time=3181.00.
Warning: Vehicle 'veh3571' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
Warning: Teleporting vehicle 'veh7459'; collision with vehicle 'veh7496', lane='E_GOR_W_NMR_H_s_1', gap=-6.30, time=3188.00, stage=move.
Warning: Vehicle 'veh7459' ends teleporting on edge 'E_PNK_W_WZM', time=3191.00.
Warning: Vehicle 'veh7779' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3198.00.
Warning: Vehicle 'veh7779' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-22.07, offset=9.93), time=3198.00.
Warning: Vehicle 'veh7396' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3198.00.
Warning: Vehicle 'veh7396' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.30, offset=9.70), time=3198.00.
INFO:TrafficSimulator:Step 3200: 644 vehicles active
Warning: Vehicle 'veh4241' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3206.00.
Warning: Vehicle 'veh4241' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-19.03, offset=2.01), time=3206.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7806' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3212.00.
Warning: Vehicle 'veh7806' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-10.10, offset=0.87), time=3213.00.
Warning: Vehicle 'veh7597' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3215.00.
Warning: Vehicle 'veh7597' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-20.02, offset=3.16), time=3215.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh7809' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Vehicle 'veh7809' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.05, offset=0.73), time=3240.00.
Warning: Teleporting vehicle 'veh7624'; collision with vehicle 'veh7720', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3268.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh7624' ends teleporting on edge 'E_PNK_W_WZM_T', time=3270.00.
Warning: Teleporting vehicle 'veh7698'; collision with vehicle 'veh7709', lane='E_GOR_W_NMR_H_s_1', gap=-6.25, time=3271.00, stage=move.
Warning: Teleporting vehicle 'veh7810'; collision with vehicle 'veh7681', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=3273.00, stage=move.
Warning: Vehicle 'veh7698' ends teleporting on edge 'E_PNK_W_WZM', time=3274.00.
Warning: Vehicle 'veh7810' ends teleporting on edge 'E_PNK_W_WZM_T', time=3275.00.
Warning: Teleporting vehicle 'veh7722'; collision with vehicle 'veh7719', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=3280.00, stage=move.
Warning: Vehicle 'veh7722' ends teleporting on edge 'E_PNK_W_WZM', time=3283.00.
Warning: Vehicle 'veh8002' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3284.00.
Warning: Vehicle 'veh7705' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3296.00.
Warning: Vehicle 'veh7699' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3296.00.
Warning: Vehicle 'veh7699' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-15.54, offset=6.06), time=3296.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 620 vehicles active
Warning: Vehicle 'veh7510' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=3301.00.
Warning: Vehicle 'veh8009' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3309.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Vehicle 'veh5079' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3352.00.
Warning: Vehicle 'veh5079' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.76, offset=0.43), time=3352.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh7871' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3377.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8110'; collision with vehicle 'veh8167', lane='E_GOR_W_NMR_H_s_1', gap=-3.74, time=3396.00, stage=move.
Warning: Vehicle 'veh8110' ends teleporting on edge 'E_PNK_W_WZM_T', time=3396.00.
INFO:TrafficSimulator:Step 3400: 576 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
Warning: Vehicle 'veh8271' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3485.00.
Warning: Vehicle 'veh8271' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.85, offset=4.40), time=3485.00.
INFO:TrafficSimulator:Step 3500: 545 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh5301' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3532.00.
Warning: Vehicle 'veh8567' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=3532.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Vehicle 'veh8414' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3566.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh8726' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3579.00.
Warning: Vehicle 'veh8727' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=3579.00.
Warning: Vehicle 'veh8727' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-18.85, offset=1.38), time=3579.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
INFO:TrafficSimulator:Step 3600: 588 vehicles active
Warning: Teleporting vehicle 'veh8648'; collision with vehicle 'veh8619', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=3629.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Vehicle 'veh8535' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3630.00.
Warning: Vehicle 'veh8535' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.40, offset=3.17), time=3630.00.
Warning: Vehicle 'veh8648' ends teleporting on edge 'E_PNK_W_WZM_T', time=3630.00.
Warning: Vehicle 'veh8289' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3643.00.
Warning: Vehicle 'veh8289' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.91, offset=10.98), time=3643.00.
Warning: Vehicle 'veh8599' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3656.00.
Warning: Vehicle 'veh8516' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3656.00.
Warning: Vehicle 'veh8516' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.67, offset=4.81), time=3656.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8962' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=3662.00.
Warning: Vehicle 'veh8962' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-12.20, offset=0.72), time=3662.00.
Warning: Teleporting vehicle 'veh8768'; collision with vehicle 'veh8728', lane='E_GOR_W_NMR_H_s_1', gap=-5.71, time=3668.00, stage=move.
Warning: Vehicle 'veh8768' ends teleporting on edge 'E_PNK_W_WZM_T', time=3668.00.
Warning: Vehicle 'veh8953' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3669.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 597 vehicles active
Warning: Vehicle 'veh8821' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3712.00.
Warning: Teleporting vehicle 'veh8862'; collision with vehicle 'veh8944', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=3719.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Vehicle 'veh8862' ends teleporting on edge 'E_PNK_W_WZM', time=3722.00.
Warning: Teleporting vehicle 'veh8951'; collision with vehicle 'veh8963', lane='E_GOR_W_NMR_H_s_1', gap=-1.88, time=3728.00, stage=move.
Warning: Vehicle 'veh8951' ends teleporting on edge 'E_PNK_W_WZM_T', time=3728.00.
Warning: Teleporting vehicle 'veh8900'; junction collision with vehicle 'veh8963', lane=':J_NMR_PNK_2_0', gap=-2.70, time=3733.00, stage=move.
Warning: Vehicle 'veh8900' ends teleporting on edge 'E_PNK_W_WZM_T', time=3733.00.
Warning: Vehicle 'veh8810' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3746.00.
Warning: Vehicle 'veh8810' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.26, offset=1.73), time=3746.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9160'; collision with vehicle 'veh9053', lane='E_GOR_W_NMR_H_s_1', gap=-4.71, time=3761.00, stage=move.
Warning: Vehicle 'veh9160' ends teleporting on edge 'E_PNK_W_WZM_T', time=3761.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 633 vehicles active
Warning: Teleporting vehicle 'veh9095'; collision with vehicle 'veh8989', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=3809.00, stage=move.
Warning: Vehicle 'veh9095' ends teleporting on edge 'E_PNK_W_WZM_T', time=3809.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9098'; collision with vehicle 'veh9149', lane='E_GOR_W_NMR_H_s_1', gap=-4.43, time=3820.00, stage=move.
Warning: Vehicle 'veh9098' ends teleporting on edge 'E_PNK_W_WZM_T', time=3821.00.
Warning: Vehicle 'veh9107' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3826.00.
Warning: Vehicle 'veh9145' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3826.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9419'; collision with vehicle 'veh9288', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=3899.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 629 vehicles active
Warning: Vehicle 'veh9419' ends teleporting on edge 'E_PNK_W_WZM', time=3903.00.
Warning: Teleporting vehicle 'veh9389'; collision with vehicle 'veh9410', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=3905.00, stage=move.
Warning: Vehicle 'veh9389' ends teleporting on edge 'E_PNK_W_WZM', time=3908.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh9350' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3931.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Vehicle 'veh5641' performs emergency braking on lane ':cluster_J11_J26_1_1' with decel=9.00, wished=4.50, severity=1.00, time=3982.00.
Warning: Teleporting vehicle 'veh9608'; collision with vehicle 'veh9649', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=3989.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9519'; junction collision with vehicle 'veh9590', lane=':J_NMR_PNK_2_0', gap=-0.41, time=3994.00, stage=move.
Warning: Vehicle 'veh9679' performs emergency braking on lane 'E_GOR_W_NMR_2' with decel=9.00, wished=4.50, severity=1.00, time=3995.00.
Warning: Vehicle 'veh9608' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3996.00.
Warning: Vehicle 'veh9519' ends teleporting on edge 'E_PNK_W_WZM', time=3997.00.
INFO:TrafficSimulator:Step 4000: 606 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh9931' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4022.00.
Warning: Vehicle 'veh9931' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.71, offset=3.74), time=4022.00.
Warning: Vehicle 'veh9565' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4023.00.
Warning: Vehicle 'veh9565' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.46, offset=10.00), time=4023.00.
Warning: Teleporting vehicle 'veh9862'; collision with vehicle 'veh9756', lane='E_GOR_W_NMR_H_s_1', gap=-4.55, time=4041.00, stage=move.
Warning: Vehicle 'veh9862' ends teleporting on edge 'E_PNK_W_WZM_T', time=4041.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh10008' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4064.00.
Warning: Vehicle 'veh10008' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-10.55, offset=1.20), time=4064.00.
Warning: Vehicle 'veh10023' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4064.00.
Warning: Teleporting vehicle 'veh9899'; collision with vehicle 'veh9926', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=4078.00, stage=move.
Warning: Vehicle 'veh9899' ends teleporting on edge 'E_PNK_W_WZM_T', time=4079.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9693'; collision with vehicle 'veh9715', lane='E_GOR_W_NMR_H_s_1', gap=-6.05, time=4081.00, stage=move.
Warning: Vehicle 'veh9693' ends teleporting on edge 'E_PNK_W_WZM', time=4084.00.
Warning: Vehicle 'veh4361' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4099.00.
Warning: Vehicle 'veh5697' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4099.00.
Warning: Vehicle 'veh5697' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-15.37, offset=2.66), time=4099.00.
INFO:TrafficSimulator:Step 4100: 620 vehicles active
Warning: Vehicle 'veh9835' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4105.00.
Warning: Vehicle 'veh9835' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-15.46, offset=1.23), time=4105.00.
Warning: Vehicle 'veh10173' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4109.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh10244' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
Warning: Vehicle 'veh10244' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.29, offset=0.45), time=4140.00.
Warning: Vehicle 'veh10261' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4154.00.
Warning: Vehicle 'veh10261' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.50, offset=2.36), time=4154.00.
Warning: Vehicle 'veh10245' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4154.00.
Warning: Vehicle 'veh10245' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.97, offset=1.75), time=4154.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10028'; collision with vehicle 'veh10115', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=4171.00, stage=move.
Warning: Vehicle 'veh10028' ends teleporting on edge 'E_PNK_W_WZM', time=4174.00.
Warning: Vehicle 'veh4493' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4189.00.
Warning: Vehicle 'veh10091' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4195.00.
Warning: Vehicle 'veh10091' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.19, offset=6.02), time=4195.00.
Warning: Vehicle 'veh10122' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4195.00.
Warning: Vehicle 'veh10122' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.67, offset=0.59), time=4195.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 616 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10198'; collision with vehicle 'veh10350', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=4261.00, stage=move.
Warning: Vehicle 'veh10198' ends teleporting on edge 'E_PNK_W_WZM', time=4264.00.
Warning: Vehicle 'veh10245' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4270.00.
Warning: Teleporting vehicle 'veh10245'; collision with vehicle 'veh10364', lane='E_GOR_W_NMR_H_s_1', gap=-1.68, time=4270.00, stage=move.
Warning: Vehicle 'veh10245' ends teleporting on edge 'E_PNK_W_WZM', time=4273.00.
Warning: Vehicle 'veh10256' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4285.00.
Warning: Vehicle 'veh10256' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.64, offset=4.09), time=4285.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
INFO:TrafficSimulator:Step 4300: 605 vehicles active
Warning: Vehicle 'veh10629' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4303.00.
Warning: Teleporting vehicle 'veh10442'; collision with vehicle 'veh10424', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=4304.00, stage=move.
Warning: Vehicle 'veh10442' ends teleporting on edge 'E_PNK_W_WZM_T', time=4304.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10555'; collision with vehicle 'veh10616', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=4351.00, stage=move.
Warning: Vehicle 'veh10555' ends teleporting on edge 'E_PNK_W_WZM_T', time=4353.00.
Warning: Teleporting vehicle 'veh10465'; collision with vehicle 'veh10494', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=4356.00, stage=move.
Warning: Vehicle 'veh10465' ends teleporting on edge 'E_PNK_W_WZM', time=4360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
INFO:TrafficSimulator:Step 4400: 627 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh10890' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4410.00.
Warning: Vehicle 'veh10890' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.62, offset=2.58), time=4410.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10789'; collision with vehicle 'veh10847', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=4442.00, stage=move.
Warning: Vehicle 'veh10789' ends teleporting on edge 'E_PNK_W_WZM_T', time=4442.00.
Warning: Teleporting vehicle 'veh10654'; collision with vehicle 'veh10715', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=4445.00, stage=move.
Warning: Vehicle 'veh10654' ends teleporting on edge 'E_PNK_W_WZM_T', time=4446.00.
Warning: Teleporting vehicle 'veh10711'; collision with vehicle 'veh10745', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=4448.00, stage=move.
Warning: Vehicle 'veh10711' ends teleporting on edge 'E_PNK_W_WZM', time=4451.00.
Warning: Teleporting vehicle 'veh10869'; collision with vehicle 'veh10860', lane='E_GOR_W_NMR_H_s_1', gap=-5.96, time=4455.00, stage=move.
Warning: Vehicle 'veh10869' ends teleporting on edge 'E_PNK_W_WZM', time=4458.00.
Warning: Teleporting vehicle 'veh10915'; collision with vehicle 'veh10962', lane='E_GOR_W_NMR_H_s_1', gap=-2.74, time=4459.00, stage=move.
Warning: Vehicle 'veh10915' ends teleporting on edge 'E_PNK_W_WZM_T', time=4461.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh10231' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4472.00.
Warning: Vehicle 'veh10231' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-21.54, offset=6.36), time=4472.00.
Warning: Vehicle 'veh11132' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4472.00.
Warning: Vehicle 'veh10692' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=4475.00.
Warning: Vehicle 'veh11120' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4483.00.
Warning: Teleporting vehicle 'veh11006'; collision with vehicle 'veh11027', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=4485.00, stage=move.
Warning: Vehicle 'veh11006' ends teleporting on edge 'E_PNK_W_WZM_T', time=4485.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh11107' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh11107' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-9.73, offset=0.41), time=4500.00.
INFO:TrafficSimulator:Step 4500: 670 vehicles active
Warning: Vehicle 'veh11206' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4514.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Vehicle 'veh10944' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4533.00.
Warning: Vehicle 'veh10944' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.25, offset=1.73), time=4533.00.
Warning: Teleporting vehicle 'veh11096'; collision with vehicle 'veh11025', lane='E_GOR_W_NMR_H_s_1', gap=-3.92, time=4534.00, stage=move.
Warning: Vehicle 'veh11096' ends teleporting on edge 'E_PNK_W_WZM_T', time=4534.00.
Warning: Teleporting vehicle 'veh11087'; collision with vehicle 'veh11136', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=4540.00, stage=move.
Warning: Vehicle 'veh11087' ends teleporting on edge 'E_PNK_W_WZM', time=4544.00.
Warning: Teleporting vehicle 'veh11009'; collision with vehicle 'veh11041', lane='E_GOR_W_NMR_H_s_1', gap=-6.16, time=4546.00, stage=move.
Warning: Vehicle 'veh11009' ends teleporting on edge 'E_PNK_W_WZM_T', time=4548.00.
Warning: Vehicle 'veh10914' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4555.00.
Warning: Vehicle 'veh10914' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.37, offset=6.32), time=4555.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh11336' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4573.00.
Warning: Vehicle 'veh11336' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.67, offset=5.50), time=4573.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
INFO:TrafficSimulator:Step 4600: 712 vehicles active
Warning: Vehicle 'veh11512' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4617.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Vehicle 'veh11432' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4623.00.
Warning: Vehicle 'veh11432' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-18.41, offset=2.34), time=4623.00.
Warning: Teleporting vehicle 'veh11268'; collision with vehicle 'veh11250', lane='E_GOR_W_NMR_H_s_1', gap=-6.09, time=4632.00, stage=move.
Warning: Vehicle 'veh11268' ends teleporting on edge 'E_PNK_W_WZM', time=4636.00.
Warning: Teleporting vehicle 'veh11256'; collision with vehicle 'veh11307', lane='E_GOR_W_NMR_H_s_1', gap=-5.30, time=4637.00, stage=move.
Warning: Vehicle 'veh11256' ends teleporting on edge 'E_PNK_W_WZM_T', time=4638.00.
Warning: Teleporting vehicle 'veh11317'; collision with vehicle 'veh11311', lane='E_GOR_W_NMR_H_s_1', gap=-1.67, time=4639.00, stage=move.
Warning: Vehicle 'veh11317' ends teleporting on edge 'E_PNK_W_WZM_T', time=4641.00.
Warning: Vehicle 'veh11273' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4648.00.
Warning: Vehicle 'veh11273' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.82, offset=4.31), time=4648.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh11392' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4661.00.
Warning: Teleporting vehicle 'veh11534'; collision with vehicle 'veh11450', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=4667.00, stage=move.
Warning: Vehicle 'veh11534' ends teleporting on edge 'E_PNK_W_WZM_T', time=4667.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
INFO:TrafficSimulator:Step 4700: 764 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11417'; collision with vehicle 'veh11401', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=4716.00, stage=move.
Warning: Vehicle 'veh11417' ends teleporting on edge 'E_PNK_W_WZM_T', time=4716.00.
Warning: Teleporting vehicle 'veh11429'; collision with vehicle 'veh11572', lane='E_GOR_W_NMR_H_s_1', gap=-4.86, time=4731.00, stage=move.
Warning: Vehicle 'veh11429' ends teleporting on edge 'E_PNK_W_WZM_T', time=4733.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11930' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh11930' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.39, offset=3.47), time=4770.00.
Warning: Teleporting vehicle 'veh11766'; collision with vehicle 'veh11783', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=4770.00, stage=move.
Warning: Vehicle 'veh11766' ends teleporting on edge 'E_PNK_W_WZM_T', time=4770.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
INFO:TrafficSimulator:Step 4800: 754 vehicles active
Warning: Vehicle 'veh11670' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4827.00.
Warning: Vehicle 'veh11755' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4827.00.
Warning: Vehicle 'veh11755' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.64, offset=6.41), time=4827.00.
Warning: Vehicle 'veh11765' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4828.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh12078' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4832.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
INFO:TrafficSimulator:Step 4900: 740 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12143'; collision with vehicle 'veh12185', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=4939.00, stage=move.
Warning: Vehicle 'veh12143' ends teleporting on edge 'E_PNK_W_WZM_T', time=4939.00.
Warning: Teleporting vehicle 'veh12168'; collision with vehicle 'veh12264', lane='E_GOR_W_NMR_H_s_1', gap=-5.09, time=4948.00, stage=move.
Warning: Vehicle 'veh12168' ends teleporting on edge 'E_PNK_W_WZM_T', time=4948.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh12372' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=4995.00.
Warning: Vehicle 'veh12186' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5000.00.
Warning: Vehicle 'veh12186' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.97, offset=3.68), time=5000.00.
INFO:TrafficSimulator:Step 5000: 710 vehicles active
Warning: Teleporting vehicle 'veh12299'; collision with vehicle 'veh12294', lane='E_GOR_W_NMR_H_s_1', gap=-6.60, time=5002.00, stage=move.
Warning: Teleporting vehicle 'veh12126'; collision with vehicle 'veh12116', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=5004.00, stage=move.
Warning: Vehicle 'veh12299' ends teleporting on edge 'E_PNK_W_WZM', time=5005.00.
Warning: Vehicle 'veh12126' ends teleporting on edge 'E_PNK_W_WZM', time=5007.00.
Warning: Vehicle 'veh12252' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5008.00.
Warning: Vehicle 'veh12252' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.92, offset=0.36), time=5008.00.
Warning: Vehicle 'veh12066' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5008.00.
Warning: Vehicle 'veh12066' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.07, offset=3.26), time=5008.00.
Warning: Teleporting vehicle 'veh12292'; collision with vehicle 'veh12251', lane='E_GOR_W_NMR_H_s_1', gap=-4.38, time=5008.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh12292' ends teleporting on edge 'E_PNK_W_WZM', time=5011.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12390'; collision with vehicle 'veh12436', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=5093.00, stage=move.
Warning: Vehicle 'veh12390' ends teleporting on edge 'E_PNK_W_WZM', time=5096.00.
Warning: Vehicle 'veh11930' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5097.00.
Warning: Vehicle 'veh11930' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.65, offset=4.65), time=5097.00.
Warning: Vehicle 'veh12315' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5098.00.
Warning: Vehicle 'veh12315' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.89, offset=5.00), time=5098.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
Warning: Vehicle 'veh12807' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5100.00.
INFO:TrafficSimulator:Step 5100: 652 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12616'; collision with vehicle 'veh12765', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=5182.00, stage=move.
Warning: Vehicle 'veh12616' ends teleporting on edge 'E_PNK_W_WZM_T', time=5182.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 621 vehicles active
Warning: Vehicle 'veh12840' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5210.00.
Warning: Vehicle 'veh12840' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.07, offset=0.53), time=5210.00.
Warning: Vehicle 'veh12819' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5210.00.
Warning: Vehicle 'veh12819' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.48, offset=1.44), time=5210.00.
Warning: Teleporting vehicle 'veh12957'; collision with vehicle 'veh12890', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=5216.00, stage=move.
Warning: Vehicle 'veh12957' ends teleporting on edge 'E_PNK_W_WZM_T', time=5216.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
Warning: Vehicle 'veh13056' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=5220.00.
Warning: Teleporting vehicle 'veh12978'; collision with vehicle 'veh13025', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=5221.00, stage=move.
Warning: Vehicle 'veh12978' ends teleporting on edge 'E_PNK_W_WZM_T', time=5221.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12844'; collision with vehicle 'veh12866', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=5269.00, stage=move.
Warning: Teleporting vehicle 'veh12864'; collision with vehicle 'veh12938', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=5272.00, stage=move.
Warning: Vehicle 'veh12844' ends teleporting on edge 'E_PNK_W_WZM', time=5272.00.
Warning: Vehicle 'veh12864' ends teleporting on edge 'E_PNK_W_WZM', time=5275.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12962'; collision with vehicle 'veh12988', lane='E_GOR_W_NMR_H_s_1', gap=-4.41, time=5281.00, stage=move.
Warning: Vehicle 'veh12962' ends teleporting on edge 'E_PNK_W_WZM', time=5284.00.
Warning: Vehicle 'veh13054' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5300.00.
Warning: Vehicle 'veh13054' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.04, offset=7.79), time=5300.00.
INFO:TrafficSimulator:Step 5300: 626 vehicles active
Warning: Vehicle 'veh13096' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5301.00.
Warning: Teleporting vehicle 'veh13096'; collision with vehicle 'veh13054', lane='E_GOR_W_NMR_H_s_1', gap=-0.22, time=5301.00, stage=move.
Warning: Vehicle 'veh13096' ends teleporting on edge 'E_PNK_W_WZM_T', time=5301.00.
Warning: Vehicle 'veh13154' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5303.00.
Warning: Teleporting vehicle 'veh13196'; collision with vehicle 'veh13198', lane='E_GOR_W_NMR_H_s_1', gap=-5.37, time=5307.00, stage=move.
Warning: Vehicle 'veh13196' ends teleporting on edge 'E_PNK_W_WZM_T', time=5307.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh13245' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5348.00.
Warning: Vehicle 'veh13245' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-18.11, offset=3.57), time=5348.00.
Warning: Teleporting vehicle 'veh13155'; collision with vehicle 'veh13082', lane='E_GOR_W_NMR_H_s_1', gap=-5.97, time=5354.00, stage=move.
Warning: Teleporting vehicle 'veh13234'; collision with vehicle 'veh13143', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=5356.00, stage=move.
Warning: Vehicle 'veh13155' ends teleporting on edge 'E_PNK_W_WZM', time=5357.00.
Warning: Vehicle 'veh13234' ends teleporting on edge 'E_PNK_W_WZM_T', time=5357.00.
Warning: Vehicle 'veh11908' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5368.00.
Warning: Vehicle 'veh13055' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5368.00.
Warning: Vehicle 'veh13055' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.54, offset=6.69), time=5368.00.
Warning: Vehicle 'veh13028' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5368.00.
Warning: Vehicle 'veh13028' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.58, offset=1.17), time=5368.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Vehicle 'veh13452' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
INFO:TrafficSimulator:Step 5400: 641 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13438'; collision with vehicle 'veh13490', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=5444.00, stage=move.
Warning: Vehicle 'veh13438' ends teleporting on edge 'E_PNK_W_WZM_T', time=5444.00.
Warning: Vehicle 'veh13520' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5455.00.
Warning: Vehicle 'veh13520' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-10.48, offset=0.48), time=5455.00.
Warning: Vehicle 'veh13511' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5457.00.
Warning: Vehicle 'veh13511' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-11.04, offset=1.98), time=5458.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh13791' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5462.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
Warning: Vehicle 'veh13719' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5490.00.
INFO:TrafficSimulator:Step 5500: 634 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13655'; collision with vehicle 'veh13706', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=5531.00, stage=move.
Warning: Vehicle 'veh13655' ends teleporting on edge 'E_PNK_W_WZM', time=5534.00.
Warning: Teleporting vehicle 'veh13861'; collision with vehicle 'veh13736', lane='E_GOR_W_NMR_H_s_1', gap=-5.52, time=5538.00, stage=move.
Warning: Vehicle 'veh13861' ends teleporting on edge 'E_PNK_W_WZM', time=5541.00.
Warning: Vehicle 'veh13644' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5547.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh14045' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=5567.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
Warning: Vehicle 'veh13817' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5580.00.
Warning: Vehicle 'veh13817' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-14.10, offset=2.56), time=5580.00.
Warning: Vehicle 'veh14046' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5580.00.
Warning: Vehicle 'veh14046' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.65, offset=0.25), time=5580.00.
Warning: Vehicle 'veh14156' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5599.00.
Warning: Vehicle 'veh14156' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.95, offset=1.89), time=5599.00.
INFO:TrafficSimulator:Step 5600: 682 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh14226' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5615.00.
Warning: Teleporting vehicle 'veh13982'; collision with vehicle 'veh13977', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=5618.00, stage=move.
Warning: Teleporting vehicle 'veh13802'; collision with vehicle 'veh13747', lane='E_GOR_W_NMR_H_s_1', gap=-5.98, time=5621.00, stage=move.
Warning: Vehicle 'veh13982' ends teleporting on edge 'E_PNK_W_WZM', time=5621.00.
Warning: Teleporting vehicle 'veh13821'; collision with vehicle 'veh13852', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=5623.00, stage=move.
Warning: Vehicle 'veh13802' ends teleporting on edge 'E_PNK_W_WZM', time=5624.00.
Warning: Vehicle 'veh13821' ends teleporting on edge 'E_PNK_W_WZM', time=5626.00.
Warning: Teleporting vehicle 'veh14053'; collision with vehicle 'veh14065', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=5633.00, stage=move.
Warning: Vehicle 'veh12707' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=5635.00.
Warning: Vehicle 'veh14053' ends teleporting on edge 'E_PNK_W_WZM', time=5636.00.
Warning: Vehicle 'veh12420' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5637.00.
Warning: Vehicle 'veh12420' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-19.76, offset=8.36), time=5637.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh14302' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5642.00.
Warning: Vehicle 'veh14302' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.39, offset=3.38), time=5642.00.
Warning: Vehicle 'veh14022' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5646.00.
Warning: Vehicle 'veh14022' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.26, offset=4.46), time=5646.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14027'; collision with vehicle 'veh14090', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=5686.00, stage=move.
Warning: Vehicle 'veh14027' ends teleporting on edge 'E_PNK_W_WZM_T', time=5686.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 704 vehicles active
Warning: Vehicle 'veh14498' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5705.00.
Warning: Vehicle 'veh14498' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-13.22, offset=2.48), time=5705.00.
Warning: Teleporting vehicle 'veh14087'; collision with vehicle 'veh14021', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=5705.00, stage=move.
Warning: Vehicle 'veh14087' ends teleporting on edge 'E_PNK_W_WZM', time=5708.00.
Warning: Teleporting vehicle 'veh14301'; collision with vehicle 'veh14184', lane='E_GOR_W_NMR_H_s_1', gap=-4.28, time=5714.00, stage=move.
Warning: Vehicle 'veh14301' ends teleporting on edge 'E_PNK_W_WZM_T', time=5714.00.
Warning: Vehicle 'veh14239' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5727.00.
Warning: Vehicle 'veh14239' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.51, offset=5.27), time=5727.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh12701' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5736.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh14558' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh14558' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.00, offset=0.86), time=5760.00.
Warning: Vehicle 'veh14550' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5785.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh14760' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5795.00.
INFO:TrafficSimulator:Step 5800: 731 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh6155' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5850.00.
Warning: Vehicle 'veh6155' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-15.10, offset=5.01), time=5850.00.
Warning: Vehicle 'veh14828' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5876.00.
Warning: Vehicle 'veh14828' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-17.59, offset=1.38), time=5876.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14737'; collision with vehicle 'veh14628', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=5882.00, stage=move.
Warning: Vehicle 'veh14737' ends teleporting on edge 'E_PNK_W_WZM_T', time=5882.00.
INFO:TrafficSimulator:Step 5900: 762 vehicles active
Warning: Vehicle 'veh6211' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5907.00.
Warning: Vehicle 'veh6211' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.24, offset=2.36), time=5907.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh14887' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5930.00.
Warning: Teleporting vehicle 'veh14928'; collision with vehicle 'veh14957', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=5935.00, stage=move.
Warning: Vehicle 'veh14928' ends teleporting on edge 'E_PNK_W_WZM_T', time=5935.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh15190' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5940.00.
Warning: Vehicle 'veh15190' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.79, offset=0.78), time=5940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14970'; collision with vehicle 'veh14975', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=5974.00, stage=move.
Warning: Vehicle 'veh14970' ends teleporting on edge 'E_PNK_W_WZM_T', time=5974.00.
Warning: Teleporting vehicle 'veh14891'; collision with vehicle 'veh14818', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=5977.00, stage=move.
Warning: Vehicle 'veh14891' ends teleporting on edge 'E_PNK_W_WZM', time=5980.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 726 vehicles active
Warning: Vehicle 'veh15088' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6002.00.
Warning: Vehicle 'veh15088' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-16.67, offset=3.80), time=6002.00.
Warning: Vehicle 'veh8717' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6006.00.
Warning: Vehicle 'veh8717' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.83, offset=10.14), time=6006.00.
Warning: Vehicle 'veh13222' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6006.00.
Warning: Vehicle 'veh13222' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.73, offset=7.03), time=6006.00.
Warning: Teleporting vehicle 'veh15115'; collision with vehicle 'veh15103', lane='E_GOR_W_NMR_H_s_1', gap=-3.24, time=6018.00, stage=move.
Warning: Vehicle 'veh15115' ends teleporting on edge 'E_PNK_W_WZM_T', time=6018.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15330'; collision with vehicle 'veh15361', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=6063.00, stage=move.
Warning: Vehicle 'veh15330' ends teleporting on edge 'E_PNK_W_WZM_T', time=6063.00.
Warning: Teleporting vehicle 'veh15269'; collision with vehicle 'veh15113', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=6073.00, stage=move.
Warning: Vehicle 'veh15269' ends teleporting on edge 'E_PNK_W_WZM_T', time=6073.00.
Warning: Teleporting vehicle 'veh15129'; collision with vehicle 'veh15305', lane='E_GOR_W_NMR_H_s_1', gap=-5.22, time=6077.00, stage=move.
Warning: Vehicle 'veh15129' ends teleporting on edge 'E_PNK_W_WZM_T', time=6079.00.
Warning: Vehicle 'veh6280' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6087.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
INFO:TrafficSimulator:Step 6100: 750 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh15719' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6120.00.
Warning: Vehicle 'veh15719' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.67, offset=0.78), time=6120.00.
Warning: Vehicle 'veh15736' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6139.00.
Warning: Vehicle 'veh15736' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.00, offset=0.31), time=6139.00.
Warning: Vehicle 'veh15048' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6140.00.
Warning: Vehicle 'veh15048' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.05, offset=1.32), time=6140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Vehicle 'veh15845' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6169.00.
Warning: Vehicle 'veh15845' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.19, offset=6.44), time=6169.00.
Warning: Vehicle 'veh15479' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6177.00.
Warning: Vehicle 'veh15479' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.71, offset=2.05), time=6177.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
INFO:TrafficSimulator:Step 6200: 766 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh15832' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6238.00.
Warning: Vehicle 'veh15803' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6238.00.
Warning: Vehicle 'veh15803' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.85, offset=1.13), time=6238.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15714'; collision with vehicle 'veh15696', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=6251.00, stage=move.
Warning: Vehicle 'veh15714' ends teleporting on edge 'E_PNK_W_WZM_T', time=6251.00.
Warning: Vehicle 'veh15760' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6267.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh16138' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6272.00.
Warning: Vehicle 'veh16138' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-14.52, offset=3.04), time=6272.00.
Warning: Teleporting vehicle 'veh16072'; collision with vehicle 'veh16093', lane='E_GOR_W_NMR_H_s_1', gap=-5.92, time=6297.00, stage=move.
Warning: Vehicle 'veh16072' ends teleporting on edge 'E_PNK_W_WZM_T', time=6297.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 783 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Vehicle 'veh16113' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6336.00.
Warning: Vehicle 'veh16113' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-19.94, offset=0.71), time=6336.00.
Warning: Teleporting vehicle 'veh16058'; collision with vehicle 'veh16119', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=6344.00, stage=move.
Warning: Vehicle 'veh16058' ends teleporting on edge 'E_PNK_W_WZM_T', time=6346.00.
Warning: Vehicle 'veh16033' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6351.00.
Warning: Vehicle 'veh16033' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.92, offset=1.28), time=6351.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh16380' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16380' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.98, offset=0.46), time=6390.00.
INFO:TrafficSimulator:Step 6400: 733 vehicles active
Warning: Vehicle 'veh13463' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6415.00.
Warning: Vehicle 'veh13463' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-9.98, offset=0.38), time=6415.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16308'; collision with vehicle 'veh16325', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=6432.00, stage=move.
Warning: Vehicle 'veh16308' ends teleporting on edge 'E_PNK_W_WZM_T', time=6432.00.
Warning: Teleporting vehicle 'veh16377'; collision with vehicle 'veh16346', lane='E_GOR_W_NMR_H_s_1', gap=-5.52, time=6439.00, stage=move.
Warning: Vehicle 'veh6726' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6447.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh16377' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=6452.00.
Warning: Vehicle 'veh16242' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6456.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 723 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16624'; collision with vehicle 'veh16472', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=6519.00, stage=move.
Warning: Teleporting vehicle 'veh16655'; collision with vehicle 'veh16648', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=6522.00, stage=move.
Warning: Vehicle 'veh16624' ends teleporting on edge 'E_PNK_W_WZM', time=6523.00.
Warning: Vehicle 'veh16655' ends teleporting on edge 'E_PNK_W_WZM', time=6526.00.
Warning: Vehicle 'veh16551' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6535.00.
Warning: Vehicle 'veh16551' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-9.53, offset=0.18), time=6536.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
Warning: Vehicle 'veh16921' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6542.00.
Warning: Vehicle 'veh16921' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.36, offset=6.25), time=6542.00.
Warning: Vehicle 'veh16738' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6546.00.
Warning: Vehicle 'veh16738' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-20.62, offset=10.29), time=6546.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Vehicle 'veh16988' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6570.00.
Warning: Vehicle 'veh16988' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.09, offset=4.70), time=6570.00.
Warning: Vehicle 'veh16945' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=6570.00.
Warning: Vehicle 'veh16945' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.80, offset=1.61), time=6570.00.
Warning: Vehicle 'veh16818' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6571.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 680 vehicles active
Warning: Teleporting vehicle 'veh16818'; collision with vehicle 'veh16866', lane='E_GOR_W_NMR_H_s_1', gap=-6.60, time=6607.00, stage=move.
Warning: Teleporting vehicle 'veh16872'; collision with vehicle 'veh16831', lane='E_GOR_W_NMR_H_s_1', gap=-3.49, time=6610.00, stage=move.
Warning: Vehicle 'veh16818' ends teleporting on edge 'E_PNK_W_WZM', time=6610.00.
Warning: Vehicle 'veh16872' ends teleporting on edge 'E_PNK_W_WZM_T', time=6612.00.
Warning: Vehicle 'veh6908' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6627.00.
Warning: Vehicle 'veh6908' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-17.50, offset=8.34), time=6627.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh17177' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6634.00.
Warning: Vehicle 'veh17177' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.05, offset=0.84), time=6634.00.
Warning: Vehicle 'veh16774' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6636.00.
Warning: Vehicle 'veh16918' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6636.00.
Warning: Vehicle 'veh16918' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.74, offset=10.43), time=6636.00.
Warning: Teleporting vehicle 'veh16941'; collision with vehicle 'veh16996', lane='E_GOR_W_NMR_H_s_1', gap=-3.75, time=6646.00, stage=move.
Warning: Vehicle 'veh16941' ends teleporting on edge 'E_PNK_W_WZM_T', time=6646.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Vehicle 'veh17305' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6691.00.
INFO:TrafficSimulator:Step 6700: 676 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17233'; collision with vehicle 'veh17228', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=6795.00, stage=move.
Warning: Teleporting vehicle 'veh17294'; collision with vehicle 'veh17315', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=6797.00, stage=move.
Warning: Vehicle 'veh17233' ends teleporting on edge 'E_PNK_W_WZM', time=6798.00.
Warning: Vehicle 'veh17294' ends teleporting on edge 'E_PNK_W_WZM_T', time=6798.00.
Warning: Vehicle 'veh17655' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6799.00.
Warning: Vehicle 'veh17356' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6799.00.
Warning: Vehicle 'veh17356' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-10.42, offset=0.81), time=6799.00.
Warning: Vehicle 'veh17655' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-14.19, offset=0.91), time=6800.00.
Warning: Vehicle 'veh17433' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6800.00.
Warning: Teleporting vehicle 'veh17433'; collision with vehicle 'veh17356', lane='E_NMR_N_YMK_H_sr_0', gap=-0.15, time=6800.00, stage=move.
Warning: Vehicle 'veh17433' ends teleporting on edge 'E_HRZ_E', time=6800.00.
INFO:TrafficSimulator:Step 6800: 674 vehicles active
Warning: Teleporting vehicle 'veh17345'; collision with vehicle 'veh17330', lane='E_GOR_W_NMR_H_s_1', gap=-3.85, time=6803.00, stage=move.
Warning: Vehicle 'veh17345' ends teleporting on edge 'E_PNK_W_WZM', time=6806.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Vehicle 'veh17675' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6827.00.
Warning: Vehicle 'veh17675' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-13.16, offset=3.78), time=6827.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh17789' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6859.00.
Warning: Vehicle 'veh17789' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.33, offset=2.00), time=6859.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17541'; collision with vehicle 'veh17661', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=6888.00, stage=move.
Warning: Vehicle 'veh17541' ends teleporting on edge 'E_PNK_W_WZM', time=6891.00.
Warning: Teleporting vehicle 'veh17600'; collision with vehicle 'veh17575', lane='E_GOR_W_NMR_H_s_1', gap=-0.56, time=6895.00, stage=move.
Warning: Vehicle 'veh17600' ends teleporting on edge 'E_PNK_W_WZM', time=6898.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
INFO:TrafficSimulator:Step 6900: 669 vehicles active
Warning: Vehicle 'veh17729' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6904.00.
Warning: Vehicle 'veh17729' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-18.31, offset=2.35), time=6904.00.
Warning: Vehicle 'veh17928' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6917.00.
Warning: Teleporting vehicle 'veh17783'; collision with vehicle 'veh17845', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=6928.00, stage=move.
Warning: Vehicle 'veh17783' ends teleporting on edge 'E_PNK_W_WZM_T', time=6928.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh17947' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
Warning: Vehicle 'veh17947' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-15.12, offset=0.70), time=6930.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh18135' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6973.00.
Warning: Vehicle 'veh18135' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.67, offset=3.81), time=6973.00.
Warning: Teleporting vehicle 'veh17688'; collision with vehicle 'veh17780', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=6975.00, stage=move.
Warning: Vehicle 'veh17688' ends teleporting on edge 'E_PNK_W_WZM', time=6978.00.
Warning: Teleporting vehicle 'veh17858'; collision with vehicle 'veh17882', lane='E_GOR_W_NMR_H_s_1', gap=-2.80, time=6982.00, stage=move.
Warning: Teleporting vehicle 'veh17905'; collision with vehicle 'veh17909', lane='E_GOR_W_NMR_H_s_1', gap=-1.40, time=6984.00, stage=move.
Warning: Vehicle 'veh17858' ends teleporting on edge 'E_PNK_W_WZM', time=6985.00.
Warning: Teleporting vehicle 'veh17789'; collision with vehicle 'veh17821', lane='E_GOR_W_NMR_H_s_1', gap=-3.67, time=6986.00, stage=move.
Warning: Vehicle 'veh17789' ends teleporting on edge 'E_PNK_W_WZM_T', time=6986.00.
Warning: Vehicle 'veh17905' ends teleporting on edge 'E_PNK_W_WZM', time=6987.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17818'; collision with vehicle 'veh18017', lane='E_GOR_W_NMR_H_s_1', gap=-2.85, time=6990.00, stage=move.
Warning: Vehicle 'veh17818' ends teleporting on edge 'E_PNK_W_WZM_T', time=6990.00.
INFO:TrafficSimulator:Step 7000: 686 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh18197' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh18197' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.47, offset=3.29), time=7020.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh18127' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7058.00.
Warning: Vehicle 'veh18127' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-20.09, offset=5.12), time=7058.00.
Warning: Teleporting vehicle 'veh17996'; collision with vehicle 'veh17978', lane='E_GOR_W_NMR_H_s_1', gap=-6.22, time=7064.00, stage=move.
Warning: Vehicle 'veh17996' ends teleporting on edge 'E_PNK_W_WZM_T', time=7064.00.
Warning: Vehicle 'veh18222' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7067.00.
Warning: Teleporting vehicle 'veh18099'; collision with vehicle 'veh18120', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=7067.00, stage=move.
Warning: Vehicle 'veh18099' ends teleporting on edge 'E_PNK_W_WZM_T', time=7068.00.
Warning: Teleporting vehicle 'veh18166'; collision with vehicle 'veh18123', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=7071.00, stage=move.
Warning: Vehicle 'veh18166' ends teleporting on edge 'E_PNK_W_WZM', time=7075.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
Warning: Vehicle 'veh17980' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7086.00.
Warning: Teleporting vehicle 'veh17967'; collision with vehicle 'veh18145', lane='E_WZM_N_YMK_T_0', gap=-1.15, time=7097.00, stage=move.
Warning: Vehicle 'veh17967' ends teleporting on edge 'E_WZM_N_YMK', time=7097.00.
INFO:TrafficSimulator:Step 7100: 697 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18241'; collision with vehicle 'veh18209', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=7153.00, stage=move.
Warning: Vehicle 'veh18241' ends teleporting on edge 'E_PNK_W_WZM_T', time=7153.00.
Warning: Teleporting vehicle 'veh18380'; collision with vehicle 'veh18347', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=7161.00, stage=move.
Warning: Vehicle 'veh18380' ends teleporting on edge 'E_PNK_W_WZM_T', time=7161.00.
Warning: Teleporting vehicle 'veh18396'; collision with vehicle 'veh18529', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=7164.00, stage=move.
Warning: Vehicle 'veh18396' ends teleporting on edge 'E_PNK_W_WZM_T', time=7165.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh18688' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
Warning: Vehicle 'veh18688' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.67, offset=2.61), time=7200.00.
INFO:TrafficSimulator:Step 7200: 709 vehicles active
Warning: Vehicle 'veh18472' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=7216.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18592'; collision with vehicle 'veh18472', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=7239.00, stage=move.
Warning: Vehicle 'veh18592' ends teleporting on edge 'E_PNK_W_WZM', time=7242.00.
Warning: Teleporting vehicle 'veh18744'; collision with vehicle 'veh18710', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=7249.00, stage=move.
Warning: Vehicle 'veh18744' ends teleporting on edge 'E_PNK_W_WZM_T', time=7249.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh18636' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7266.00.
Warning: Vehicle 'veh18636' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.20, offset=1.00), time=7266.00.
Warning: Vehicle 'veh18606' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7266.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
Warning: Vehicle 'veh11327' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7290.00.
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 783
INFO:TrafficSimulator:Completed vehicles: 254
INFO:TrafficSimulator:Completion rate: 32.4%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16195
INFO:TreeMethodController:Vehicle total time: 4448343
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16195
INFO:TreeMethodController:Tree Method - Total driving time: 4448343
INFO:TreeMethodController:Tree Method - Average duration: 274.67 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16195
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 75.39s
 TraCI-Duration: 55.23s
 Real time factor: 96.8272
 UPS: 60796.622984
Vehicles:
 Inserted: 16642 (Loaded: 18825)
 Running: 529
 Waiting: 2183
 Teleports: 143 (Collisions: 143)
 Emergency Stops: 159
 Emergency Braking: 264
Statistics (avg of 16113):
 RouteLength: 1458.50
 Speed: 7.05
 Duration: 276.06
 WaitingTime: 115.45
 TimeLoss: 170.40
 DepartDelay: 164.58
DijkstraRouter answered 103174 queries and explored 22.89 edges on average.
DijkstraRouter spent 0.15s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 783
INFO:SamplePipeline:completed_vehicles: 254
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 32.43933588761175
INFO:__main__:Pipeline execution completed successfully
