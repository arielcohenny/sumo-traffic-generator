INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment4-and-moderate-load/18
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 53515 ***
Loading net-file from 'workspace/grid.net.xml' ... done (28ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 1 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
Warning: Vehicle 'veh78' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh78' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-15.00, offset=5.83), time=90.00.
INFO:TrafficSimulator:Step 100: 215 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh61' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh61' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-21.13, offset=9.91), time=125.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh139' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh164' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh164' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.26, offset=3.50), time=150.00.
Warning: Teleporting vehicle 'veh138'; collision with vehicle 'veh164', lane='E_PNK_E_NMR_H_sr_1', gap=-1.39, time=150.00, stage=move.
Warning: Vehicle 'veh138' ends teleporting on edge 'E_GOR_E_AYA_T', time=150.00.
Warning: Vehicle 'veh263' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=155.00.
Warning: Vehicle 'veh263' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-13.46, offset=3.63), time=155.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 371 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh232'; collision with vehicle 'veh279', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=221.00, stage=move.
Warning: Vehicle 'veh232' ends teleporting on edge 'E_PNK_W_WZM_T', time=221.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh263' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh263' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-14.72, offset=4.77), time=240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 438 vehicles active
Warning: Vehicle 'veh597' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh664' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=308.00.
Warning: Teleporting vehicle 'veh308'; collision with vehicle 'veh324', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=311.00, stage=move.
Warning: Teleporting vehicle 'veh483'; collision with vehicle 'veh329', lane='E_GOR_W_NMR_H_s_1', gap=-6.41, time=314.00, stage=move.
Warning: Vehicle 'veh308' ends teleporting on edge 'E_PNK_W_WZM', time=314.00.
Warning: Teleporting vehicle 'veh510'; collision with vehicle 'veh435', lane='E_GOR_W_NMR_H_s_1', gap=-6.02, time=316.00, stage=move.
Warning: Vehicle 'veh483' ends teleporting on edge 'E_PNK_W_WZM', time=317.00.
Warning: Vehicle 'veh510' ends teleporting on edge 'E_PNK_W_WZM_T', time=317.00.
Warning: Teleporting vehicle 'veh500'; collision with vehicle 'veh455', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=318.00, stage=move.
Warning: Vehicle 'veh500' ends teleporting on edge 'E_PNK_W_WZM_T', time=319.00.
Warning: Vehicle 'veh292' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh262' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=390.00.
Warning: Vehicle 'veh262' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-19.01, offset=7.61), time=390.00.
INFO:TrafficSimulator:Step 400: 487 vehicles active
Warning: Vehicle 'veh488' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=415.00.
Warning: Vehicle 'veh488' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.32, offset=2.63), time=415.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh888' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=420.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh829' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh829' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.77, offset=7.91), time=485.00.
INFO:TrafficSimulator:Step 500: 503 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh930' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=515.00.
Warning: Vehicle 'veh930' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-11.81, offset=0.10), time=515.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh1046' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=567.00.
Warning: Vehicle 'veh1046' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-15.45, offset=1.97), time=567.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1254' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=570.00.
Warning: Vehicle 'veh1254' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.72, offset=2.19), time=570.00.
Warning: Vehicle 'veh964' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=570.00.
Warning: Vehicle 'veh964' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.52, offset=10.11), time=570.00.
Warning: Vehicle 'veh1250' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=570.00.
Warning: Vehicle 'veh1250' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.30, offset=7.62), time=570.00.
Warning: Vehicle 'veh1024' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=595.00.
Warning: Vehicle 'veh1024' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-15.67, offset=5.58), time=595.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 505 vehicles active
Warning: Vehicle 'veh1181' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=602.00.
Warning: Vehicle 'veh1197' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=606.00.
Warning: Vehicle 'veh1197' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.31, offset=5.59), time=606.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1171' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=660.00.
Warning: Vehicle 'veh1171' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-15.15, offset=5.97), time=660.00.
Warning: Vehicle 'veh1300' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=674.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh1186' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=690.00.
Warning: Vehicle 'veh1496' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=695.00.
INFO:TrafficSimulator:Step 700: 491 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1584' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=749.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1443' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1622' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1622' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.42, offset=4.32), time=755.00.
Warning: Vehicle 'veh1683' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=762.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1183' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=783.00.
Warning: Vehicle 'veh1183' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.50, offset=0.24), time=783.00.
INFO:TrafficSimulator:Step 800: 499 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1715' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=839.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1702'; collision with vehicle 'veh1774', lane='E_GOR_W_NMR_H_s_1', gap=-3.76, time=851.00, stage=move.
Warning: Vehicle 'veh1702' ends teleporting on edge 'E_PNK_W_WZM_T', time=851.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1521' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=873.00.
Warning: Vehicle 'veh1588' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=873.00.
Warning: Vehicle 'veh1588' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-12.26, offset=0.31), time=873.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
INFO:TrafficSimulator:Step 900: 499 vehicles active
Warning: Vehicle 'veh1913' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=929.00.
Warning: Vehicle 'veh1913' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.27, offset=0.80), time=929.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh1914' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=932.00.
Warning: Vehicle 'veh1914' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.22, offset=0.67), time=932.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 513 vehicles active
Warning: Vehicle 'veh2282' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1016.00.
Warning: Vehicle 'veh1893' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1016.00.
Warning: Vehicle 'veh1893' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.55, offset=7.12), time=1016.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh2292' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1053.00.
Warning: Vehicle 'veh2292' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-22.02, offset=11.18), time=1053.00.
Warning: Teleporting vehicle 'veh2328'; collision with vehicle 'veh2315', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=1070.00, stage=move.
Warning: Vehicle 'veh2328' ends teleporting on edge 'E_PNK_W_WZM_T', time=1070.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2191'; collision with vehicle 'veh2171', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=1094.00, stage=move.
Warning: Vehicle 'veh2191' ends teleporting on edge 'E_PNK_W_WZM_T', time=1094.00.
INFO:TrafficSimulator:Step 1100: 552 vehicles active
Warning: Vehicle 'veh2282' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1109.00.
Warning: Vehicle 'veh2282' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.50, offset=0.20), time=1109.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2488' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2488' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-21.55, offset=3.58), time=1115.00.
Warning: Vehicle 'veh2484' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2484' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.35, offset=1.23), time=1115.00.
Warning: Teleporting vehicle 'veh2321'; collision with vehicle 'veh2363', lane='E_GOR_W_NMR_H_s_1', gap=-4.85, time=1123.00, stage=move.
Warning: Vehicle 'veh2321' ends teleporting on edge 'E_PNK_W_WZM_T', time=1123.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Vehicle 'veh2577' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1140.00.
Warning: Vehicle 'veh2577' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.63, offset=9.21), time=1140.00.
Warning: Vehicle 'veh2556' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1145.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2621' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1197.00.
Warning: Vehicle 'veh2621' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-19.01, offset=6.76), time=1197.00.
Warning: Vehicle 'veh2297' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1199.00.
Warning: Vehicle 'veh2297' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.33, offset=0.19), time=1199.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 595 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Vehicle 'veh2728' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1236.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2963' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1290.00.
Warning: Vehicle 'veh2963' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-9.28, offset=0.03), time=1290.00.
INFO:TrafficSimulator:Step 1300: 618 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Vehicle 'veh3045' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1320.00.
Warning: Vehicle 'veh3024' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1325.00.
Warning: Vehicle 'veh3024' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.05, offset=3.20), time=1325.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
Warning: Vehicle 'veh2692' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1373.00.
Warning: Vehicle 'veh2692' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-15.46, offset=6.11), time=1373.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
INFO:TrafficSimulator:Step 1400: 643 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh2952' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1413.00.
Warning: Vehicle 'veh2952' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-15.71, offset=5.90), time=1413.00.
Warning: Vehicle 'veh3253' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1418.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3076'; collision with vehicle 'veh3240', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=1469.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh3076' ends teleporting on edge 'E_PNK_W_WZM', time=1472.00.
Warning: Vehicle 'veh3401' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1481.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 633 vehicles active
Warning: Vehicle 'veh3471' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1508.00.
Warning: Vehicle 'veh3471' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.05, offset=1.29), time=1508.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh3514' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3514' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.67, offset=0.31), time=1530.00.
Warning: Teleporting vehicle 'veh3376'; collision with vehicle 'veh3368', lane='E_GOR_W_NMR_H_s_1', gap=-0.89, time=1548.00, stage=move.
Warning: Vehicle 'veh3376' ends teleporting on edge 'E_PNK_W_WZM_T', time=1548.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3418'; collision with vehicle 'veh3443', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=1560.00, stage=move.
Warning: Vehicle 'veh3418' ends teleporting on edge 'E_PNK_W_WZM_T', time=1560.00.
Warning: Teleporting vehicle 'veh3472'; collision with vehicle 'veh3449', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=1562.00, stage=move.
Warning: Vehicle 'veh3472' ends teleporting on edge 'E_PNK_W_WZM_T', time=1562.00.
Warning: Teleporting vehicle 'veh3431'; collision with vehicle 'veh3481', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1568.00, stage=move.
Warning: Vehicle 'veh3431' ends teleporting on edge 'E_PNK_W_WZM_T', time=1568.00.
Warning: Vehicle 'veh3279' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1571.00.
Warning: Vehicle 'veh3279' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.21, offset=8.18), time=1571.00.
Warning: Vehicle 'veh3412' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=1585.00.
Warning: Vehicle 'veh3412' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-12.31, offset=1.47), time=1585.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3715' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1598.00.
Warning: Vehicle 'veh3604' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1600.00.
Warning: Vehicle 'veh3604' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.75, offset=1.40), time=1600.00.
INFO:TrafficSimulator:Step 1600: 630 vehicles active
Warning: Teleporting vehicle 'veh2944'; collision with vehicle 'veh3192', lane='E_WZM_N_YMK_T_0', gap=-1.58, time=1612.00, stage=move.
Warning: Vehicle 'veh2944' ends teleporting on edge 'E_WZM_N_YMK', time=1612.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3741' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
Warning: Vehicle 'veh3741' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-14.35, offset=0.20), time=1620.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh3517' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1661.00.
Warning: Vehicle 'veh3517' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.93, offset=9.73), time=1661.00.
Warning: Vehicle 'veh3938' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1673.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh3753' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1680.00.
Warning: Vehicle 'veh3753' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-18.86, offset=7.80), time=1680.00.
Warning: Vehicle 'veh3811' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1694.00.
Warning: Vehicle 'veh3811' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-16.84, offset=5.99), time=1694.00.
INFO:TrafficSimulator:Step 1700: 639 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh2710' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1725.00.
Warning: Vehicle 'veh2710' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-10.39, offset=0.74), time=1725.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3880'; collision with vehicle 'veh3887', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=1755.00, stage=move.
Warning: Vehicle 'veh3880' ends teleporting on edge 'E_PNK_W_WZM_T', time=1756.00.
Warning: Teleporting vehicle 'veh3968'; collision with vehicle 'veh4000', lane='E_GOR_W_NMR_H_s_1', gap=-5.06, time=1761.00, stage=move.
Warning: Vehicle 'veh3968' ends teleporting on edge 'E_PNK_W_WZM_T', time=1763.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh4004' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1777.00.
Warning: Vehicle 'veh4135' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1788.00.
Warning: Vehicle 'veh4135' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.23, offset=8.47), time=1788.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
Warning: Vehicle 'veh4237' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1800.00.
Warning: Vehicle 'veh4237' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_1' because of a red traffic light (decel=-13.59, offset=1.43), time=1800.00.
INFO:TrafficSimulator:Step 1800: 639 vehicles active
Warning: Vehicle 'veh3747' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1817.00.
Warning: Vehicle 'veh3747' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-10.10, offset=0.53), time=1817.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh4414' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1861.00.
Warning: Vehicle 'veh4414' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.15, offset=4.71), time=1861.00.
Warning: Vehicle 'veh3841' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1863.00.
Warning: Vehicle 'veh4037' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1863.00.
Warning: Vehicle 'veh4037' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.08, offset=2.01), time=1863.00.
Warning: Vehicle 'veh4282' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1880.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
INFO:TrafficSimulator:Step 1900: 631 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh4366' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1939.00.
Warning: Vehicle 'veh4366' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.35, offset=6.58), time=1939.00.
Warning: Teleporting vehicle 'veh4249'; collision with vehicle 'veh4331', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=1944.00, stage=move.
Warning: Vehicle 'veh4249' ends teleporting on edge 'E_PNK_W_WZM_T', time=1946.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4552' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1970.00.
Warning: Vehicle 'veh4552' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.06, offset=5.37), time=1970.00.
Warning: Vehicle 'veh4509' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1970.00.
Warning: Vehicle 'veh4509' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.51, offset=4.24), time=1970.00.
Warning: Vehicle 'veh4529' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1970.00.
Warning: Vehicle 'veh4529' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-17.11, offset=5.10), time=1970.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
INFO:TrafficSimulator:Step 2000: 617 vehicles active
Warning: Vehicle 'veh4464' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2002.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4576'; collision with vehicle 'veh4607', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=2034.00, stage=move.
Warning: Vehicle 'veh4576' ends teleporting on edge 'E_PNK_W_WZM', time=2037.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4744' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2052.00.
Warning: Vehicle 'veh4744' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.12, offset=4.30), time=2052.00.
Warning: Teleporting vehicle 'veh4741'; collision with vehicle 'veh4762', lane='E_GOR_W_NMR_H_s_1', gap=-2.05, time=2056.00, stage=move.
Warning: Vehicle 'veh4741' ends teleporting on edge 'E_PNK_W_WZM_T', time=2056.00.
Warning: Vehicle 'veh4766' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2059.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 603 vehicles active
Warning: Teleporting vehicle 'veh4653'; collision with vehicle 'veh4761', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=2124.00, stage=move.
Warning: Teleporting vehicle 'veh4867'; collision with vehicle 'veh4844', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=2127.00, stage=move.
Warning: Vehicle 'veh4653' ends teleporting on edge 'E_PNK_W_WZM', time=2127.00.
Warning: Vehicle 'veh4867' ends teleporting on edge 'E_PNK_W_WZM_T', time=2129.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Vehicle 'veh4925' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2142.00.
Warning: Vehicle 'veh4925' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.49, offset=3.57), time=2142.00.
Warning: Vehicle 'veh4947' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2149.00.
Warning: Vehicle 'veh4947' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-13.54, offset=3.95), time=2149.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
INFO:TrafficSimulator:Step 2200: 630 vehicles active
Warning: Vehicle 'veh5026' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2209.00.
Warning: Vehicle 'veh5026' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.66, offset=8.14), time=2209.00.
Warning: Teleporting vehicle 'veh5155'; collision with vehicle 'veh5061', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=2216.00, stage=move.
Warning: Vehicle 'veh5155' ends teleporting on edge 'E_PNK_W_WZM', time=2219.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Vehicle 'veh5123' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2232.00.
Warning: Vehicle 'veh5292' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2232.00.
Warning: Vehicle 'veh5292' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-18.11, offset=6.23), time=2232.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Vehicle 'veh5191' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2283.00.
Warning: Vehicle 'veh5191' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.41, offset=2.95), time=2283.00.
Warning: Vehicle 'veh5460' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2283.00.
Warning: Vehicle 'veh5460' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-12.75, offset=2.82), time=2283.00.
Warning: Vehicle 'veh5405' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2293.00.
Warning: Vehicle 'veh5405' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.37, offset=5.64), time=2293.00.
Warning: Teleporting vehicle 'veh5152'; collision with vehicle 'veh5177', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=2300.00, stage=move.
INFO:TrafficSimulator:Step 2300: 667 vehicles active
Warning: Vehicle 'veh5152' ends teleporting on edge 'E_PNK_W_WZM', time=2303.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh5353' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2312.00.
Warning: Vehicle 'veh5353' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.76, offset=9.64), time=2312.00.
Warning: Vehicle 'veh5515' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2312.00.
Warning: Vehicle 'veh5515' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.29, offset=4.98), time=2312.00.
Warning: Teleporting vehicle 'veh5362'; collision with vehicle 'veh5339', lane='E_GOR_W_NMR_H_s_1', gap=-4.35, time=2324.00, stage=move.
Warning: Vehicle 'veh5362' ends teleporting on edge 'E_PNK_W_WZM_T', time=2324.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh5457' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2340.00.
Warning: Vehicle 'veh5458' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2340.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5372'; collision with vehicle 'veh5278', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=2384.00, stage=move.
Warning: Vehicle 'veh5372' ends teleporting on edge 'E_PNK_W_WZM', time=2387.00.
Warning: Vehicle 'veh5382' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2389.00.
Warning: Vehicle 'veh5382' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.36, offset=9.35), time=2389.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 641 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5457'; collision with vehicle 'veh5458', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=2465.00, stage=move.
Warning: Teleporting vehicle 'veh5509'; collision with vehicle 'veh5465', lane='E_GOR_W_NMR_H_s_1', gap=-4.02, time=2468.00, stage=move.
Warning: Vehicle 'veh5457' ends teleporting on edge 'E_PNK_W_WZM', time=2468.00.
Warning: Vehicle 'veh5509' ends teleporting on edge 'E_PNK_W_WZM_T', time=2468.00.
Warning: Teleporting vehicle 'veh5571'; collision with vehicle 'veh5566', lane='E_GOR_W_NMR_H_s_1', gap=-5.28, time=2470.00, stage=move.
Warning: Vehicle 'veh5571' ends teleporting on edge 'E_PNK_W_WZM_T', time=2470.00.
Warning: Vehicle 'veh5791' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2479.00.
Warning: Vehicle 'veh5791' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.23, offset=2.56), time=2479.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
INFO:TrafficSimulator:Step 2500: 625 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh5976' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2545.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5780'; collision with vehicle 'veh5853', lane='E_GOR_W_NMR_H_s_1', gap=-6.16, time=2554.00, stage=move.
Warning: Vehicle 'veh5780' ends teleporting on edge 'E_PNK_W_WZM_T', time=2556.00.
Warning: Vehicle 'veh5912' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2574.00.
Warning: Vehicle 'veh5852' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2574.00.
Warning: Vehicle 'veh5852' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.64, offset=2.13), time=2574.00.
Warning: Vehicle 'veh5757' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2577.00.
Warning: Vehicle 'veh5757' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.43, offset=1.94), time=2577.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh5992' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2600.00.
INFO:TrafficSimulator:Step 2600: 595 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh4145' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2631.00.
Warning: Vehicle 'veh4145' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.01, offset=2.24), time=2631.00.
Warning: Teleporting vehicle 'veh5984'; collision with vehicle 'veh6034', lane='E_GOR_W_NMR_H_s_1', gap=-5.86, time=2637.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh5984' ends teleporting on edge 'E_PNK_W_WZM', time=2640.00.
Warning: Vehicle 'veh6377' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2656.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh5832' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2672.00.
Warning: Vehicle 'veh5796' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2672.00.
Warning: Vehicle 'veh5796' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-11.01, offset=1.35), time=2673.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6072'; collision with vehicle 'veh6171', lane='E_WZM_N_YMK_T_0', gap=-1.37, time=2700.00, stage=move.
Warning: Vehicle 'veh6072' ends teleporting on edge 'E_WZM_N_YMK', time=2700.00.
INFO:TrafficSimulator:Step 2700: 561 vehicles active
Warning: Teleporting vehicle 'veh6363'; collision with vehicle 'veh6387', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=2723.00, stage=move.
Warning: Vehicle 'veh6363' ends teleporting on edge 'E_PNK_W_WZM_T', time=2724.00.
Warning: Teleporting vehicle 'veh6362'; collision with vehicle 'veh6392', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=2728.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6362' ends teleporting on edge 'E_PNK_W_WZM', time=2731.00.
Warning: Vehicle 'veh6168' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2754.00.
Warning: Vehicle 'veh6168' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.38, offset=0.18), time=2754.00.
Warning: Vehicle 'veh6300' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2754.00.
Warning: Vehicle 'veh6300' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.37, offset=2.84), time=2754.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
INFO:TrafficSimulator:Step 2800: 559 vehicles active
Warning: Teleporting vehicle 'veh6607'; collision with vehicle 'veh6479', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=2814.00, stage=move.
Warning: Vehicle 'veh6607' ends teleporting on edge 'E_PNK_W_WZM', time=2817.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6819' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2828.00.
Warning: Vehicle 'veh6819' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.48, offset=0.54), time=2828.00.
Warning: Vehicle 'veh6577' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2844.00.
Warning: Vehicle 'veh6577' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.10, offset=4.15), time=2844.00.
Warning: Vehicle 'veh6704' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2847.00.
Warning: Vehicle 'veh6704' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.56, offset=0.42), time=2847.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6804'; collision with vehicle 'veh6816', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=2875.00, stage=move.
Warning: Vehicle 'veh6804' ends teleporting on edge 'E_PNK_W_WZM_T', time=2875.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6680'; collision with vehicle 'veh6733', lane='E_GOR_W_NMR_H_s_1', gap=-5.92, time=2886.00, stage=move.
Warning: Vehicle 'veh6680' ends teleporting on edge 'E_PNK_W_WZM_T', time=2886.00.
INFO:TrafficSimulator:Step 2900: 581 vehicles active
Warning: Teleporting vehicle 'veh6814'; collision with vehicle 'veh6822', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=2903.00, stage=move.
Warning: Teleporting vehicle 'veh6816'; junction collision with vehicle 'veh6728', lane=':J_NMR_PNK_2_0', gap=-0.36, time=2905.00, stage=move.
Warning: Vehicle 'veh6814' ends teleporting on edge 'E_PNK_W_WZM_T', time=2905.00.
Warning: Vehicle 'veh6816' ends teleporting on edge 'E_PNK_W_WZM_T', time=2906.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh7043' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2912.00.
Warning: Vehicle 'veh7043' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.66, offset=10.15), time=2912.00.
Warning: Vehicle 'veh6706' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2912.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh6640' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2942.00.
Warning: Vehicle 'veh6640' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.76, offset=0.23), time=2942.00.
Warning: Vehicle 'veh7089' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2956.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7015'; collision with vehicle 'veh7045', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=2982.00, stage=move.
Warning: Vehicle 'veh7015' ends teleporting on edge 'E_PNK_W_WZM_T', time=2982.00.
Warning: Vehicle 'veh4605' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2987.00.
Warning: Vehicle 'veh5665' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=2988.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
INFO:TrafficSimulator:Step 3000: 611 vehicles active
Warning: Vehicle 'veh7087' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3027.00.
Warning: Vehicle 'veh7087' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.56, offset=5.00), time=3027.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh6914' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3034.00.
Warning: Teleporting vehicle 'veh7270'; collision with vehicle 'veh7240', lane='E_GOR_W_NMR_H_s_1', gap=-5.97, time=3055.00, stage=move.
Warning: Vehicle 'veh7270' ends teleporting on edge 'E_PNK_W_WZM_T', time=3055.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7151'; collision with vehicle 'veh7212', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=3086.00, stage=move.
Warning: Vehicle 'veh7151' ends teleporting on edge 'E_PNK_W_WZM_T', time=3086.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7306'; collision with vehicle 'veh7280', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=3093.00, stage=move.
Warning: Vehicle 'veh7306' ends teleporting on edge 'E_PNK_W_WZM_T', time=3093.00.
INFO:TrafficSimulator:Step 3100: 604 vehicles active
Warning: Vehicle 'veh7290' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3114.00.
Warning: Vehicle 'veh7290' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.99, offset=2.00), time=3114.00.
Warning: Vehicle 'veh7197' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3117.00.
Warning: Vehicle 'veh7197' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.73, offset=1.85), time=3117.00.
Warning: Vehicle 'veh7044' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3117.00.
Warning: Vehicle 'veh4681' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3117.00.
Warning: Vehicle 'veh4681' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.05, offset=2.23), time=3117.00.
Warning: Vehicle 'veh7044' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-12.20, offset=2.71), time=3118.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7486'; collision with vehicle 'veh7458', lane='E_GOR_W_NMR_H_s_1', gap=-3.76, time=3142.00, stage=move.
Warning: Vehicle 'veh7486' ends teleporting on edge 'E_PNK_W_WZM_T', time=3142.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7466'; collision with vehicle 'veh7366', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=3177.00, stage=move.
Warning: Vehicle 'veh7466' ends teleporting on edge 'E_PNK_W_WZM_T', time=3177.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7388'; collision with vehicle 'veh7447', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=3180.00, stage=move.
Warning: Vehicle 'veh7388' ends teleporting on edge 'E_PNK_W_WZM', time=3183.00.
Warning: Vehicle 'veh7572' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3190.00.
Warning: Vehicle 'veh7572' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.23, offset=1.17), time=3190.00.
Warning: Vehicle 'veh7426' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3190.00.
Warning: Vehicle 'veh7426' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.49, offset=9.32), time=3190.00.
INFO:TrafficSimulator:Step 3200: 602 vehicles active
Warning: Vehicle 'veh7382' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=3205.00.
Warning: Vehicle 'veh7382' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-9.44, offset=0.34), time=3205.00.
Warning: Vehicle 'veh7595' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3207.00.
Warning: Vehicle 'veh7595' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.10, offset=7.05), time=3207.00.
Warning: Vehicle 'veh7573' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3207.00.
Warning: Vehicle 'veh7573' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.35, offset=8.41), time=3207.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7792' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=3226.00.
Warning: Vehicle 'veh7792' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-16.98, offset=3.76), time=3226.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh7829' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Vehicle 'veh7829' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-15.52, offset=0.61), time=3240.00.
Warning: Teleporting vehicle 'veh7617'; collision with vehicle 'veh7612', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=3266.00, stage=move.
Warning: Vehicle 'veh7617' ends teleporting on edge 'E_PNK_W_WZM', time=3269.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh7837' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3297.00.
Warning: Vehicle 'veh7837' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.42, offset=2.86), time=3297.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 598 vehicles active
Warning: Vehicle 'veh7293' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3304.00.
Warning: Vehicle 'veh7293' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.84, offset=7.22), time=3304.00.
Warning: Vehicle 'veh7826' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3317.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8008'; collision with vehicle 'veh7850', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=3362.00, stage=move.
Warning: Vehicle 'veh8008' ends teleporting on edge 'E_PNK_W_WZM_T', time=3362.00.
Warning: Teleporting vehicle 'veh8001'; collision with vehicle 'veh7922', lane='E_GOR_W_NMR_H_s_1', gap=-6.40, time=3368.00, stage=move.
Warning: Vehicle 'veh8001' ends teleporting on edge 'E_PNK_W_WZM_T', time=3368.00.
Warning: Vehicle 'veh7917' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3384.00.
Warning: Vehicle 'veh7886' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3384.00.
Warning: Vehicle 'veh7886' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.98, offset=6.92), time=3384.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Vehicle 'veh7949' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=3395.00.
Warning: Vehicle 'veh7949' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-13.35, offset=2.26), time=3395.00.
INFO:TrafficSimulator:Step 3400: 617 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Vehicle 'veh8093' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3474.00.
Warning: Vehicle 'veh4543' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3477.00.
Warning: Vehicle 'veh4543' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-17.13, offset=1.45), time=3477.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
INFO:TrafficSimulator:Step 3500: 623 vehicles active
Warning: Vehicle 'veh8424' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3506.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh5743' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3510.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Vehicle 'veh8467' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3567.00.
Warning: Vehicle 'veh8128' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3567.00.
Warning: Vehicle 'veh8128' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.58, offset=5.63), time=3567.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
INFO:TrafficSimulator:Step 3600: 637 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Vehicle 'veh8545' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3633.00.
Warning: Teleporting vehicle 'veh8655'; collision with vehicle 'veh8624', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=3640.00, stage=move.
Warning: Teleporting vehicle 'veh8729'; collision with vehicle 'veh8634', lane='E_GOR_W_NMR_H_s_1', gap=-6.38, time=3642.00, stage=move.
Warning: Vehicle 'veh8655' ends teleporting on edge 'E_PNK_W_WZM', time=3643.00.
Warning: Vehicle 'veh8729' ends teleporting on edge 'E_PNK_W_WZM', time=3645.00.
Warning: Vehicle 'veh8713' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=3648.00.
Warning: Vehicle 'veh8617' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3654.00.
Warning: Vehicle 'veh8617' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.27, offset=0.20), time=3654.00.
Warning: Vehicle 'veh8615' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3654.00.
Warning: Vehicle 'veh8649' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3657.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8728' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3671.00.
Warning: Teleporting vehicle 'veh8804'; collision with vehicle 'veh8879', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=3685.00, stage=move.
Warning: Vehicle 'veh8804' ends teleporting on edge 'E_PNK_W_WZM_T', time=3685.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
Warning: Vehicle 'veh8981' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3690.00.
Warning: Vehicle 'veh8981' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.33, offset=0.51), time=3690.00.
INFO:TrafficSimulator:Step 3700: 633 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8821'; collision with vehicle 'veh8829', lane='E_GOR_W_NMR_H_s_1', gap=-5.77, time=3730.00, stage=move.
Warning: Vehicle 'veh8821' ends teleporting on edge 'E_PNK_W_WZM', time=3733.00.
Warning: Teleporting vehicle 'veh9087'; collision with vehicle 'veh9032', lane='E_GOR_W_NMR_H_s_1', gap=-5.37, time=3741.00, stage=move.
Warning: Vehicle 'veh9087' ends teleporting on edge 'E_PNK_W_WZM_T', time=3742.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8985'; collision with vehicle 'veh8978', lane='E_GOR_W_NMR_H_s_1', gap=-4.88, time=3771.00, stage=move.
Warning: Vehicle 'veh8985' ends teleporting on edge 'E_PNK_W_WZM_T', time=3771.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 628 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9121'; collision with vehicle 'veh9127', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=3817.00, stage=move.
Warning: Vehicle 'veh9121' ends teleporting on edge 'E_PNK_W_WZM_T', time=3818.00.
Warning: Vehicle 'veh9001' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3820.00.
Warning: Vehicle 'veh9001' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.58, offset=2.31), time=3820.00.
Warning: Vehicle 'veh9089' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3834.00.
Warning: Vehicle 'veh9089' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.01, offset=5.04), time=3834.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh9452' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=3856.00.
Warning: Vehicle 'veh9452' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-14.48, offset=5.20), time=3856.00.
Warning: Teleporting vehicle 'veh9227'; collision with vehicle 'veh9319', lane='E_GOR_W_NMR_H_s_1', gap=-2.44, time=3860.00, stage=move.
Warning: Vehicle 'veh9227' ends teleporting on edge 'E_PNK_W_WZM_T', time=3860.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
Warning: Vehicle 'veh9484' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3900.00.
INFO:TrafficSimulator:Step 3900: 610 vehicles active
Warning: Teleporting vehicle 'veh9237'; collision with vehicle 'veh9259', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=3906.00, stage=move.
Warning: Vehicle 'veh9237' ends teleporting on edge 'E_PNK_W_WZM', time=3909.00.
Warning: Vehicle 'veh9651' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3915.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9482'; collision with vehicle 'veh9527', lane='E_GOR_W_NMR_H_s_1', gap=-0.84, time=3951.00, stage=move.
Warning: Vehicle 'veh9482' ends teleporting on edge 'E_PNK_W_WZM_T', time=3951.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Vehicle 'veh5042' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3960.00.
Warning: Vehicle 'veh5042' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.64, offset=2.47), time=3960.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9593'; collision with vehicle 'veh9673', lane='E_GOR_W_NMR_H_s_1', gap=-4.54, time=3999.00, stage=move.
INFO:TrafficSimulator:Step 4000: 612 vehicles active
Warning: Teleporting vehicle 'veh9682'; collision with vehicle 'veh9578', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4001.00, stage=move.
Warning: Vehicle 'veh9593' ends teleporting on edge 'E_PNK_W_WZM', time=4002.00.
Warning: Teleporting vehicle 'veh9604'; collision with vehicle 'veh9760', lane='E_GOR_W_NMR_H_s_1', gap=-5.62, time=4003.00, stage=move.
Warning: Vehicle 'veh9682' ends teleporting on edge 'E_PNK_W_WZM', time=4004.00.
Warning: Vehicle 'veh9604' ends teleporting on edge 'E_PNK_W_WZM', time=4006.00.
Warning: Vehicle 'veh9549' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4014.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh10007' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Vehicle 'veh10007' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_2' because of a red traffic light (decel=-14.20, offset=1.95), time=4050.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9842'; collision with vehicle 'veh9845', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=4090.00, stage=move.
Warning: Vehicle 'veh9842' ends teleporting on edge 'E_PNK_W_WZM', time=4093.00.
INFO:TrafficSimulator:Step 4100: 621 vehicles active
Warning: Teleporting vehicle 'veh9925'; collision with vehicle 'veh9867', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=4104.00, stage=move.
Warning: Vehicle 'veh9925' ends teleporting on edge 'E_PNK_W_WZM_T', time=4106.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh10166' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4126.00.
Warning: Vehicle 'veh10166' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-10.07, offset=0.03), time=4127.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9987'; collision with vehicle 'veh10006', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=4152.00, stage=move.
Warning: Vehicle 'veh9987' ends teleporting on edge 'E_PNK_W_WZM_T', time=4152.00.
Warning: Vehicle 'veh10219' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=4169.00.
Warning: Vehicle 'veh10219' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-19.18, offset=8.01), time=4169.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9998'; collision with vehicle 'veh9983', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=4175.00, stage=move.
Warning: Vehicle 'veh9998' ends teleporting on edge 'E_PNK_W_WZM_T', time=4177.00.
Warning: Teleporting vehicle 'veh10073'; collision with vehicle 'veh10095', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=4181.00, stage=move.
Warning: Vehicle 'veh10073' ends teleporting on edge 'E_PNK_W_WZM', time=4184.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 646 vehicles active
Warning: Vehicle 'veh10411' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4204.00.
Warning: Vehicle 'veh10411' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.56, offset=5.23), time=4204.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh10437' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4259.00.
Warning: Vehicle 'veh10437' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.93, offset=7.52), time=4259.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10252'; collision with vehicle 'veh10233', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=4265.00, stage=move.
Warning: Vehicle 'veh10252' ends teleporting on edge 'E_PNK_W_WZM_T', time=4267.00.
Warning: Teleporting vehicle 'veh10374'; collision with vehicle 'veh10330', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=4271.00, stage=move.
Warning: Vehicle 'veh10374' ends teleporting on edge 'E_PNK_W_WZM', time=4275.00.
Warning: Teleporting vehicle 'veh10524'; collision with vehicle 'veh10556', lane='E_NMR_S_PNK_0', gap=-0.60, time=4277.00, stage=move.
Warning: Vehicle 'veh10524' ends teleporting on edge 'E_NMR_S_PNK_H_r', time=4277.00.
Warning: Vehicle 'veh10337' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4284.00.
Warning: Vehicle 'veh10337' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.49, offset=3.34), time=4284.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh6986' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4294.00.
INFO:TrafficSimulator:Step 4300: 631 vehicles active
Warning: Vehicle 'veh10444' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4307.00.
Warning: Vehicle 'veh10505' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4307.00.
Warning: Teleporting vehicle 'veh10444'; collision with vehicle 'veh10528', lane='E_GOR_W_NMR_H_s_1', gap=-0.42, time=4307.00, stage=move.
Warning: Vehicle 'veh10444' ends teleporting on edge 'E_PNK_W_WZM_T', time=4307.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10450'; collision with vehicle 'veh10418', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=4356.00, stage=move.
Warning: Teleporting vehicle 'veh10504'; collision with vehicle 'veh10634', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=4358.00, stage=move.
Warning: Vehicle 'veh10450' ends teleporting on edge 'E_PNK_W_WZM_T', time=4358.00.
Warning: Teleporting vehicle 'veh10578'; collision with vehicle 'veh10623', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=4361.00, stage=move.
Warning: Vehicle 'veh10504' ends teleporting on edge 'E_PNK_W_WZM', time=4361.00.
Warning: Vehicle 'veh10578' ends teleporting on edge 'E_PNK_W_WZM', time=4364.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
INFO:TrafficSimulator:Step 4400: 632 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh10995' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4430.00.
Warning: Vehicle 'veh10995' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.58, offset=0.26), time=4430.00.
Warning: Vehicle 'veh10990' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4430.00.
Warning: Vehicle 'veh10990' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.22, offset=1.52), time=4430.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10717'; collision with vehicle 'veh10781', lane='E_GOR_W_NMR_H_s_1', gap=-6.21, time=4448.00, stage=move.
Warning: Teleporting vehicle 'veh10754'; collision with vehicle 'veh10845', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=4450.00, stage=move.
Warning: Vehicle 'veh10717' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=4453.00.
Warning: Vehicle 'veh10754' ends teleporting on edge 'E_PNK_W_WZM', time=4453.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh10957' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4487.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh11123' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh11123' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.16, offset=0.42), time=4500.00.
INFO:TrafficSimulator:Step 4500: 657 vehicles active
Warning: Vehicle 'veh11236' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4520.00.
Warning: Vehicle 'veh11236' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.97, offset=0.84), time=4520.00.
Warning: Vehicle 'veh11216' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4529.00.
Warning: Vehicle 'veh11186' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4529.00.
Warning: Vehicle 'veh11186' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-20.44, offset=3.86), time=4529.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11090'; collision with vehicle 'veh11047', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=4536.00, stage=move.
Warning: Vehicle 'veh11090' ends teleporting on edge 'E_PNK_W_WZM_T', time=4538.00.
Warning: Teleporting vehicle 'veh11080'; collision with vehicle 'veh11022', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=4543.00, stage=move.
Warning: Vehicle 'veh11080' ends teleporting on edge 'E_PNK_W_WZM_T', time=4543.00.
Warning: Vehicle 'veh11319' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4546.00.
Warning: Vehicle 'veh10603' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4557.00.
Warning: Vehicle 'veh7057' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4557.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh11156' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4577.00.
Warning: Vehicle 'veh11156' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-21.17, offset=7.12), time=4577.00.
Warning: Vehicle 'veh10876' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4577.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh11361' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh11361' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-13.04, offset=1.46), time=4590.00.
INFO:TrafficSimulator:Step 4600: 674 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11163'; collision with vehicle 'veh11332', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=4620.00, stage=move.
Warning: Vehicle 'veh11163' ends teleporting on edge 'E_PNK_W_WZM_T', time=4620.00.
Warning: Vehicle 'veh11545' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4631.00.
Warning: Vehicle 'veh11545' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.56, offset=9.17), time=4631.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11409'; collision with vehicle 'veh11385', lane='E_GOR_W_NMR_H_s_1', gap=-3.44, time=4686.00, stage=move.
Warning: Vehicle 'veh11409' ends teleporting on edge 'E_PNK_W_WZM_T', time=4686.00.
INFO:TrafficSimulator:Step 4700: 695 vehicles active
Warning: Vehicle 'veh11485' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4704.00.
Warning: Vehicle 'veh11485' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-14.96, offset=5.64), time=4704.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh11774' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=4716.00.
Warning: Vehicle 'veh11774' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-9.73, offset=0.27), time=4716.00.
Warning: Vehicle 'veh11497' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4734.00.
Warning: Vehicle 'veh11497' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.91, offset=4.24), time=4734.00.
Warning: Vehicle 'veh5790' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4737.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh11648' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4759.00.
Warning: Vehicle 'veh7995' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4759.00.
Warning: Vehicle 'veh7995' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-14.20, offset=3.48), time=4759.00.
Warning: Vehicle 'veh11602' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4759.00.
Warning: Vehicle 'veh11602' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-19.86, offset=10.13), time=4759.00.
Warning: Vehicle 'veh11648' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-11.30, offset=1.49), time=4760.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11789' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4794.00.
Warning: Vehicle 'veh11747' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4794.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11751'; collision with vehicle 'veh11715', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=4800.00, stage=move.
Warning: Vehicle 'veh11751' ends teleporting on edge 'E_PNK_W_WZM_T', time=4800.00.
INFO:TrafficSimulator:Step 4800: 674 vehicles active
Warning: Teleporting vehicle 'veh11749'; collision with vehicle 'veh11661', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=4802.00, stage=move.
Warning: Vehicle 'veh11749' ends teleporting on edge 'E_PNK_W_WZM_T', time=4802.00.
Warning: Vehicle 'veh11756' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4804.00.
Warning: Vehicle 'veh11756' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.93, offset=6.95), time=4804.00.
Warning: Teleporting vehicle 'veh11734'; collision with vehicle 'veh11714', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=4805.00, stage=move.
Warning: Vehicle 'veh11697' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4806.00.
Warning: Vehicle 'veh11697' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-14.81, offset=5.05), time=4806.00.
Warning: Vehicle 'veh11734' ends teleporting on edge 'E_PNK_W_WZM', time=4809.00.
Warning: Teleporting vehicle 'veh11675'; collision with vehicle 'veh11866', lane='E_PNK_W_WZM_T_0', gap=-0.28, time=4821.00, stage=move.
Warning: Vehicle 'veh11675' ends teleporting on edge 'E_PNK_W_WZM', time=4821.00.
Warning: Vehicle 'veh11832' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4827.00.
Warning: Vehicle 'veh11759' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4827.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh11201' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4849.00.
Warning: Vehicle 'veh11201' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-11.66, offset=2.37), time=4849.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Vehicle 'veh12060' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4884.00.
Warning: Vehicle 'veh12060' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.00, offset=10.88), time=4884.00.
Warning: Vehicle 'veh12078' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=4884.00.
Warning: Vehicle 'veh12078' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.29, offset=5.92), time=4884.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11957'; collision with vehicle 'veh11876', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=4890.00, stage=move.
Warning: Vehicle 'veh11957' ends teleporting on edge 'E_PNK_W_WZM', time=4893.00.
Warning: Vehicle 'veh12265' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4898.00.
Warning: Vehicle 'veh11983' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4898.00.
Warning: Vehicle 'veh11983' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.51, offset=4.13), time=4898.00.
INFO:TrafficSimulator:Step 4900: 627 vehicles active
Warning: Teleporting vehicle 'veh11971'; collision with vehicle 'veh12080', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=4901.00, stage=move.
Warning: Vehicle 'veh11971' ends teleporting on edge 'E_PNK_W_WZM_T', time=4902.00.
Warning: Teleporting vehicle 'veh11934'; collision with vehicle 'veh11990', lane='E_PNK_W_WZM_T_0', gap=-0.38, time=4907.00, stage=move.
Warning: Vehicle 'veh11934' ends teleporting on edge 'E_PNK_W_WZM', time=4907.00.
Warning: Vehicle 'veh12018' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4914.00.
Warning: Vehicle 'veh12070' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4917.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh12166' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4939.00.
Warning: Vehicle 'veh12166' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.09, offset=1.11), time=4939.00.
Warning: Vehicle 'veh12079' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4939.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12207'; collision with vehicle 'veh12175', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=4979.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh12207' ends teleporting on edge 'E_PNK_W_WZM_T', time=4981.00.
INFO:TrafficSimulator:Step 5000: 623 vehicles active
Warning: Vehicle 'veh12238' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5004.00.
Warning: Vehicle 'veh12110' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5004.00.
Warning: Vehicle 'veh12110' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.18, offset=4.65), time=5004.00.
Warning: Vehicle 'veh12185' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5007.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12385'; collision with vehicle 'veh12503', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=5068.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12423'; collision with vehicle 'veh12471', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=5071.00, stage=move.
Warning: Vehicle 'veh12385' ends teleporting on edge 'E_PNK_W_WZM', time=5071.00.
Warning: Vehicle 'veh12423' ends teleporting on edge 'E_PNK_W_WZM_T', time=5071.00.
Warning: Vehicle 'veh12321' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5094.00.
Warning: Vehicle 'veh12321' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.09, offset=6.90), time=5094.00.
Warning: Vehicle 'veh12477' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5094.00.
Warning: Vehicle 'veh12477' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.25, offset=0.22), time=5094.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 595 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12940' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5150.00.
Warning: Vehicle 'veh12940' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.83, offset=4.68), time=5150.00.
Warning: Teleporting vehicle 'veh12793'; collision with vehicle 'veh12738', lane='E_GOR_W_NMR_H_s_1', gap=-6.08, time=5158.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh12793' ends teleporting on edge 'E_PNK_W_WZM', time=5161.00.
Warning: Vehicle 'veh12845' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5187.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 595 vehicles active
Warning: Teleporting vehicle 'veh12852'; collision with vehicle 'veh12814', lane='E_GOR_W_NMR_H_s_1', gap=-0.45, time=5208.00, stage=move.
Warning: Vehicle 'veh12852' ends teleporting on edge 'E_PNK_W_WZM_T', time=5208.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12848'; collision with vehicle 'veh12867', lane='E_GOR_W_NMR_H_s_1', gap=-6.53, time=5250.00, stage=move.
Warning: Vehicle 'veh12848' ends teleporting on edge 'E_PNK_W_WZM_T', time=5250.00.
Warning: Teleporting vehicle 'veh12949'; collision with vehicle 'veh12982', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=5252.00, stage=move.
Warning: Vehicle 'veh12949' ends teleporting on edge 'E_PNK_W_WZM', time=5255.00.
Warning: Vehicle 'veh12093' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5274.00.
Warning: Vehicle 'veh12093' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.54, offset=1.21), time=5275.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Vehicle 'veh13290' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5296.00.
Warning: Vehicle 'veh13151' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5300.00.
INFO:TrafficSimulator:Step 5300: 627 vehicles active
Warning: Teleporting vehicle 'veh13215'; collision with vehicle 'veh13163', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=5304.00, stage=move.
Warning: Vehicle 'veh13215' ends teleporting on edge 'E_PNK_W_WZM_T', time=5304.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh13325' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5332.00.
Warning: Vehicle 'veh13325' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.50, offset=2.50), time=5332.00.
Warning: Teleporting vehicle 'veh13238'; collision with vehicle 'veh13276', lane='E_GOR_W_NMR_H_s_1', gap=-6.60, time=5338.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh13238' ends teleporting on edge 'E_PNK_W_WZM', time=5341.00.
Warning: Teleporting vehicle 'veh13162'; collision with vehicle 'veh13201', lane='E_GOR_W_NMR_H_s_1', gap=-5.04, time=5346.00, stage=move.
Warning: Vehicle 'veh13162' ends teleporting on edge 'E_PNK_W_WZM', time=5349.00.
Warning: Vehicle 'veh13355' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5353.00.
Warning: Vehicle 'veh13245' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5364.00.
Warning: Vehicle 'veh13245' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-13.44, offset=4.39), time=5364.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh13551' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5371.00.
Warning: Vehicle 'veh13551' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.76, offset=4.43), time=5371.00.
Warning: Vehicle 'veh12466' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5374.00.
Warning: Vehicle 'veh13526' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5374.00.
Warning: Vehicle 'veh13516' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5374.00.
Warning: Vehicle 'veh13516' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.18, offset=7.49), time=5374.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
INFO:TrafficSimulator:Step 5400: 656 vehicles active
Warning: Teleporting vehicle 'veh13506'; collision with vehicle 'veh13376', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=5428.00, stage=move.
Warning: Vehicle 'veh13506' ends teleporting on edge 'E_PNK_W_WZM_T', time=5429.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh13414' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5454.00.
Warning: Vehicle 'veh13459' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5457.00.
Warning: Vehicle 'veh13459' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.42, offset=2.17), time=5457.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh13604' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5468.00.
Warning: Vehicle 'veh13604' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.66, offset=3.65), time=5468.00.
Warning: Vehicle 'veh13783' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5476.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13615'; collision with vehicle 'veh13568', lane='E_GOR_W_NMR_H_s_1', gap=-3.31, time=5497.00, stage=move.
Warning: Vehicle 'veh13615' ends teleporting on edge 'E_PNK_W_WZM_T', time=5497.00.
INFO:TrafficSimulator:Step 5500: 708 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Vehicle 'veh13537' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=5546.00.
Warning: Vehicle 'veh13537' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-13.97, offset=0.67), time=5546.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh14049' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5554.00.
Warning: Vehicle 'veh14049' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.32, offset=0.55), time=5554.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 746 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13800'; collision with vehicle 'veh13923', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=5626.00, stage=move.
Warning: Vehicle 'veh13800' ends teleporting on edge 'E_PNK_W_WZM', time=5630.00.
Warning: Teleporting vehicle 'veh13943'; collision with vehicle 'veh13949', lane='E_GOR_W_NMR_H_s_1', gap=-4.20, time=5631.00, stage=move.
Warning: Teleporting vehicle 'veh13942'; collision with vehicle 'veh13954', lane='E_GOR_W_NMR_H_s_1', gap=-5.64, time=5633.00, stage=move.
Warning: Vehicle 'veh13943' ends teleporting on edge 'E_PNK_W_WZM', time=5634.00.
Warning: Vehicle 'veh13292' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5637.00.
Warning: Vehicle 'veh13191' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5637.00.
Warning: Vehicle 'veh13191' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.45, offset=4.23), time=5637.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh14395' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh14453' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5690.00.
Warning: Vehicle 'veh14453' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.74, offset=1.07), time=5690.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 791 vehicles active
Warning: Vehicle 'veh13942' ends teleporting on edge 'E_WZM_S', time=5710.00.
Warning: Vehicle 'veh14130' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5713.00.
Warning: Vehicle 'veh14130' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.89, offset=0.43), time=5713.00.
Warning: Teleporting vehicle 'veh14183'; collision with vehicle 'veh14297', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=5718.00, stage=move.
Warning: Teleporting vehicle 'veh13889'; junction collision with vehicle 'veh14044', lane=':J_WZM_PNK_12_0', gap=-0.44, time=5723.00, stage=move.
Warning: Vehicle 'veh13889' ends teleporting on edge 'E_PNK_E_NMR_T', time=5723.00.
Warning: Teleporting vehicle 'veh14044'; collision with vehicle 'veh13889', lane='E_PNK_E_NMR_T_0', gap=-1.91, time=5724.00, stage=move.
Warning: Vehicle 'veh14044' ends teleporting on edge 'E_PNK_E_NMR', time=5726.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh14375' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5750.00.
Warning: Vehicle 'veh14375' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.07, offset=0.63), time=5750.00.
Warning: Teleporting vehicle 'veh14432'; collision with vehicle 'veh14371', lane='E_GOR_W_NMR_H_s_1', gap=-4.58, time=5754.00, stage=move.
Warning: Vehicle 'veh14432' ends teleporting on edge 'E_PNK_W_WZM_T', time=5754.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh14183' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=5778.00.
Warning: Vehicle 'veh14699' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5780.00.
Warning: Vehicle 'veh14699' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.31, offset=1.60), time=5780.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh14769' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5796.00.
INFO:TrafficSimulator:Step 5800: 810 vehicles active
Warning: Vehicle 'veh14799' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5801.00.
Warning: Vehicle 'veh14797' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5801.00.
Warning: Vehicle 'veh14797' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.80, offset=2.63), time=5801.00.
Warning: Teleporting vehicle 'veh14496'; collision with vehicle 'veh14552', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=5802.00, stage=move.
Warning: Vehicle 'veh14496' ends teleporting on edge 'E_PNK_W_WZM_T', time=5802.00.
Warning: Teleporting vehicle 'veh14514'; collision with vehicle 'veh14488', lane='E_GOR_W_NMR_H_s_1', gap=-5.98, time=5805.00, stage=move.
Warning: Vehicle 'veh14514' ends teleporting on edge 'E_PNK_W_WZM', time=5808.00.
Warning: Vehicle 'veh7916' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5818.00.
Warning: Vehicle 'veh7916' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.74, offset=2.32), time=5818.00.
Warning: Teleporting vehicle 'veh14446'; junction collision with vehicle 'veh14456', lane=':J_WZM_PNK_12_0', gap=-0.62, time=5818.00, stage=move.
Warning: Vehicle 'veh14446' ends teleporting on edge 'E_PNK_E_NMR_T', time=5818.00.
Warning: Teleporting vehicle 'veh14456'; collision with vehicle 'veh14446', lane='E_PNK_E_NMR_T_0', gap=-0.99, time=5819.00, stage=move.
Warning: Vehicle 'veh14456' ends teleporting on edge 'E_PNK_E_NMR', time=5819.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh15033' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5889.00.
Warning: Vehicle 'veh15033' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.72, offset=3.17), time=5889.00.
Warning: Teleporting vehicle 'veh14651'; collision with vehicle 'veh14686', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=5889.00, stage=move.
INFO:TrafficSimulator:Step 5900: 806 vehicles active
Warning: Vehicle 'veh14770' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5907.00.
Warning: Vehicle 'veh14687' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5908.00.
Warning: Vehicle 'veh14770' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-10.72, offset=1.23), time=5908.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh15102' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5914.00.
Warning: Vehicle 'veh15102' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-20.22, offset=2.27), time=5914.00.
Warning: Vehicle 'veh15091' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=5926.00.
Warning: Vehicle 'veh15091' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-13.23, offset=3.10), time=5926.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh14651' ends teleporting on edge 'E_PNK_W', time=5941.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15042'; collision with vehicle 'veh14989', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=5974.00, stage=move.
Warning: Vehicle 'veh15042' ends teleporting on edge 'E_PNK_W_WZM_T', time=5976.00.
Warning: Vehicle 'veh14686' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5983.00.
Warning: Vehicle 'veh14686' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.37, offset=2.17), time=5983.00.
Warning: Vehicle 'veh15032' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5997.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 790 vehicles active
Warning: Vehicle 'veh15368' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=6016.00.
Warning: Vehicle 'veh15368' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-16.62, offset=7.41), time=6016.00.
Warning: Vehicle 'veh15364' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6016.00.
Warning: Vehicle 'veh15364' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-18.16, offset=7.08), time=6016.00.
Warning: Teleporting vehicle 'veh15178'; collision with vehicle 'veh15222', lane='E_GOR_W_NMR_H_s_1', gap=-5.54, time=6028.00, stage=move.
Warning: Vehicle 'veh15178' ends teleporting on edge 'E_PNK_W_WZM_T', time=6028.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh8092' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh8092' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-9.94, offset=0.65), time=6030.00.
Warning: Teleporting vehicle 'veh15309'; collision with vehicle 'veh15248', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=6032.00, stage=move.
Warning: Vehicle 'veh15309' ends teleporting on edge 'E_PNK_W_WZM_T', time=6032.00.
Warning: Vehicle 'veh15502' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6050.00.
Warning: Vehicle 'veh15502' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-14.65, offset=2.26), time=6050.00.
Warning: Vehicle 'veh15198' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6051.00.
Warning: Vehicle 'veh15198' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-13.77, offset=0.72), time=6051.00.
Warning: Teleporting vehicle 'veh15175'; collision with vehicle 'veh15133', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=6058.00, stage=move.
Warning: Vehicle 'veh15175' ends teleporting on edge 'E_PNK_W_WZM_T', time=6058.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Vehicle 'veh15104' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6088.00.
Warning: Vehicle 'veh15104' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.52, offset=2.49), time=6088.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
INFO:TrafficSimulator:Step 6100: 755 vehicles active
Warning: Vehicle 'veh15437' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6115.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15388'; collision with vehicle 'veh15404', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=6148.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Vehicle 'veh15388' ends teleporting on edge 'E_PNK_W_WZM', time=6151.00.
Warning: Vehicle 'veh15440' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6157.00.
Warning: Vehicle 'veh15440' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.06, offset=4.30), time=6157.00.
Warning: Vehicle 'veh15697' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6171.00.
Warning: Vehicle 'veh15697' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.18, offset=2.42), time=6171.00.
Warning: Vehicle 'veh15615' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6177.00.
Warning: Vehicle 'veh15615' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.91, offset=6.19), time=6177.00.
Warning: Vehicle 'veh15520' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6178.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15651'; collision with vehicle 'veh15649', lane='E_GOR_W_NMR_H_s_1', gap=-4.20, time=6198.00, stage=move.
Warning: Vehicle 'veh15651' ends teleporting on edge 'E_PNK_W_WZM_T', time=6198.00.
INFO:TrafficSimulator:Step 6200: 719 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15853'; collision with vehicle 'veh15828', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=6237.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh15853' ends teleporting on edge 'E_PNK_W_WZM', time=6240.00.
Warning: Vehicle 'veh15831' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6251.00.
Warning: Vehicle 'veh15831' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.06, offset=1.02), time=6251.00.
Warning: Vehicle 'veh15763' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6251.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15973'; collision with vehicle 'veh15966', lane='E_GOR_W_NMR_H_s_1', gap=-4.78, time=6290.00, stage=move.
Warning: Vehicle 'veh15973' ends teleporting on edge 'E_PNK_W_WZM_T', time=6290.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 660 vehicles active
Warning: Teleporting vehicle 'veh16068'; collision with vehicle 'veh16053', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=6327.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16006'; collision with vehicle 'veh15909', lane='E_GOR_W_NMR_H_s_1', gap=-3.23, time=6330.00, stage=move.
Warning: Vehicle 'veh16006' ends teleporting on edge 'E_PNK_W_WZM_T', time=6330.00.
Warning: Vehicle 'veh16068' ends teleporting on edge 'E_PNK_W_WZM', time=6330.00.
Warning: Vehicle 'veh15999' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6343.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh15393' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6366.00.
Warning: Vehicle 'veh15393' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-14.59, offset=4.02), time=6366.00.
Warning: Teleporting vehicle 'veh16199'; collision with vehicle 'veh16194', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=6381.00, stage=move.
Warning: Vehicle 'veh16199' ends teleporting on edge 'E_PNK_W_WZM_T', time=6381.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh16429' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16429' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.74, offset=0.93), time=6390.00.
INFO:TrafficSimulator:Step 6400: 651 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16284'; collision with vehicle 'veh16207', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=6426.00, stage=move.
Warning: Vehicle 'veh16284' ends teleporting on edge 'E_PNK_W_WZM', time=6429.00.
Warning: Vehicle 'veh16188' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6439.00.
Warning: Vehicle 'veh16188' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.56, offset=8.13), time=6439.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh16379' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6456.00.
Warning: Vehicle 'veh16667' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=6466.00.
Warning: Vehicle 'veh16667' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-15.03, offset=5.89), time=6466.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
Warning: Vehicle 'veh16708' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6480.00.
Warning: Vehicle 'veh16708' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-12.06, offset=3.00), time=6480.00.
INFO:TrafficSimulator:Step 6500: 681 vehicles active
Warning: Vehicle 'veh16666' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6501.00.
Warning: Vehicle 'veh16666' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.42, offset=1.53), time=6501.00.
Warning: Vehicle 'veh16535' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6501.00.
Warning: Vehicle 'veh16535' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-17.38, offset=3.82), time=6501.00.
Warning: Teleporting vehicle 'veh16586'; collision with vehicle 'veh16660', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=6507.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16586' ends teleporting on edge 'E_PNK_W_WZM', time=6510.00.
Warning: Vehicle 'veh16757' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6531.00.
Warning: Vehicle 'veh16757' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.21, offset=4.92), time=6531.00.
Warning: Vehicle 'veh16647' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6534.00.
Warning: Vehicle 'veh16647' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.26, offset=0.47), time=6535.00.
Warning: Vehicle 'veh16542' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6537.00.
Warning: Vehicle 'veh16542' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-19.34, offset=7.70), time=6537.00.
Warning: Vehicle 'veh16725' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6537.00.
Warning: Vehicle 'veh16725' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.61, offset=2.91), time=6537.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Vehicle 'veh8905' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6591.00.
Warning: Vehicle 'veh16816' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6591.00.
Warning: Vehicle 'veh16816' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-19.60, offset=3.55), time=6591.00.
Warning: Teleporting vehicle 'veh16852'; collision with vehicle 'veh16907', lane='E_GOR_W_NMR_H_s_1', gap=-6.09, time=6598.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 681 vehicles active
Warning: Teleporting vehicle 'veh16728'; collision with vehicle 'veh16760', lane='E_GOR_W_NMR_H_s_1', gap=-2.89, time=6601.00, stage=move.
Warning: Vehicle 'veh16852' ends teleporting on edge 'E_PNK_W_WZM', time=6601.00.
Warning: Vehicle 'veh16728' ends teleporting on edge 'E_PNK_W_WZM', time=6604.00.
Warning: Vehicle 'veh16840' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6621.00.
Warning: Vehicle 'veh10785' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6627.00.
Warning: Vehicle 'veh10785' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.82, offset=5.79), time=6627.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh17096' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6677.00.
Warning: Vehicle 'veh9079' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6677.00.
Warning: Vehicle 'veh9079' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.39, offset=8.29), time=6677.00.
Warning: Vehicle 'veh17019' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6677.00.
Warning: Vehicle 'veh17019' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-14.32, offset=4.64), time=6677.00.
Warning: Vehicle 'veh17096' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.25, offset=2.95), time=6678.00.
Warning: Teleporting vehicle 'veh17134'; collision with vehicle 'veh17130', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=6684.00, stage=move.
Warning: Vehicle 'veh17134' ends teleporting on edge 'E_PNK_W_WZM_T', time=6684.00.
Warning: Teleporting vehicle 'veh17038'; collision with vehicle 'veh16978', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=6689.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17140'; collision with vehicle 'veh17124', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=6691.00, stage=move.
Warning: Vehicle 'veh17038' ends teleporting on edge 'E_PNK_W_WZM', time=6692.00.
Warning: Vehicle 'veh17140' ends teleporting on edge 'E_PNK_W_WZM', time=6694.00.
INFO:TrafficSimulator:Step 6700: 697 vehicles active
Warning: Vehicle 'veh17187' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6717.00.
Warning: Vehicle 'veh17187' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.65, offset=7.30), time=6717.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh16348' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6726.00.
Warning: Vehicle 'veh16348' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-19.72, offset=5.96), time=6726.00.
Warning: Vehicle 'veh17433' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6726.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
Warning: Vehicle 'veh17497' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6750.00.
Warning: Vehicle 'veh9108' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6763.00.
Warning: Vehicle 'veh9108' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.01, offset=3.49), time=6763.00.
Warning: Vehicle 'veh17257' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6763.00.
Warning: Vehicle 'veh17257' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-16.90, offset=3.33), time=6763.00.
Warning: Teleporting vehicle 'veh17210'; collision with vehicle 'veh17409', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=6773.00, stage=move.
Warning: Vehicle 'veh17210' ends teleporting on edge 'E_PNK_W_WZM_T', time=6773.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
INFO:TrafficSimulator:Step 6800: 710 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh17701' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6867.00.
Warning: Vehicle 'veh17701' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.78, offset=2.01), time=6867.00.
Warning: Vehicle 'veh17714' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6867.00.
Warning: Vehicle 'veh17714' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.76, offset=2.21), time=6867.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh17883' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6879.00.
Warning: Teleporting vehicle 'veh17541'; collision with vehicle 'veh17521', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=6881.00, stage=move.
Warning: Vehicle 'veh17541' ends teleporting on edge 'E_PNK_W_WZM_T', time=6881.00.
Warning: Teleporting vehicle 'veh17661'; collision with vehicle 'veh17676', lane='E_GOR_W_NMR_H_s_1', gap=-1.38, time=6893.00, stage=move.
Warning: Vehicle 'veh17661' ends teleporting on edge 'E_PNK_W_WZM', time=6896.00.
Warning: Vehicle 'veh17581' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6897.00.
Warning: Vehicle 'veh17581' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.83, offset=5.67), time=6897.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
INFO:TrafficSimulator:Step 6900: 748 vehicles active
Warning: Vehicle 'veh17590' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6906.00.
Warning: Vehicle 'veh17590' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.32, offset=7.72), time=6906.00.
Warning: Vehicle 'veh17647' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6907.00.
Warning: Teleporting vehicle 'veh17647'; collision with vehicle 'veh17590', lane='E_HLC_E_AYA_H_s_1', gap=-0.07, time=6907.00, stage=move.
Warning: Vehicle 'veh17647' ends teleporting on edge 'E_BLK_E', time=6907.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh11706' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17852'; collision with vehicle 'veh17874', lane='E_GOR_W_NMR_H_s_1', gap=-5.73, time=6977.00, stage=move.
Warning: Vehicle 'veh17852' ends teleporting on edge 'E_PNK_W_WZM_T', time=6979.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
Warning: Vehicle 'veh17497' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6996.00.
Warning: Vehicle 'veh17497' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.72, offset=5.64), time=6996.00.
INFO:TrafficSimulator:Step 7000: 767 vehicles active
Warning: Vehicle 'veh18192' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7006.00.
Warning: Vehicle 'veh18185' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7006.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh18256' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh18248' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh18248' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-11.85, offset=1.43), time=7020.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh18174' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7061.00.
Warning: Vehicle 'veh18174' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-17.83, offset=5.22), time=7061.00.
Warning: Teleporting vehicle 'veh18030'; collision with vehicle 'veh18120', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=7067.00, stage=move.
Warning: Vehicle 'veh18030' ends teleporting on edge 'E_PNK_W_WZM', time=7070.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
INFO:TrafficSimulator:Step 7100: 757 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh18375' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh18375' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-13.71, offset=4.48), time=7110.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18349'; collision with vehicle 'veh18142', lane='E_GOR_W_NMR_H_s_1', gap=-5.16, time=7152.00, stage=move.
Warning: Vehicle 'veh18349' ends teleporting on edge 'E_PNK_W_WZM_T', time=7152.00.
Warning: Vehicle 'veh17941' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=7161.00.
Warning: Teleporting vehicle 'veh18482'; collision with vehicle 'veh18350', lane='E_GOR_W_NMR_H_s_1', gap=-1.33, time=7161.00, stage=move.
Warning: Vehicle 'veh18482' ends teleporting on edge 'E_PNK_W_WZM_T', time=7163.00.
Warning: Vehicle 'veh17965' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=7169.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh18683' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7186.00.
Warning: Vehicle 'veh18683' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-20.03, offset=4.18), time=7186.00.
Warning: Vehicle 'veh18605' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7190.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh18638' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
Warning: Vehicle 'veh18638' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.10, offset=0.90), time=7200.00.
INFO:TrafficSimulator:Step 7200: 760 vehicles active
Warning: Vehicle 'veh18810' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7218.00.
Warning: Vehicle 'veh18810' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-14.90, offset=0.10), time=7218.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18496'; collision with vehicle 'veh18522', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=7240.00, stage=move.
Warning: Vehicle 'veh18496' ends teleporting on edge 'E_PNK_W_WZM_T', time=7240.00.
Warning: Teleporting vehicle 'veh18641'; collision with vehicle 'veh18625', lane='E_GOR_W_NMR_H_s_1', gap=-5.94, time=7245.00, stage=move.
Warning: Vehicle 'veh18641' ends teleporting on edge 'E_PNK_W_WZM', time=7248.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18683'; collision with vehicle 'veh18695', lane='E_GOR_W_NMR_H_s_1', gap=-4.12, time=7278.00, stage=move.
Warning: Vehicle 'veh18683' ends teleporting on edge 'E_PNK_W_WZM_T', time=7278.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 810
INFO:TrafficSimulator:Completed vehicles: 219
INFO:TrafficSimulator:Completion rate: 27.0%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16435
INFO:TreeMethodController:Vehicle total time: 4369928
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16435
INFO:TreeMethodController:Tree Method - Total driving time: 4369928
INFO:TreeMethodController:Tree Method - Average duration: 265.89 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16435
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 75.10s
 TraCI-Duration: 55.62s
 Real time factor: 97.205
 UPS: 60556.851623
Vehicles:
 Inserted: 16950 (Loaded: 18825)
 Running: 591
 Waiting: 1875
 Teleports: 141 (Collisions: 141)
 Emergency Stops: 192
 Emergency Braking: 298
Statistics (avg of 16359):
 RouteLength: 1453.65
 Speed: 7.12
 Duration: 267.16
 WaitingTime: 109.33
 TimeLoss: 161.67
 DepartDelay: 137.52
DijkstraRouter answered 90454 queries and explored 22.72 edges on average.
DijkstraRouter spent 0.13s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 810
INFO:SamplePipeline:completed_vehicles: 219
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 27.037037037037038
INFO:__main__:Pipeline execution completed successfully
