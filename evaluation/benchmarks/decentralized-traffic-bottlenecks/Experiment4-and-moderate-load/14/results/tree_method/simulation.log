INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment4-and-moderate-load/14
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 52897 ***
Loading net-file from 'workspace/grid.net.xml' ... done (19ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 3 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
Warning: Vehicle 'veh18' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=30.00.
Warning: Vehicle 'veh18' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-9.95, offset=0.23), time=30.00.
Warning: Vehicle 'veh13' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=55.00.
Warning: Vehicle 'veh13' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-12.22, offset=3.11), time=56.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
Warning: Vehicle 'veh58' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=65.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
Warning: Vehicle 'veh154' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh154' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.87, offset=2.04), time=90.00.
INFO:TrafficSimulator:Step 100: 225 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh266' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=140.00.
Warning: Vehicle 'veh266' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-13.30, offset=4.18), time=140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh125' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 371 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh174'; collision with vehicle 'veh200', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=221.00, stage=move.
Warning: Vehicle 'veh174' ends teleporting on edge 'E_PNK_W_WZM', time=224.00.
Warning: Vehicle 'veh354' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
Warning: Vehicle 'veh354' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.30, offset=7.21), time=235.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh307' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh307' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.18, offset=7.13), time=240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 422 vehicles active
Warning: Vehicle 'veh583' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=304.00.
Warning: Vehicle 'veh596' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh596' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.65, offset=3.47), time=305.00.
Warning: Teleporting vehicle 'veh495'; collision with vehicle 'veh502', lane='E_GOR_W_NMR_H_s_1', gap=-5.81, time=329.00, stage=move.
Warning: Vehicle 'veh495' ends teleporting on edge 'E_PNK_W_WZM_T', time=329.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh677' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Teleporting vehicle 'veh537'; collision with vehicle 'veh605', lane='E_GOR_W_NMR_H_s_1', gap=-4.34, time=333.00, stage=move.
Warning: Vehicle 'veh537' ends teleporting on edge 'E_PNK_W_WZM_T', time=333.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh654' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=392.00.
INFO:TrafficSimulator:Step 400: 460 vehicles active
Warning: Teleporting vehicle 'veh646'; collision with vehicle 'veh653', lane='E_GOR_W_NMR_H_s_1', gap=-3.91, time=407.00, stage=move.
Warning: Vehicle 'veh646' ends teleporting on edge 'E_PNK_W_WZM', time=410.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
Warning: Vehicle 'veh721' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=478.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
INFO:TrafficSimulator:Step 500: 500 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh907' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=512.00.
Warning: Vehicle 'veh907' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.93, offset=4.61), time=512.00.
Warning: Vehicle 'veh1006' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=512.00.
Warning: Teleporting vehicle 'veh950'; collision with vehicle 'veh938', lane='E_PNK_E_NMR_H_sr_1', gap=-0.90, time=513.00, stage=move.
Warning: Vehicle 'veh950' ends teleporting on edge 'E_GOR_E_AYA_T', time=513.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh1110' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=540.00.
Warning: Vehicle 'veh1110' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.76, offset=0.67), time=540.00.
Warning: Vehicle 'veh899' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=565.00.
Warning: Vehicle 'veh899' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.23, offset=0.57), time=565.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1185' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=598.00.
Warning: Vehicle 'veh768' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=598.00.
Warning: Vehicle 'veh768' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-16.13, offset=1.27), time=598.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 542 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1456' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=660.00.
Warning: Vehicle 'veh1456' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.54, offset=6.93), time=660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
INFO:TrafficSimulator:Step 700: 541 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1480' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=750.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1646' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=786.00.
Warning: Vehicle 'veh1646' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.34, offset=7.14), time=786.00.
Warning: Vehicle 'veh1614' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=786.00.
INFO:TrafficSimulator:Step 800: 549 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1585' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=825.00.
Warning: Vehicle 'veh1785' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=836.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1852' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=880.00.
Warning: Vehicle 'veh1852' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.65, offset=6.25), time=880.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
Warning: Vehicle 'veh1298' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
Warning: Vehicle 'veh1917' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
INFO:TrafficSimulator:Step 900: 540 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh1980' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=966.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
Warning: Vehicle 'veh2157' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=990.00.
Warning: Vehicle 'veh2157' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.05, offset=2.04), time=990.00.
INFO:TrafficSimulator:Step 1000: 534 vehicles active
Warning: Vehicle 'veh2092' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1012.00.
Warning: Vehicle 'veh2092' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-17.46, offset=3.09), time=1012.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2082' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1031.00.
Warning: Vehicle 'veh2120' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1042.00.
Warning: Vehicle 'veh2120' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.89, offset=7.03), time=1042.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh2358' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1050.00.
Warning: Vehicle 'veh2245' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1056.00.
Warning: Vehicle 'veh2245' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.35, offset=2.59), time=1056.00.
Warning: Vehicle 'veh1298' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1056.00.
Warning: Vehicle 'veh1298' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-16.05, offset=5.85), time=1056.00.
Warning: Vehicle 'veh2352' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=1059.00.
Warning: Vehicle 'veh2352' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-19.12, offset=9.64), time=1059.00.
Warning: Vehicle 'veh2348' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1059.00.
Warning: Vehicle 'veh2327' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1064.00.
Warning: Vehicle 'veh2179' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1064.00.
Warning: Vehicle 'veh2179' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-14.86, offset=0.54), time=1064.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Vehicle 'veh1381' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh1381' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-16.90, offset=1.67), time=1080.00.
Warning: Vehicle 'veh2379' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh2379' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-15.25, offset=4.49), time=1080.00.
Warning: Teleporting vehicle 'veh2170'; collision with vehicle 'veh2157', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=1091.00, stage=move.
Warning: Vehicle 'veh2170' ends teleporting on edge 'E_PNK_W_WZM_T', time=1091.00.
INFO:TrafficSimulator:Step 1100: 557 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2186' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1110.00.
Warning: Vehicle 'veh2186' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-11.38, offset=1.51), time=1110.00.
Warning: Vehicle 'veh2570' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1130.00.
Warning: Vehicle 'veh2570' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.32, offset=1.68), time=1130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Vehicle 'veh2449' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1154.00.
Warning: Vehicle 'veh2418' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1154.00.
Warning: Vehicle 'veh2418' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.20, offset=3.37), time=1154.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh1546' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2598' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1192.00.
Warning: Vehicle 'veh2598' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-11.37, offset=1.18), time=1192.00.
Warning: Teleporting vehicle 'veh2480'; collision with vehicle 'veh2533', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=1199.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 557 vehicles active
Warning: Vehicle 'veh2480' ends teleporting on edge 'E_PNK_W_WZM', time=1202.00.
Warning: Teleporting vehicle 'veh2610'; collision with vehicle 'veh2593', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=1208.00, stage=move.
Warning: Vehicle 'veh2610' ends teleporting on edge 'E_PNK_W_WZM_T', time=1208.00.
Warning: Vehicle 'veh2786' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1214.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Vehicle 'veh2601' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1260.00.
Warning: Vehicle 'veh2601' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.30, offset=1.91), time=1260.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
INFO:TrafficSimulator:Step 1300: 606 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Vehicle 'veh2874' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1327.00.
Warning: Vehicle 'veh2874' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-24.93, offset=5.15), time=1327.00.
Warning: Vehicle 'veh2820' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1327.00.
Warning: Vehicle 'veh2820' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.72, offset=7.41), time=1327.00.
Warning: Teleporting vehicle 'veh2865'; collision with vehicle 'veh2864', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=1330.00, stage=move.
Warning: Vehicle 'veh2865' ends teleporting on edge 'E_PNK_W_WZM_T', time=1330.00.
Warning: Vehicle 'veh2931' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1339.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2931'; collision with vehicle 'veh2995', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=1377.00, stage=move.
Warning: Vehicle 'veh1502' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1378.00.
Warning: Teleporting vehicle 'veh2839'; collision with vehicle 'veh2968', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=1379.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh2931' ends teleporting on edge 'E_PNK_W_WZM', time=1380.00.
Warning: Teleporting vehicle 'veh2976'; collision with vehicle 'veh2913', lane='E_GOR_W_NMR_H_s_1', gap=-6.18, time=1381.00, stage=move.
Warning: Vehicle 'veh2839' ends teleporting on edge 'E_PNK_W_WZM', time=1382.00.
Warning: Vehicle 'veh3212' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1384.00.
Warning: Vehicle 'veh3212' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.95, offset=0.63), time=1384.00.
Warning: Vehicle 'veh2806' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1384.00.
Warning: Vehicle 'veh2806' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.13, offset=5.34), time=1384.00.
Warning: Vehicle 'veh3042' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1384.00.
Warning: Vehicle 'veh2976' ends teleporting on edge 'E_PNK_W_WZM', time=1384.00.
Warning: Vehicle 'veh2744' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1394.00.
Warning: Vehicle 'veh2744' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.55, offset=4.22), time=1394.00.
INFO:TrafficSimulator:Step 1400: 627 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh3279' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1413.00.
Warning: Vehicle 'veh3243' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1421.00.
Warning: Vehicle 'veh3243' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-15.50, offset=5.30), time=1421.00.
Warning: Teleporting vehicle 'veh2555'; collision with vehicle 'veh2796', lane='E_WZM_N_YMK_T_0', gap=-0.46, time=1437.00, stage=move.
Warning: Vehicle 'veh2555' ends teleporting on edge 'E_WZM_N_YMK', time=1437.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3048'; collision with vehicle 'veh3131', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=1476.00, stage=move.
Warning: Teleporting vehicle 'veh3292'; collision with vehicle 'veh3213', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=1479.00, stage=move.
Warning: Vehicle 'veh3048' ends teleporting on edge 'E_PNK_W_WZM', time=1479.00.
Warning: Vehicle 'veh3292' ends teleporting on edge 'E_PNK_W_WZM_T', time=1481.00.
Warning: Teleporting vehicle 'veh3330'; collision with vehicle 'veh3262', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=1486.00, stage=move.
Warning: Vehicle 'veh3330' ends teleporting on edge 'E_PNK_W_WZM_T', time=1487.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 637 vehicles active
Warning: Vehicle 'veh3386' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1511.00.
Warning: Vehicle 'veh3386' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-11.58, offset=2.41), time=1512.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh3578' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3513' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3513' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.62, offset=2.62), time=1530.00.
Warning: Vehicle 'veh3506' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh3641' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1561.00.
Warning: Vehicle 'veh3641' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.09, offset=3.31), time=1561.00.
Warning: Vehicle 'veh3673' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1566.00.
Warning: Vehicle 'veh3346' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1582.00.
Warning: Vehicle 'veh3346' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-17.97, offset=6.33), time=1582.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3348' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1596.00.
Warning: Vehicle 'veh3348' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.79, offset=7.17), time=1596.00.
INFO:TrafficSimulator:Step 1600: 608 vehicles active
Warning: Vehicle 'veh3521' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1607.00.
Warning: Teleporting vehicle 'veh3568'; collision with vehicle 'veh3525', lane='E_GOR_W_NMR_H_s_1', gap=-4.89, time=1612.00, stage=move.
Warning: Vehicle 'veh3568' ends teleporting on edge 'E_PNK_W_WZM_T', time=1612.00.
Warning: Teleporting vehicle 'veh3603'; collision with vehicle 'veh3550', lane='E_GOR_W_NMR_H_s_1', gap=-6.18, time=1615.00, stage=move.
Warning: Vehicle 'veh3603' ends teleporting on edge 'E_PNK_W_WZM_T', time=1615.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3728' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh3585' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1651.00.
Warning: Vehicle 'veh3585' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.98, offset=8.95), time=1651.00.
Warning: Teleporting vehicle 'veh3602'; collision with vehicle 'veh3513', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=1653.00, stage=move.
Warning: Vehicle 'veh3602' ends teleporting on edge 'E_PNK_W_WZM', time=1656.00.
Warning: Vehicle 'veh2136' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1672.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh2202' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1683.00.
Warning: Vehicle 'veh2202' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-20.91, offset=1.02), time=1683.00.
Warning: Vehicle 'veh2160' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1688.00.
INFO:TrafficSimulator:Step 1700: 556 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh3937' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1743.00.
Warning: Vehicle 'veh3937' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.49, offset=1.11), time=1743.00.
Warning: Vehicle 'veh2271' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1762.00.
Warning: Vehicle 'veh2271' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.73, offset=7.86), time=1762.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh4167' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1785.00.
Warning: Vehicle 'veh4167' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.69, offset=5.53), time=1785.00.
Warning: Vehicle 'veh4003' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1787.00.
Warning: Vehicle 'veh4003' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.61, offset=3.51), time=1787.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 550 vehicles active
Warning: Teleporting vehicle 'veh3963'; collision with vehicle 'veh3998', lane='E_GOR_W_NMR_H_s_1', gap=-3.23, time=1814.00, stage=move.
Warning: Vehicle 'veh3963' ends teleporting on edge 'E_PNK_W_WZM_T', time=1814.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4171'; collision with vehicle 'veh4182', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=1833.00, stage=move.
Warning: Vehicle 'veh4171' ends teleporting on edge 'E_PNK_W_WZM', time=1836.00.
Warning: Teleporting vehicle 'veh4202'; collision with vehicle 'veh4090', lane='E_GOR_W_NMR_H_s_1', gap=-0.68, time=1841.00, stage=move.
Warning: Vehicle 'veh4202' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=1846.00.
Warning: Vehicle 'veh3993' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1852.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
INFO:TrafficSimulator:Step 1900: 557 vehicles active
Warning: Vehicle 'veh4176' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1908.00.
Warning: Vehicle 'veh4176' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.71, offset=1.92), time=1908.00.
Warning: Vehicle 'veh4408' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1917.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh2562' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1942.00.
Warning: Vehicle 'veh2562' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.81, offset=1.92), time=1942.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4381' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1958.00.
Warning: Vehicle 'veh4333' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1958.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh4616' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
INFO:TrafficSimulator:Step 2000: 550 vehicles active
Warning: Vehicle 'veh4668' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=2005.00.
Warning: Vehicle 'veh4668' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-16.67, offset=3.96), time=2005.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4556'; collision with vehicle 'veh4515', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=2011.00, stage=move.
Warning: Vehicle 'veh4556' ends teleporting on edge 'E_PNK_W_WZM', time=2014.00.
Warning: Vehicle 'veh4572' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2015.00.
Warning: Vehicle 'veh4782' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2016.00.
Warning: Vehicle 'veh4538' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2032.00.
Warning: Vehicle 'veh4538' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.27, offset=5.14), time=2032.00.
Warning: Vehicle 'veh4671' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2032.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4846' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2043.00.
Warning: Vehicle 'veh4845' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2043.00.
Warning: Vehicle 'veh4845' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.27, offset=6.99), time=2043.00.
Warning: Vehicle 'veh4842' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2055.00.
Warning: Vehicle 'veh4842' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-17.55, offset=6.49), time=2055.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Vehicle 'veh3621' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh3621' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.39, offset=2.76), time=2070.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 569 vehicles active
Warning: Teleporting vehicle 'veh4723'; collision with vehicle 'veh4858', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=2101.00, stage=move.
Warning: Vehicle 'veh4723' ends teleporting on edge 'E_PNK_W_WZM_T', time=2101.00.
Warning: Vehicle 'veh4921' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh3604' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2106.00.
Warning: Vehicle 'veh3604' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-18.47, offset=3.82), time=2106.00.
Warning: Vehicle 'veh4872' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2122.00.
Warning: Vehicle 'veh4872' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-15.28, offset=1.03), time=2122.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Vehicle 'veh5069' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2133.00.
Warning: Vehicle 'veh2847' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2138.00.
Warning: Vehicle 'veh4663' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2138.00.
Warning: Vehicle 'veh4663' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.62, offset=1.23), time=2138.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5028'; collision with vehicle 'veh5027', lane='E_GOR_W_NMR_H_s_1', gap=-6.30, time=2194.00, stage=move.
Warning: Vehicle 'veh5028' ends teleporting on edge 'E_PNK_W_WZM', time=2197.00.
INFO:TrafficSimulator:Step 2200: 562 vehicles active
Warning: Vehicle 'veh5113' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2212.00.
Warning: Vehicle 'veh5235' performs emergency braking on lane 'E_NMR_S_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=2214.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Vehicle 'veh3460' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2272.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
INFO:TrafficSimulator:Step 2300: 578 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh5343' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2318.00.
Warning: Vehicle 'veh5343' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-14.83, offset=5.29), time=2318.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh5481' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2362.00.
Warning: Vehicle 'veh5481' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.73, offset=4.83), time=2362.00.
Warning: Vehicle 'veh3539' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2362.00.
Warning: Vehicle 'veh3539' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-19.97, offset=8.42), time=2362.00.
Warning: Teleporting vehicle 'veh5374'; collision with vehicle 'veh5349', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=2368.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh5374' ends teleporting on edge 'E_PNK_W_WZM', time=2371.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 619 vehicles active
Warning: Vehicle 'veh4999' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2403.00.
Warning: Vehicle 'veh5740' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2403.00.
Warning: Vehicle 'veh5740' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.60, offset=0.77), time=2403.00.
Warning: Vehicle 'veh5565' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2408.00.
Warning: Vehicle 'veh5565' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.35, offset=3.93), time=2408.00.
Warning: Vehicle 'veh5745' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2415.00.
Warning: Vehicle 'veh5745' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-18.52, offset=8.94), time=2415.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh5613' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2452.00.
Warning: Vehicle 'veh5613' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-14.31, offset=4.29), time=2452.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5648'; collision with vehicle 'veh5655', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=2461.00, stage=move.
Warning: Vehicle 'veh5648' ends teleporting on edge 'E_PNK_W_WZM_T', time=2463.00.
Warning: Vehicle 'veh5611' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2469.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
INFO:TrafficSimulator:Step 2500: 601 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh6195' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2583.00.
Warning: Vehicle 'veh6195' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.26, offset=7.01), time=2583.00.
Warning: Vehicle 'veh6018' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2588.00.
Warning: Vehicle 'veh6018' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-21.28, offset=6.29), time=2588.00.
Warning: Teleporting vehicle 'veh5981'; collision with vehicle 'veh6010', lane='E_GOR_W_NMR_H_s_1', gap=-4.30, time=2592.00, stage=move.
Warning: Vehicle 'veh5981' ends teleporting on edge 'E_PNK_W_WZM_T', time=2592.00.
Warning: Teleporting vehicle 'veh5974'; collision with vehicle 'veh6024', lane='E_GOR_W_NMR_H_s_1', gap=-0.62, time=2595.00, stage=move.
Warning: Vehicle 'veh5974' ends teleporting on edge 'E_PNK_W_WZM_T', time=2595.00.
Warning: Teleporting vehicle 'veh6101'; collision with vehicle 'veh6038', lane='E_GOR_W_NMR_H_s_1', gap=-4.19, time=2600.00, stage=move.
Warning: Vehicle 'veh6101' ends teleporting on edge 'E_PNK_W_WZM_T', time=2600.00.
INFO:TrafficSimulator:Step 2600: 611 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6046'; collision with vehicle 'veh6124', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=2638.00, stage=move.
Warning: Vehicle 'veh6046' ends teleporting on edge 'E_PNK_W_WZM_T', time=2639.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh5990' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2640.00.
Warning: Vehicle 'veh5990' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.67, offset=5.40), time=2640.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh6205' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2682.00.
Warning: Teleporting vehicle 'veh6205'; collision with vehicle 'veh6227', lane='E_GOR_W_NMR_H_s_1', gap=-0.65, time=2682.00, stage=move.
Warning: Vehicle 'veh6205' ends teleporting on edge 'E_PNK_W_WZM_T', time=2682.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 599 vehicles active
Warning: Teleporting vehicle 'veh6252'; collision with vehicle 'veh6223', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=2724.00, stage=move.
Warning: Vehicle 'veh6252' ends teleporting on edge 'E_PNK_W_WZM', time=2727.00.
Warning: Teleporting vehicle 'veh6334'; collision with vehicle 'veh6353', lane='E_GOR_W_NMR_H_s_1', gap=-5.56, time=2729.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6334' ends teleporting on edge 'E_PNK_W_WZM', time=2733.00.
Warning: Vehicle 'veh6095' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=2753.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Vehicle 'veh6630' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2790.00.
Warning: Vehicle 'veh6630' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.43, offset=0.08), time=2790.00.
INFO:TrafficSimulator:Step 2800: 618 vehicles active
Warning: Vehicle 'veh6551' performs emergency braking on lane 'E_NMR_N_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2804.00.
Warning: Vehicle 'veh6551' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_2' because of a red traffic light (decel=-15.22, offset=2.35), time=2804.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh6648' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2894.00.
INFO:TrafficSimulator:Step 2900: 610 vehicles active
Warning: Teleporting vehicle 'veh6840'; collision with vehicle 'veh6804', lane='E_GOR_W_NMR_H_s_1', gap=-1.03, time=2909.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh6684' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2910.00.
Warning: Vehicle 'veh6840' ends teleporting on edge 'E_PNK_W_WZM_T', time=2910.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh5070' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2943.00.
Warning: Vehicle 'veh5070' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-19.57, offset=7.95), time=2943.00.
Warning: Vehicle 'veh6717' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2948.00.
Warning: Vehicle 'veh6717' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.50, offset=4.32), time=2948.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Vehicle 'veh6905' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2992.00.
Warning: Vehicle 'veh6905' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.48, offset=2.33), time=2992.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
INFO:TrafficSimulator:Step 3000: 618 vehicles active
Warning: Teleporting vehicle 'veh6887'; collision with vehicle 'veh6893', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=3001.00, stage=move.
Warning: Vehicle 'veh6887' ends teleporting on edge 'E_PNK_W_WZM_T', time=3003.00.
Warning: Vehicle 'veh7084' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3011.00.
Warning: Vehicle 'veh7084' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.75, offset=7.94), time=3011.00.
Warning: Teleporting vehicle 'veh7159'; collision with vehicle 'veh7149', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=3011.00, stage=move.
Warning: Vehicle 'veh7159' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=3016.00.
Warning: Vehicle 'veh6984' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3022.00.
Warning: Vehicle 'veh6984' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.59, offset=0.89), time=3022.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh7068' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3038.00.
Warning: Vehicle 'veh6983' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3038.00.
Warning: Vehicle 'veh6983' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.88, offset=4.20), time=3038.00.
Warning: Vehicle 'veh7338' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=3045.00.
Warning: Vehicle 'veh7338' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-18.48, offset=9.37), time=3045.00.
Warning: Vehicle 'veh7330' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3045.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7316'; collision with vehicle 'veh7182', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=3096.00, stage=move.
Warning: Vehicle 'veh7316' ends teleporting on edge 'E_PNK_W_WZM', time=3099.00.
INFO:TrafficSimulator:Step 3100: 598 vehicles active
Warning: Teleporting vehicle 'veh7353'; junction collision with vehicle 'veh7343', lane=':J_NMR_PNK_2_0', gap=-0.25, time=3116.00, stage=move.
Warning: Vehicle 'veh7353' ends teleporting on edge 'E_PNK_W_WZM_T', time=3116.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Vehicle 'veh7442' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3128.00.
Warning: Vehicle 'veh7442' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.70, offset=0.01), time=3128.00.
Warning: Vehicle 'veh7493' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3139.00.
Warning: Vehicle 'veh7434' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3139.00.
Warning: Vehicle 'veh7470' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3139.00.
Warning: Vehicle 'veh7470' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-18.18, offset=8.54), time=3139.00.
Warning: Vehicle 'veh7493' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-13.72, offset=0.46), time=3140.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7541'; collision with vehicle 'veh7503', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=3186.00, stage=move.
Warning: Vehicle 'veh7541' ends teleporting on edge 'E_PNK_W_WZM_T', time=3188.00.
Warning: Teleporting vehicle 'veh7564'; collision with vehicle 'veh7544', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=3189.00, stage=move.
Warning: Vehicle 'veh7564' ends teleporting on edge 'E_PNK_W_WZM_T', time=3190.00.
INFO:TrafficSimulator:Step 3200: 589 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7807' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3213.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh4386' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3276.00.
Warning: Vehicle 'veh8048' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=3298.00.
Warning: Vehicle 'veh8045' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3298.00.
Warning: Vehicle 'veh8045' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.56, offset=9.03), time=3298.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 586 vehicles active
Warning: Teleporting vehicle 'veh7858'; collision with vehicle 'veh7834', lane='E_GOR_W_NMR_H_s_1', gap=-3.64, time=3315.00, stage=move.
Warning: Vehicle 'veh7858' ends teleporting on edge 'E_PNK_W_WZM_T', time=3315.00.
Warning: Teleporting vehicle 'veh7876'; collision with vehicle 'veh7872', lane='E_GOR_W_NMR_H_s_1', gap=-0.73, time=3317.00, stage=move.
Warning: Vehicle 'veh7876' ends teleporting on edge 'E_PNK_W_WZM_T', time=3317.00.
Warning: Vehicle 'veh7872' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3319.00.
Warning: Vehicle 'veh7872' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.58, offset=6.28), time=3319.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8014'; collision with vehicle 'veh8025', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=3366.00, stage=move.
Warning: Vehicle 'veh8014' ends teleporting on edge 'E_PNK_W_WZM', time=3369.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
INFO:TrafficSimulator:Step 3400: 579 vehicles active
Warning: Vehicle 'veh8190' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3409.00.
Warning: Vehicle 'veh8190' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-16.27, offset=4.35), time=3409.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh8134' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3442.00.
Warning: Teleporting vehicle 'veh8134'; collision with vehicle 'veh8098', lane='E_GOR_W_NMR_H_s_1', gap=-0.27, time=3442.00, stage=move.
Warning: Vehicle 'veh8134' ends teleporting on edge 'E_PNK_W_WZM_T', time=3442.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Vehicle 'veh8251' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3472.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
Warning: Vehicle 'veh8024' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3492.00.
Warning: Vehicle 'veh8024' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-12.06, offset=1.02), time=3492.00.
INFO:TrafficSimulator:Step 3500: 608 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh7163' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3510.00.
Warning: Vehicle 'veh7163' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-12.55, offset=0.70), time=3510.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8305'; collision with vehicle 'veh8405', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=3540.00, stage=move.
Warning: Vehicle 'veh8305' ends teleporting on edge 'E_PNK_W_WZM_T', time=3541.00.
Warning: Vehicle 'veh8670' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3546.00.
Warning: Vehicle 'veh8670' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-11.19, offset=0.03), time=3546.00.
Warning: Teleporting vehicle 'veh8432'; collision with vehicle 'veh8469', lane='E_GOR_W_NMR_H_s_1', gap=-1.78, time=3549.00, stage=move.
Warning: Vehicle 'veh8432' ends teleporting on edge 'E_PNK_W_WZM', time=3552.00.
Warning: Vehicle 'veh8485' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3562.00.
Warning: Vehicle 'veh8485' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.06, offset=2.29), time=3562.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh8466' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3578.00.
Warning: Vehicle 'veh8466' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.94, offset=1.12), time=3578.00.
Warning: Vehicle 'veh8375' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3578.00.
Warning: Vehicle 'veh8375' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.89, offset=1.21), time=3578.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
Warning: Vehicle 'veh8563' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh8563' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.74, offset=4.34), time=3600.00.
Warning: Vehicle 'veh8717' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh8717' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.88, offset=0.47), time=3600.00.
INFO:TrafficSimulator:Step 3600: 610 vehicles active
Warning: Teleporting vehicle 'veh8637'; collision with vehicle 'veh8593', lane='E_GOR_W_NMR_H_s_1', gap=-4.80, time=3625.00, stage=move.
Warning: Vehicle 'veh8637' ends teleporting on edge 'E_PNK_W_WZM', time=3628.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8747' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3668.00.
Warning: Vehicle 'veh8747' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.56, offset=6.60), time=3668.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 630 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Vehicle 'veh9116' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3721.00.
Warning: Vehicle 'veh9116' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.93, offset=1.27), time=3721.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh8629' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3753.00.
Warning: Vehicle 'veh8629' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-19.61, offset=4.03), time=3753.00.
Warning: Teleporting vehicle 'veh9039'; collision with vehicle 'veh9086', lane='E_GOR_W_NMR_H_s_1', gap=-1.69, time=3765.00, stage=move.
Warning: Vehicle 'veh9039' ends teleporting on edge 'E_PNK_W_WZM_T', time=3765.00.
Warning: Teleporting vehicle 'veh9074'; collision with vehicle 'veh9072', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=3771.00, stage=move.
Warning: Vehicle 'veh9074' ends teleporting on edge 'E_PNK_W_WZM_T', time=3771.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 668 vehicles active
Warning: Teleporting vehicle 'veh8973'; collision with vehicle 'veh9079', lane='E_GOR_W_NMR_H_s_1', gap=-7.37, time=3808.00, stage=move.
Warning: Vehicle 'veh8973' ends teleporting on edge 'E_PNK_W_WZM_T', time=3808.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9128'; collision with vehicle 'veh9173', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=3811.00, stage=move.
Warning: Vehicle 'veh8854' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=3812.00.
Warning: Teleporting vehicle 'veh9126'; collision with vehicle 'veh9167', lane='E_GOR_W_NMR_H_s_1', gap=-4.77, time=3816.00, stage=move.
Warning: Vehicle 'veh9126' ends teleporting on edge 'E_PNK_W_WZM_T', time=3816.00.
Warning: Teleporting vehicle 'veh9172'; collision with vehicle 'veh9116', lane='E_GOR_W_NMR_H_s_1', gap=-3.26, time=3818.00, stage=move.
Warning: Vehicle 'veh9172' ends teleporting on edge 'E_PNK_W_WZM_T', time=3818.00.
Warning: Vehicle 'veh9128' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=3833.00.
Warning: Teleporting vehicle 'veh9086'; collision with vehicle 'veh9128', lane='E_PNK_W_WZM_H_r_0', gap=-1.30, time=3834.00, stage=move.
Warning: Vehicle 'veh9086' ends teleporting on edge 'E_WZM_N_YMK', time=3835.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh9451' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3855.00.
Warning: Teleporting vehicle 'veh9343'; collision with vehicle 'veh9252', lane='E_GOR_W_NMR_H_s_1', gap=-4.11, time=3856.00, stage=move.
Warning: Vehicle 'veh9343' ends teleporting on edge 'E_PNK_W_WZM_T', time=3856.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh9232' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=3882.00.
Warning: Vehicle 'veh9232' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-11.19, offset=1.27), time=3882.00.
Warning: Vehicle 'veh9589' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3892.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 638 vehicles active
Warning: Teleporting vehicle 'veh9257'; junction collision with vehicle 'veh9254', lane=':J_NMR_PNK_2_0', gap=-0.40, time=3903.00, stage=move.
Warning: Vehicle 'veh9257' ends teleporting on edge 'E_PNK_W_WZM_T', time=3904.00.
Warning: Vehicle 'veh9225' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3922.00.
Warning: Vehicle 'veh9225' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-23.51, offset=9.99), time=3922.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh9681' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3945.00.
Warning: Vehicle 'veh9681' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.42, offset=4.79), time=3945.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
INFO:TrafficSimulator:Step 4000: 620 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh9413' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4028.00.
Warning: Vehicle 'veh9413' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.10, offset=0.61), time=4028.00.
Warning: Teleporting vehicle 'veh9764'; collision with vehicle 'veh9743', lane='E_GOR_W_NMR_H_s_1', gap=-2.73, time=4038.00, stage=move.
Warning: Vehicle 'veh9764' ends teleporting on edge 'E_PNK_W_WZM_T', time=4038.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh9941' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Vehicle 'veh9954' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4078.00.
Warning: Vehicle 'veh9973' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=4078.00.
Warning: Vehicle 'veh9973' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-13.71, offset=0.58), time=4078.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Vehicle 'veh10075' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=4086.00.
Warning: Vehicle 'veh10075' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-11.67, offset=1.46), time=4086.00.
Warning: Vehicle 'veh9909' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4091.00.
Warning: Teleporting vehicle 'veh9608'; junction collision with vehicle 'veh9559', lane=':J_WZM_PNK_12_0', gap=-1.18, time=4092.00, stage=move.
Warning: Vehicle 'veh9608' ends teleporting on edge 'E_PNK_E_NMR_T', time=4092.00.
INFO:TrafficSimulator:Step 4100: 630 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh10235' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
Warning: Vehicle 'veh10235' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.55, offset=2.47), time=4140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10130'; collision with vehicle 'veh10118', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=4182.00, stage=move.
Warning: Vehicle 'veh10130' ends teleporting on edge 'E_PNK_W_WZM', time=4185.00.
Warning: Vehicle 'veh10152' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4187.00.
Warning: Teleporting vehicle 'veh10262'; collision with vehicle 'veh10250', lane='E_GOR_W_NMR_H_s_1', gap=-5.47, time=4192.00, stage=move.
Warning: Vehicle 'veh10262' ends teleporting on edge 'E_PNK_W_WZM_T', time=4193.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 645 vehicles active
Warning: Vehicle 'veh10400' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4203.00.
Warning: Teleporting vehicle 'veh10238'; collision with vehicle 'veh10218', lane='E_GOR_W_NMR_H_s_1', gap=-2.90, time=4215.00, stage=move.
Warning: Vehicle 'veh10238' ends teleporting on edge 'E_PNK_W_WZM_T', time=4215.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh10428' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh10428' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-15.15, offset=1.68), time=4230.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10567'; collision with vehicle 'veh10570', lane='E_DOR_W_NMR_H_r_1', gap=-3.21, time=4266.00, stage=move.
Warning: Vehicle 'veh10567' ends teleporting on edge 'E_NMR_N_PNK', time=4266.00.
Warning: Teleporting vehicle 'veh10291'; collision with vehicle 'veh10297', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=4274.00, stage=move.
Warning: Vehicle 'veh10291' ends teleporting on edge 'E_PNK_W_WZM_T', time=4274.00.
Warning: Teleporting vehicle 'veh10333'; collision with vehicle 'veh10296', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=4277.00, stage=move.
Warning: Teleporting vehicle 'veh10364'; collision with vehicle 'veh10323', lane='E_GOR_W_NMR_H_s_1', gap=-5.74, time=4279.00, stage=move.
Warning: Vehicle 'veh10333' ends teleporting on edge 'E_PNK_W_WZM', time=4280.00.
Warning: Vehicle 'veh10124' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4282.00.
Warning: Vehicle 'veh10364' ends teleporting on edge 'E_PNK_W_WZM', time=4282.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
INFO:TrafficSimulator:Step 4300: 605 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh10725' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=4360.00.
Warning: Teleporting vehicle 'veh10417'; collision with vehicle 'veh10488', lane='E_GOR_W_NMR_H_s_1', gap=-5.95, time=4361.00, stage=move.
Warning: Vehicle 'veh10417' ends teleporting on edge 'E_PNK_W_WZM_T', time=4362.00.
Warning: Vehicle 'veh10755' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4369.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
INFO:TrafficSimulator:Step 4400: 598 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh10891' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4410.00.
Warning: Vehicle 'veh10891' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.76, offset=1.59), time=4410.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10837'; collision with vehicle 'veh10868', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=4451.00, stage=move.
Warning: Vehicle 'veh10837' ends teleporting on edge 'E_PNK_W_WZM', time=4454.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh10822' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4474.00.
Warning: Vehicle 'veh10822' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.02, offset=2.41), time=4474.00.
Warning: Vehicle 'veh10863' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4489.00.
Warning: Vehicle 'veh10863' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-12.05, offset=3.02), time=4489.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
INFO:TrafficSimulator:Step 4500: 619 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Vehicle 'veh11283' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4531.00.
Warning: Vehicle 'veh11283' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-15.31, offset=0.57), time=4531.00.
Warning: Vehicle 'veh11063' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4535.00.
Warning: Vehicle 'veh11063' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-20.32, offset=1.17), time=4535.00.
Warning: Teleporting vehicle 'veh11017'; collision with vehicle 'veh11126', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=4544.00, stage=move.
Warning: Vehicle 'veh11017' ends teleporting on edge 'E_PNK_W_WZM', time=4547.00.
Warning: Teleporting vehicle 'veh11184'; collision with vehicle 'veh11098', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=4551.00, stage=move.
Warning: Vehicle 'veh11184' ends teleporting on edge 'E_PNK_W_WZM', time=4554.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh11363' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4563.00.
Warning: Vehicle 'veh11363' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-19.09, offset=8.65), time=4563.00.
Warning: Vehicle 'veh11342' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4575.00.
Warning: Vehicle 'veh11342' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.46, offset=2.83), time=4575.00.
Warning: Vehicle 'veh11259' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4579.00.
Warning: Vehicle 'veh11259' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_2' because of a red traffic light (decel=-15.61, offset=1.40), time=4579.00.
Warning: Vehicle 'veh11168' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4579.00.
Warning: Vehicle 'veh11168' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.13, offset=5.60), time=4579.00.
Warning: Teleporting vehicle 'veh11255'; collision with vehicle 'veh11168', lane='E_GOR_W_NMR_H_s_1', gap=-1.14, time=4579.00, stage=move.
Warning: Vehicle 'veh11255' ends teleporting on edge 'E_PNK_W_WZM_T', time=4580.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh11338' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh11361' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
INFO:TrafficSimulator:Step 4600: 608 vehicles active
Warning: Teleporting vehicle 'veh11183'; collision with vehicle 'veh11148', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=4609.00, stage=move.
Warning: Vehicle 'veh11183' ends teleporting on edge 'E_PNK_W_WZM_T', time=4609.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11235'; collision with vehicle 'veh11190', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=4631.00, stage=move.
Warning: Vehicle 'veh11235' ends teleporting on edge 'E_PNK_W_WZM_T', time=4632.00.
Warning: Teleporting vehicle 'veh11256'; collision with vehicle 'veh11258', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=4634.00, stage=move.
Warning: Vehicle 'veh11256' ends teleporting on edge 'E_PNK_W_WZM', time=4637.00.
Warning: Vehicle 'veh11305' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4642.00.
Warning: Vehicle 'veh11305' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.58, offset=10.32), time=4642.00.
Warning: Vehicle 'veh11393' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4642.00.
Warning: Vehicle 'veh11393' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.83, offset=1.43), time=4642.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh11592' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4665.00.
Warning: Vehicle 'veh11592' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.90, offset=2.95), time=4665.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
INFO:TrafficSimulator:Step 4700: 619 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh11799' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4722.00.
Warning: Vehicle 'veh11799' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-10.10, offset=0.90), time=4723.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh11780' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4759.00.
Warning: Vehicle 'veh11780' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.77, offset=1.86), time=4759.00.
Warning: Vehicle 'veh11718' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4759.00.
Warning: Vehicle 'veh11718' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-18.48, offset=1.61), time=4759.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11761' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
INFO:TrafficSimulator:Step 4800: 637 vehicles active
Warning: Teleporting vehicle 'veh11565'; collision with vehicle 'veh11703', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=4811.00, stage=move.
Warning: Vehicle 'veh11565' ends teleporting on edge 'E_PNK_W_WZM', time=4814.00.
Warning: Vehicle 'veh11891' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4822.00.
Warning: Vehicle 'veh11891' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-10.24, offset=1.10), time=4823.00.
Warning: Vehicle 'veh12075' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=4827.00.
Warning: Vehicle 'veh12075' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-12.40, offset=1.09), time=4827.00.
Warning: Vehicle 'veh12003' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4828.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh11762' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4840.00.
Warning: Vehicle 'veh11695' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4840.00.
Warning: Vehicle 'veh11695' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.70, offset=1.43), time=4840.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11972'; collision with vehicle 'veh11932', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=4885.00, stage=move.
Warning: Vehicle 'veh11972' ends teleporting on edge 'E_PNK_W_WZM_T', time=4885.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11991'; collision with vehicle 'veh11961', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=4898.00, stage=move.
INFO:TrafficSimulator:Step 4900: 632 vehicles active
Warning: Teleporting vehicle 'veh12020'; collision with vehicle 'veh12061', lane='E_GOR_W_NMR_H_s_1', gap=-4.16, time=4901.00, stage=move.
Warning: Vehicle 'veh11991' ends teleporting on edge 'E_PNK_W_WZM', time=4901.00.
Warning: Vehicle 'veh12020' ends teleporting on edge 'E_PNK_W_WZM_T', time=4901.00.
Warning: Vehicle 'veh12223' performs emergency braking on lane 'E_NMR_S_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4903.00.
Warning: Vehicle 'veh12287' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=4911.00.
Warning: Vehicle 'veh12287' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-12.78, offset=3.59), time=4911.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh12139' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4930.00.
Warning: Vehicle 'veh12139' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.60, offset=1.13), time=4930.00.
Warning: Vehicle 'veh12162' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4932.00.
Warning: Teleporting vehicle 'veh12121'; collision with vehicle 'veh12162', lane='E_GOR_W_NMR_H_s_1', gap=-0.46, time=4933.00, stage=move.
Warning: Vehicle 'veh12121' ends teleporting on edge 'E_PNK_W_WZM_T', time=4933.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh12377' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Vehicle 'veh12377' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-11.48, offset=1.10), time=4950.00.
Warning: Vehicle 'veh12149' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Vehicle 'veh12149' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-11.44, offset=1.73), time=4950.00.
Warning: Vehicle 'veh12278' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Vehicle 'veh12280' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Vehicle 'veh12280' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.91, offset=1.72), time=4950.00.
Warning: Vehicle 'veh12174' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Vehicle 'veh12174' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.76, offset=1.09), time=4950.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12099'; collision with vehicle 'veh12137', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=4986.00, stage=move.
Warning: Vehicle 'veh12099' ends teleporting on edge 'E_PNK_W_WZM', time=4989.00.
Warning: Teleporting vehicle 'veh12252'; collision with vehicle 'veh12273', lane='E_GOR_W_NMR_H_s_1', gap=-4.82, time=4991.00, stage=move.
Warning: Vehicle 'veh12252' ends teleporting on edge 'E_PNK_W_WZM', time=4994.00.
INFO:TrafficSimulator:Step 5000: 620 vehicles active
Warning: Vehicle 'veh12293' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5002.00.
Warning: Vehicle 'veh12189' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5002.00.
Warning: Vehicle 'veh12189' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.56, offset=6.65), time=5002.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh12561' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5013.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12280'; collision with vehicle 'veh12506', lane='E_GOR_W_NMR_H_s_1', gap=-4.40, time=5076.00, stage=move.
Warning: Vehicle 'veh12280' ends teleporting on edge 'E_PNK_W_WZM', time=5079.00.
Warning: Vehicle 'veh12423' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5092.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 609 vehicles active
Warning: Vehicle 'veh12812' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5103.00.
Warning: Vehicle 'veh12812' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.39, offset=8.33), time=5103.00.
Warning: Vehicle 'veh12598' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5119.00.
Warning: Teleporting vehicle 'veh12598'; collision with vehicle 'veh12763', lane='E_GOR_W_NMR_H_s_1', gap=-1.44, time=5119.00, stage=move.
Warning: Vehicle 'veh12598' ends teleporting on edge 'E_PNK_W_WZM_T', time=5119.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12803' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12468'; collision with vehicle 'veh12446', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=5161.00, stage=move.
Warning: Vehicle 'veh12468' ends teleporting on edge 'E_PNK_W_WZM', time=5164.00.
Warning: Teleporting vehicle 'veh12682'; collision with vehicle 'veh12675', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=5168.00, stage=move.
Warning: Vehicle 'veh12682' ends teleporting on edge 'E_PNK_W_WZM_T', time=5168.00.
Warning: Vehicle 'veh12787' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5177.00.
Warning: Vehicle 'veh12561' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5180.00.
Warning: Vehicle 'veh12561' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.01, offset=1.48), time=5180.00.
Warning: Vehicle 'veh12681' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5182.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 623 vehicles active
Warning: Vehicle 'veh12879' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5208.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12908'; collision with vehicle 'veh12782', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=5251.00, stage=move.
Warning: Vehicle 'veh12908' ends teleporting on edge 'E_PNK_W_WZM', time=5255.00.
Warning: Vehicle 'veh12816' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5262.00.
Warning: Vehicle 'veh12816' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-13.21, offset=3.04), time=5262.00.
Warning: Teleporting vehicle 'veh12947'; junction collision with vehicle 'veh13029', lane=':J_NMR_PNK_2_0', gap=-0.34, time=5269.00, stage=move.
Warning: Vehicle 'veh12947' ends teleporting on edge 'E_PNK_W_WZM_T', time=5269.00.
Warning: Vehicle 'veh12926' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5270.00.
Warning: Vehicle 'veh12926' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.68, offset=4.12), time=5270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
INFO:TrafficSimulator:Step 5300: 623 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh13203' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5335.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13237'; collision with vehicle 'veh13248', lane='E_GOR_W_NMR_H_s_1', gap=-6.29, time=5342.00, stage=move.
Warning: Vehicle 'veh13237' ends teleporting on edge 'E_PNK_W_WZM_T', time=5343.00.
Warning: Vehicle 'veh13479' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5350.00.
Warning: Teleporting vehicle 'veh13268'; collision with vehicle 'veh13053', lane='E_GOR_W_NMR_H_s_1', gap=-5.60, time=5351.00, stage=move.
Warning: Vehicle 'veh13268' ends teleporting on edge 'E_PNK_W_WZM_T', time=5351.00.
Warning: Vehicle 'veh12708' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5360.00.
Warning: Vehicle 'veh13245' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5362.00.
Warning: Vehicle 'veh12935' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5362.00.
Warning: Vehicle 'veh12935' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.74, offset=1.30), time=5362.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh13375' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5392.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Vehicle 'veh13543' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
Warning: Vehicle 'veh13543' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-10.39, offset=0.59), time=5400.00.
INFO:TrafficSimulator:Step 5400: 639 vehicles active
Warning: Vehicle 'veh6765' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5421.00.
Warning: Vehicle 'veh6765' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.94, offset=7.30), time=5421.00.
Warning: Teleporting vehicle 'veh13433'; collision with vehicle 'veh13509', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=5427.00, stage=move.
Warning: Vehicle 'veh13433' ends teleporting on edge 'E_PNK_W_WZM_T', time=5429.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh13352' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5434.00.
Warning: Vehicle 'veh13352' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.41, offset=0.03), time=5434.00.
Warning: Vehicle 'veh13698' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5436.00.
Warning: Vehicle 'veh5429' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5452.00.
Warning: Vehicle 'veh12931' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5452.00.
Warning: Vehicle 'veh12931' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-13.86, offset=1.64), time=5452.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13552'; collision with vehicle 'veh13539', lane='E_GOR_W_NMR_H_s_1', gap=-2.74, time=5470.00, stage=move.
Warning: Vehicle 'veh13552' ends teleporting on edge 'E_PNK_W_WZM_T', time=5470.00.
Warning: Vehicle 'veh13572' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5473.00.
Warning: Vehicle 'veh13572' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-19.61, offset=9.55), time=5473.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
INFO:TrafficSimulator:Step 5500: 647 vehicles active
Warning: Vehicle 'veh13564' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5518.00.
Warning: Vehicle 'veh13564' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.63, offset=3.78), time=5518.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13530'; collision with vehicle 'veh13548', lane='E_GOR_W_NMR_H_s_1', gap=-5.55, time=5528.00, stage=move.
Warning: Vehicle 'veh13530' ends teleporting on edge 'E_PNK_W_WZM_T', time=5528.00.
Warning: Teleporting vehicle 'veh13727'; collision with vehicle 'veh13671', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=5532.00, stage=move.
Warning: Vehicle 'veh13727' ends teleporting on edge 'E_PNK_W_WZM_T', time=5532.00.
Warning: Teleporting vehicle 'veh13579'; collision with vehicle 'veh13626', lane='E_PNK_W_WZM_T_0', gap=-0.41, time=5533.00, stage=move.
Warning: Vehicle 'veh13579' ends teleporting on edge 'E_PNK_W_WZM', time=5533.00.
Warning: Teleporting vehicle 'veh13692'; collision with vehicle 'veh13659', lane='E_GOR_W_NMR_H_s_1', gap=-4.91, time=5534.00, stage=move.
Warning: Teleporting vehicle 'veh13708'; collision with vehicle 'veh13783', lane='E_GOR_W_NMR_H_s_1', gap=-5.15, time=5536.00, stage=move.
Warning: Vehicle 'veh13692' ends teleporting on edge 'E_PNK_W_WZM', time=5537.00.
Warning: Vehicle 'veh13708' ends teleporting on edge 'E_PNK_W_WZM_T', time=5537.00.
Warning: Teleporting vehicle 'veh13718'; collision with vehicle 'veh13699', lane='E_GOR_W_NMR_H_s_1', gap=-0.51, time=5538.00, stage=move.
Warning: Vehicle 'veh13718' ends teleporting on edge 'E_PNK_W_WZM_T', time=5539.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh13825' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5567.00.
Warning: Vehicle 'veh13836' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5567.00.
Warning: Vehicle 'veh13836' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.48, offset=5.32), time=5567.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13870'; collision with vehicle 'veh13793', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=5590.00, stage=move.
Warning: Vehicle 'veh13870' ends teleporting on edge 'E_PNK_W_WZM_T', time=5590.00.
INFO:TrafficSimulator:Step 5600: 675 vehicles active
Warning: Vehicle 'veh13988' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5608.00.
Warning: Vehicle 'veh13988' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-13.79, offset=1.00), time=5608.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13932'; collision with vehicle 'veh13918', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=5614.00, stage=move.
Warning: Vehicle 'veh13932' ends teleporting on edge 'E_PNK_W_WZM_T', time=5614.00.
Warning: Teleporting vehicle 'veh14043'; collision with vehicle 'veh14013', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=5623.00, stage=move.
Warning: Vehicle 'veh14043' ends teleporting on edge 'E_PNK_W_WZM_T', time=5623.00.
Warning: Teleporting vehicle 'veh13959'; junction collision with vehicle 'veh14002', lane=':J_WZM_PNK_12_0', gap=-0.67, time=5631.00, stage=move.
Warning: Vehicle 'veh13959' ends teleporting on edge 'E_PNK_E_NMR_T', time=5631.00.
Warning: Vehicle 'veh13952' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5632.00.
Warning: Vehicle 'veh13952' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.43, offset=2.29), time=5632.00.
Warning: Teleporting vehicle 'veh14012'; collision with vehicle 'veh14028', lane='E_PNK_W_WZM_T_0', gap=-1.04, time=5637.00, stage=move.
Warning: Vehicle 'veh14012' ends teleporting on edge 'E_PNK_W_WZM', time=5637.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh14137' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5658.00.
Warning: Vehicle 'veh14148' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5659.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh7140' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5691.00.
Warning: Vehicle 'veh7140' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-15.15, offset=5.00), time=5691.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 689 vehicles active
Warning: Vehicle 'veh14103' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5706.00.
Warning: Vehicle 'veh14248' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=5713.00.
Warning: Teleporting vehicle 'veh14281'; collision with vehicle 'veh14371', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=5713.00, stage=move.
Warning: Vehicle 'veh14281' ends teleporting on edge 'E_PNK_W_WZM_T', time=5713.00.
Warning: Vehicle 'veh14048' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5717.00.
Warning: Vehicle 'veh14048' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.46, offset=1.98), time=5717.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh14493' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh14493' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-12.49, offset=2.26), time=5760.00.
Warning: Vehicle 'veh14562' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5781.00.
Warning: Vehicle 'veh14562' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.82, offset=1.01), time=5781.00.
Warning: Vehicle 'veh14300' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5783.00.
Warning: Vehicle 'veh14300' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.99, offset=0.84), time=5783.00.
Warning: Teleporting vehicle 'veh14360'; collision with vehicle 'veh14408', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=5788.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh14360' ends teleporting on edge 'E_PNK_W_WZM', time=5791.00.
Warning: Teleporting vehicle 'veh14369'; junction collision with vehicle 'veh14364', lane=':J_NMR_PNK_2_0', gap=-1.04, time=5794.00, stage=move.
Warning: Vehicle 'veh14369' ends teleporting on edge 'E_PNK_W_WZM_T', time=5794.00.
Warning: Teleporting vehicle 'veh14364'; collision with vehicle 'veh14369', lane='E_PNK_W_WZM_T_0', gap=-1.84, time=5795.00, stage=move.
Warning: Vehicle 'veh14364' ends teleporting on edge 'E_PNK_W_WZM', time=5795.00.
INFO:TrafficSimulator:Step 5800: 682 vehicles active
Warning: Vehicle 'veh14548' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=5810.00.
Warning: Vehicle 'veh14466' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5810.00.
Warning: Vehicle 'veh14466' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-15.22, offset=6.06), time=5810.00.
Warning: Vehicle 'veh14486' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5812.00.
Warning: Vehicle 'veh5576' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5812.00.
Warning: Vehicle 'veh9347' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5812.00.
Warning: Vehicle 'veh9347' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.55, offset=2.15), time=5812.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh14842' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5823.00.
Warning: Vehicle 'veh14837' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5835.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh14853' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5850.00.
Warning: Vehicle 'veh14853' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-14.57, offset=2.59), time=5850.00.
Warning: Vehicle 'veh14528' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5871.00.
Warning: Vehicle 'veh14528' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.30, offset=2.02), time=5871.00.
Warning: Vehicle 'veh14832' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5874.00.
Warning: Vehicle 'veh14832' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.92, offset=1.52), time=5874.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14591'; collision with vehicle 'veh14707', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=5881.00, stage=move.
Warning: Vehicle 'veh14591' ends teleporting on edge 'E_PNK_W_WZM_T', time=5881.00.
Warning: Teleporting vehicle 'veh14748'; collision with vehicle 'veh14791', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=5889.00, stage=move.
Warning: Vehicle 'veh14748' ends teleporting on edge 'E_PNK_W_WZM_T', time=5890.00.
Warning: Teleporting vehicle 'veh14734'; collision with vehicle 'veh14867', lane='E_GOR_W_NMR_H_s_1', gap=-3.72, time=5897.00, stage=move.
Warning: Vehicle 'veh14734' ends teleporting on edge 'E_PNK_W_WZM_T', time=5898.00.
INFO:TrafficSimulator:Step 5900: 655 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh15095' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5913.00.
Warning: Vehicle 'veh15095' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-20.41, offset=8.33), time=5913.00.
Warning: Vehicle 'veh15088' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5913.00.
Warning: Vehicle 'veh15088' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.94, offset=3.25), time=5913.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh15181' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5940.00.
Warning: Vehicle 'veh15181' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.36, offset=4.18), time=5940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14882'; collision with vehicle 'veh14920', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=5998.00, stage=move.
Warning: Vehicle 'veh14882' ends teleporting on edge 'E_PNK_W_WZM_T', time=5998.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 661 vehicles active
Warning: Teleporting vehicle 'veh14906'; collision with vehicle 'veh14972', lane='E_GOR_W_NMR_H_s_1', gap=-5.57, time=6001.00, stage=move.
Warning: Teleporting vehicle 'veh14981'; collision with vehicle 'veh14946', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=6004.00, stage=move.
Warning: Vehicle 'veh14906' ends teleporting on edge 'E_PNK_W_WZM', time=6004.00.
Warning: Vehicle 'veh14981' ends teleporting on edge 'E_PNK_W_WZM_T', time=6005.00.
Warning: Teleporting vehicle 'veh15068'; collision with vehicle 'veh14979', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=6010.00, stage=move.
Warning: Vehicle 'veh15345' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6015.00.
Warning: Vehicle 'veh15345' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-13.91, offset=4.51), time=6015.00.
Warning: Vehicle 'veh15068' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=6015.00.
Warning: Teleporting vehicle 'veh15186'; collision with vehicle 'veh15139', lane='E_GOR_W_NMR_H_s_1', gap=-4.54, time=6024.00, stage=move.
Warning: Vehicle 'veh15186' ends teleporting on edge 'E_PNK_W_WZM_T', time=6024.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh7355' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6048.00.
Warning: Teleporting vehicle 'veh15351'; collision with vehicle 'veh15329', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=6056.00, stage=move.
Warning: Vehicle 'veh15351' ends teleporting on edge 'E_PNK_W_WZM_T', time=6056.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15155'; collision with vehicle 'veh15177', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=6066.00, stage=move.
Warning: Teleporting vehicle 'veh15170'; collision with vehicle 'veh15287', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=6069.00, stage=move.
Warning: Vehicle 'veh15170' ends teleporting on edge 'E_PNK_W_WZM_T', time=6069.00.
Warning: Vehicle 'veh15155' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=6071.00.
Warning: Teleporting vehicle 'veh15196'; collision with vehicle 'veh15256', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=6072.00, stage=move.
Warning: Teleporting vehicle 'veh14902'; collision with vehicle 'veh15155', lane='E_PNK_W_WZM_H_r_0', gap=-1.95, time=6072.00, stage=move.
Warning: Vehicle 'veh14902' ends teleporting on edge 'E_WZM_N_YMK', time=6072.00.
Warning: Teleporting vehicle 'veh15373'; collision with vehicle 'veh15215', lane='E_GOR_W_NMR_H_s_1', gap=-4.20, time=6074.00, stage=move.
Warning: Teleporting vehicle 'veh15286'; collision with vehicle 'veh15315', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=6076.00, stage=move.
Warning: Vehicle 'veh15196' ends teleporting on edge 'E_PNK_W_WZM', time=6076.00.
Warning: Vehicle 'veh15286' ends teleporting on edge 'E_PNK_W_WZM_T', time=6077.00.
Warning: Vehicle 'veh15373' ends teleporting on edge 'E_PNK_W_WZM', time=6077.00.
Warning: Vehicle 'veh6022' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6080.00.
Warning: Vehicle 'veh15389' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6082.00.
Warning: Vehicle 'veh15389' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.29, offset=3.03), time=6082.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh15641' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6093.00.
INFO:TrafficSimulator:Step 6100: 664 vehicles active
Warning: Vehicle 'veh15412' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6107.00.
Warning: Vehicle 'veh15412' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-16.85, offset=7.72), time=6107.00.
Warning: Vehicle 'veh15453' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6107.00.
Warning: Vehicle 'veh15453' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.91, offset=0.74), time=6107.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh7469' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6138.00.
Warning: Vehicle 'veh7469' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-20.95, offset=9.72), time=6138.00.
Warning: Teleporting vehicle 'veh15385'; collision with vehicle 'veh15486', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=6144.00, stage=move.
Warning: Vehicle 'veh15385' ends teleporting on edge 'E_PNK_W_WZM_T', time=6144.00.
Warning: Teleporting vehicle 'veh15531'; collision with vehicle 'veh15549', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=6147.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Vehicle 'veh15531' ends teleporting on edge 'E_PNK_W_WZM', time=6151.00.
Warning: Vehicle 'veh15293' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6170.00.
Warning: Vehicle 'veh15624' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6174.00.
Warning: Vehicle 'veh15567' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6174.00.
Warning: Vehicle 'veh15567' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.68, offset=0.88), time=6174.00.
Warning: Vehicle 'veh15624' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-9.45, offset=0.01), time=6175.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Vehicle 'veh15887' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6195.00.
Warning: Vehicle 'veh15694' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6197.00.
INFO:TrafficSimulator:Step 6200: 684 vehicles active
Warning: Teleporting vehicle 'veh15784'; collision with vehicle 'veh15765', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=6209.00, stage=move.
Warning: Vehicle 'veh15784' ends teleporting on edge 'E_PNK_W_WZM_T', time=6209.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15825'; collision with vehicle 'veh15677', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=6238.00, stage=move.
Warning: Vehicle 'veh15825' ends teleporting on edge 'E_PNK_W_WZM_T', time=6239.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh15551' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6248.00.
Warning: Vehicle 'veh15690' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6255.00.
Warning: Vehicle 'veh15690' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-10.33, offset=0.32), time=6255.00.
Warning: Vehicle 'veh15759' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6264.00.
Warning: Vehicle 'veh15759' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-19.88, offset=6.07), time=6264.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh15602' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6271.00.
Warning: Vehicle 'veh15602' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-11.65, offset=1.11), time=6272.00.
Warning: Vehicle 'veh15990' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6287.00.
Warning: Vehicle 'veh15917' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6287.00.
Warning: Vehicle 'veh15917' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.51, offset=6.35), time=6287.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 707 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16082'; collision with vehicle 'veh16005', lane='E_GOR_W_NMR_H_s_1', gap=-5.81, time=6336.00, stage=move.
Warning: Vehicle 'veh10089' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6337.00.
Warning: Vehicle 'veh16082' ends teleporting on edge 'E_PNK_W_WZM_T', time=6338.00.
Warning: Vehicle 'veh16353' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6339.00.
Warning: Vehicle 'veh16350' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6339.00.
Warning: Vehicle 'veh16350' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.13, offset=7.28), time=6339.00.
Warning: Vehicle 'veh15835' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6339.00.
Warning: Vehicle 'veh15835' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-14.86, offset=2.41), time=6339.00.
Warning: Vehicle 'veh15875' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6352.00.
Warning: Vehicle 'veh16156' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6352.00.
Warning: Vehicle 'veh16156' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-20.99, offset=8.34), time=6352.00.
Warning: Vehicle 'veh15875' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-10.73, offset=1.20), time=6353.00.
Warning: Vehicle 'veh14030' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6354.00.
Warning: Vehicle 'veh14030' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.10, offset=0.28), time=6354.00.
Warning: Vehicle 'veh10079' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6354.00.
Warning: Vehicle 'veh10079' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.33, offset=2.00), time=6354.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh16392' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6361.00.
Warning: Vehicle 'veh16392' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.95, offset=5.79), time=6361.00.
Warning: Vehicle 'veh16396' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6375.00.
Warning: Vehicle 'veh16396' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.83, offset=6.10), time=6375.00.
Warning: Teleporting vehicle 'veh16245'; collision with vehicle 'veh16201', lane='E_GOR_W_NMR_H_s_0', gap=-0.15, time=6379.00, stage=move.
Warning: Vehicle 'veh16245' ends teleporting on edge 'E_PNK_W_WZM_T', time=6379.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
INFO:TrafficSimulator:Step 6400: 752 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16286'; collision with vehicle 'veh16265', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=6428.00, stage=move.
Warning: Vehicle 'veh16286' ends teleporting on edge 'E_PNK_W_WZM_T', time=6428.00.
Warning: Vehicle 'veh16030' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6435.00.
Warning: Vehicle 'veh16030' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.22, offset=7.77), time=6435.00.
Warning: Vehicle 'veh14179' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6444.00.
Warning: Vehicle 'veh14179' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.32, offset=0.30), time=6444.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh16660' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6451.00.
Warning: Vehicle 'veh16655' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6451.00.
Warning: Vehicle 'veh16655' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.74, offset=1.36), time=6451.00.
Warning: Vehicle 'veh16660' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-13.67, offset=2.23), time=6452.00.
Warning: Vehicle 'veh16419' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6462.00.
Warning: Vehicle 'veh16419' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-19.76, offset=9.05), time=6462.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 761 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16633' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6519.00.
Warning: Vehicle 'veh16633' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.22, offset=6.05), time=6519.00.
Warning: Teleporting vehicle 'veh16636'; collision with vehicle 'veh16577', lane='E_GOR_W_NMR_H_s_1', gap=-4.31, time=6523.00, stage=move.
Warning: Vehicle 'veh16636' ends teleporting on edge 'E_PNK_W_WZM_T', time=6523.00.
Warning: Vehicle 'veh16436' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6534.00.
Warning: Vehicle 'veh6003' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6534.00.
Warning: Vehicle 'veh6003' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.13, offset=0.11), time=6534.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 746 vehicles active
Warning: Teleporting vehicle 'veh16832'; collision with vehicle 'veh16757', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=6614.00, stage=move.
Warning: Vehicle 'veh16832' ends teleporting on edge 'E_PNK_W_WZM_T', time=6615.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh16916' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6634.00.
Warning: Vehicle 'veh16916' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-18.69, offset=8.88), time=6634.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh6357' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh6357' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-19.48, offset=5.48), time=6660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Vehicle 'veh17224' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6699.00.
Warning: Vehicle 'veh17224' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.17, offset=7.36), time=6699.00.
INFO:TrafficSimulator:Step 6700: 711 vehicles active
Warning: Teleporting vehicle 'veh16986'; collision with vehicle 'veh17126', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=6706.00, stage=move.
Warning: Vehicle 'veh16986' ends teleporting on edge 'E_PNK_W_WZM', time=6709.00.
Warning: Vehicle 'veh17262' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6712.00.
Warning: Vehicle 'veh17262' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-22.10, offset=12.64), time=6712.00.
Warning: Vehicle 'veh17077' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6712.00.
Warning: Vehicle 'veh17077' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.09, offset=7.39), time=6712.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh17202' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=6723.00.
Warning: Vehicle 'veh17415' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6735.00.
Warning: Vehicle 'veh17415' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.00, offset=4.99), time=6735.00.
Warning: Vehicle 'veh17303' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6741.00.
Warning: Teleporting vehicle 'veh17303'; collision with vehicle 'veh17269', lane='E_GOR_W_NMR_H_s_1', gap=-0.42, time=6741.00, stage=move.
Warning: Vehicle 'veh17303' ends teleporting on edge 'E_PNK_W_WZM_T', time=6741.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Vehicle 'veh17436' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6794.00.
Warning: Vehicle 'veh17436' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.49, offset=0.99), time=6794.00.
Warning: Teleporting vehicle 'veh17247'; collision with vehicle 'veh17183', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=6800.00, stage=move.
Warning: Vehicle 'veh17247' ends teleporting on edge 'E_PNK_W_WZM_T', time=6800.00.
INFO:TrafficSimulator:Step 6800: 690 vehicles active
Warning: Vehicle 'veh17222' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6802.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Vehicle 'veh17415' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6825.00.
Warning: Vehicle 'veh17415' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-18.06, offset=8.97), time=6825.00.
Warning: Vehicle 'veh17526' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6828.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17521'; collision with vehicle 'veh17543', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=6884.00, stage=move.
Warning: Vehicle 'veh17521' ends teleporting on edge 'E_PNK_W_WZM_T', time=6884.00.
Warning: Vehicle 'veh17423' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6894.00.
Warning: Vehicle 'veh17423' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.14, offset=5.80), time=6894.00.
Warning: Teleporting vehicle 'veh17592'; collision with vehicle 'veh17625', lane='E_GOR_W_NMR_H_s_1', gap=-5.37, time=6894.00, stage=move.
Warning: Vehicle 'veh17680' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6896.00.
Warning: Vehicle 'veh17592' ends teleporting on edge 'E_PNK_W_WZM', time=6897.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
INFO:TrafficSimulator:Step 6900: 692 vehicles active
Warning: Vehicle 'veh17930' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6915.00.
Warning: Vehicle 'veh17930' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-17.85, offset=1.49), time=6915.00.
Warning: Teleporting vehicle 'veh17817'; collision with vehicle 'veh17775', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=6918.00, stage=move.
Warning: Vehicle 'veh17817' ends teleporting on edge 'E_PNK_W_WZM_T', time=6919.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh18121' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6971.00.
Warning: Vehicle 'veh18121' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.84, offset=8.81), time=6971.00.
Warning: Teleporting vehicle 'veh17812'; collision with vehicle 'veh17831', lane='E_GOR_W_NMR_H_s_1', gap=-6.38, time=6972.00, stage=move.
Warning: Vehicle 'veh17812' ends teleporting on edge 'E_PNK_W_WZM', time=6975.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
INFO:TrafficSimulator:Step 7000: 662 vehicles active
Warning: Teleporting vehicle 'veh17975'; collision with vehicle 'veh17935', lane='E_GOR_W_NMR_H_s_1', gap=-4.40, time=7007.00, stage=move.
Warning: Vehicle 'veh17975' ends teleporting on edge 'E_PNK_W_WZM_T', time=7007.00.
Warning: Vehicle 'veh17932' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=7010.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh18043' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7057.00.
Warning: Vehicle 'veh8317' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7064.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
Warning: Vehicle 'veh18233' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7085.00.
Warning: Vehicle 'veh18233' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-15.87, offset=4.42), time=7085.00.
Warning: Vehicle 'veh18209' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7093.00.
Warning: Vehicle 'veh18209' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-20.29, offset=1.72), time=7093.00.
INFO:TrafficSimulator:Step 7100: 652 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh18404' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7139.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18418'; collision with vehicle 'veh18222', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=7145.00, stage=move.
Warning: Vehicle 'veh18418' ends teleporting on edge 'E_PNK_W_WZM_T', time=7145.00.
Warning: Teleporting vehicle 'veh18243'; collision with vehicle 'veh18235', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=7147.00, stage=move.
Warning: Vehicle 'veh18243' ends teleporting on edge 'E_PNK_W_WZM_T', time=7148.00.
Warning: Teleporting vehicle 'veh18209'; collision with vehicle 'veh18243', lane='E_PNK_W_WZM_T_0', gap=-3.39, time=7149.00, stage=move.
Warning: Vehicle 'veh18209' ends teleporting on edge 'E_PNK_W_WZM', time=7149.00.
Warning: Vehicle 'veh18268' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7162.00.
Warning: Vehicle 'veh18268' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.78, offset=1.37), time=7162.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18601'; collision with vehicle 'veh18532', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=7192.00, stage=move.
Warning: Vehicle 'veh18601' ends teleporting on edge 'E_PNK_W_WZM_T', time=7192.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
INFO:TrafficSimulator:Step 7200: 668 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18575'; collision with vehicle 'veh18442', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=7236.00, stage=move.
Warning: Vehicle 'veh18575' ends teleporting on edge 'E_PNK_W_WZM_T', time=7236.00.
Warning: Vehicle 'veh18646' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=7242.00.
Warning: Vehicle 'veh18725' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7244.00.
Warning: Vehicle 'veh18725' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.67, offset=0.56), time=7244.00.
Warning: Teleporting vehicle 'veh18646'; collision with vehicle 'veh18568', lane='E_GOR_W_NMR_H_s_1', gap=-5.73, time=7244.00, stage=move.
Warning: Vehicle 'veh18646' ends teleporting on edge 'E_PNK_W_WZM_T', time=7245.00.
Warning: Teleporting vehicle 'veh18657'; collision with vehicle 'veh18660', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=7248.00, stage=move.
Warning: Vehicle 'veh18657' ends teleporting on edge 'E_PNK_W_WZM_T', time=7251.00.
Warning: Vehicle 'veh18322' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7252.00.
Warning: Vehicle 'veh18383' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7252.00.
Warning: Vehicle 'veh18383' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.06, offset=1.03), time=7252.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh18398' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7265.00.
Warning: Vehicle 'veh18398' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.02, offset=4.40), time=7265.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 761
INFO:TrafficSimulator:Completed vehicles: 290
INFO:TrafficSimulator:Completion rate: 38.1%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16349
INFO:TreeMethodController:Vehicle total time: 4281879
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16349
INFO:TreeMethodController:Tree Method - Total driving time: 4281879
INFO:TreeMethodController:Tree Method - Average duration: 261.90 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16349
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 73.73s
 TraCI-Duration: 54.32s
 Real time factor: 99.0139
 UPS: 59752.098960
Vehicles:
 Inserted: 16745 (Loaded: 18825)
 Running: 471
 Waiting: 2080
 Teleports: 145 (Collisions: 145)
 Emergency Stops: 194
 Emergency Braking: 322
Statistics (avg of 16274):
 RouteLength: 1452.96
 Speed: 7.19
 Duration: 263.12
 WaitingTime: 106.22
 TimeLoss: 157.86
 DepartDelay: 131.29
DijkstraRouter answered 96269 queries and explored 22.43 edges on average.
DijkstraRouter spent 0.13s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 761
INFO:SamplePipeline:completed_vehicles: 290
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 38.107752956636006
INFO:__main__:Pipeline execution completed successfully
