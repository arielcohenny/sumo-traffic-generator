INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment3-realistic-moderate-load/7
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 64182 ***
Loading net-file from 'workspace/grid.net.xml' ... done (26ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 3 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
Warning: Vehicle 'veh28' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=60.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
INFO:TrafficSimulator:Step 100: 209 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh143' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh143' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-21.51, offset=9.79), time=130.00.
Warning: Teleporting vehicle 'veh48'; collision with vehicle 'veh81', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=133.00, stage=move.
Warning: Vehicle 'veh48' ends teleporting on edge 'E_PNK_W_WZM', time=136.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh135'; collision with vehicle 'veh185', lane='E_GOR_W_NMR_H_s_1', gap=-7.50, time=195.00, stage=move.
Warning: Vehicle 'veh135' ends teleporting on edge 'E_PNK_W_WZM_T', time=195.00.
INFO:TrafficSimulator:Step 200: 373 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh344' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh323' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh323' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.62, offset=0.23), time=215.00.
Warning: Vehicle 'veh120' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=220.00.
Warning: Vehicle 'veh120' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-17.07, offset=2.02), time=220.00.
Warning: Teleporting vehicle 'veh115'; collision with vehicle 'veh126', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=221.00, stage=move.
Warning: Vehicle 'veh115' ends teleporting on edge 'E_PNK_W_WZM_T', time=221.00.
Warning: Vehicle 'veh192' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
Warning: Teleporting vehicle 'veh312'; collision with vehicle 'veh318', lane='E_GOR_W_NMR_H_s_1', gap=-1.82, time=236.00, stage=move.
Warning: Teleporting vehicle 'veh224'; collision with vehicle 'veh209', lane='E_HLC_E_AYA_H_l_1', gap=-1.54, time=236.00, stage=move.
Warning: Vehicle 'veh312' ends teleporting on edge 'E_PNK_W_WZM_T', time=236.00.
Warning: Vehicle 'veh224' ends teleporting on edge 'E_AYA_N_T', time=237.00.
Warning: Teleporting vehicle 'veh281'; collision with vehicle 'veh319', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=238.00, stage=move.
Warning: Vehicle 'veh281' ends teleporting on edge 'E_PNK_W_WZM_T', time=238.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh497' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh497' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.99, offset=3.65), time=240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Vehicle 'veh561' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 428 vehicles active
Warning: Vehicle 'veh584' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh555' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh555' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.51, offset=5.13), time=305.00.
Warning: Teleporting vehicle 'veh416'; collision with vehicle 'veh410', lane='E_GOR_W_NMR_H_s_1', gap=-3.79, time=318.00, stage=move.
Warning: Vehicle 'veh416' ends teleporting on edge 'E_PNK_W_WZM', time=321.00.
Warning: Teleporting vehicle 'veh435'; collision with vehicle 'veh431', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=322.00, stage=move.
Warning: Vehicle 'veh435' ends teleporting on edge 'E_PNK_W_WZM', time=325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh406' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=394.00.
Warning: Vehicle 'veh406' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-12.44, offset=2.79), time=394.00.
Warning: Vehicle 'veh657' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh657' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.74, offset=0.04), time=395.00.
Warning: Vehicle 'veh839' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh839' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.66, offset=0.50), time=395.00.
Warning: Vehicle 'veh863' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=400.00.
Warning: Vehicle 'veh863' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.01, offset=3.38), time=400.00.
Warning: Teleporting vehicle 'veh577'; collision with vehicle 'veh592', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=400.00, stage=move.
INFO:TrafficSimulator:Step 400: 448 vehicles active
Warning: Teleporting vehicle 'veh660'; collision with vehicle 'veh633', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=411.00, stage=move.
Warning: Teleporting vehicle 'veh720'; collision with vehicle 'veh708', lane='E_GOR_W_NMR_H_s_1', gap=-5.05, time=414.00, stage=move.
Warning: Vehicle 'veh660' ends teleporting on edge 'E_PNK_W_WZM', time=414.00.
Warning: Vehicle 'veh548' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=415.00.
Warning: Vehicle 'veh548' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.71, offset=0.35), time=415.00.
Warning: Vehicle 'veh720' ends teleporting on edge 'E_PNK_W_WZM_T', time=416.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh859' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=425.00.
Warning: Vehicle 'veh859' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.48, offset=0.05), time=425.00.
Warning: Vehicle 'veh803' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=448.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
Warning: Vehicle 'veh577' ends teleporting on edge 'E_WZM_S', time=465.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh977' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=483.00.
Warning: Vehicle 'veh977' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.09, offset=6.33), time=483.00.
Warning: Vehicle 'veh935' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=483.00.
Warning: Vehicle 'veh935' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.26, offset=7.41), time=483.00.
Warning: Vehicle 'veh972' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh939' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh939' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.26, offset=0.86), time=485.00.
Warning: Teleporting vehicle 'veh770'; collision with vehicle 'veh827', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=489.00, stage=move.
Warning: Vehicle 'veh770' ends teleporting on edge 'E_PNK_W_WZM_T', time=489.00.
Warning: Teleporting vehicle 'veh858'; collision with vehicle 'veh805', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=492.00, stage=move.
Warning: Teleporting vehicle 'veh840'; collision with vehicle 'veh831', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=494.00, stage=move.
Warning: Vehicle 'veh840' ends teleporting on edge 'E_PNK_W_WZM_T', time=495.00.
INFO:TrafficSimulator:Step 500: 463 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1108' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
Warning: Vehicle 'veh989' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=514.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh1105' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=540.00.
Warning: Vehicle 'veh1105' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.76, offset=1.24), time=540.00.
Warning: Vehicle 'veh858' teleports beyond arrival edge 'E_WZM_S', time=561.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1167' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=573.00.
Warning: Vehicle 'veh1167' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-16.53, offset=4.83), time=573.00.
Warning: Vehicle 'veh1269' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=580.00.
Warning: Vehicle 'veh1269' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.96, offset=7.72), time=580.00.
Warning: Vehicle 'veh836' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=597.00.
Warning: Vehicle 'veh836' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.69, offset=0.35), time=597.00.
Warning: Teleporting vehicle 'veh1206'; collision with vehicle 'veh1118', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=598.00, stage=move.
Warning: Vehicle 'veh1206' ends teleporting on edge 'E_PNK_W_WZM_T', time=598.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 459 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
Warning: Vehicle 'veh1145' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=630.00.
Warning: Vehicle 'veh1145' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-18.11, offset=5.80), time=630.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1367' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=663.00.
Warning: Vehicle 'veh1367' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-13.46, offset=3.31), time=663.00.
Warning: Teleporting vehicle 'veh1247'; collision with vehicle 'veh1249', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=669.00, stage=move.
Warning: Vehicle 'veh1247' ends teleporting on edge 'E_PNK_W_WZM_T', time=669.00.
Warning: Vehicle 'veh1199' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=673.00.
Warning: Vehicle 'veh1340' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=678.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh1217' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=692.00.
Warning: Vehicle 'veh1217' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.50, offset=1.02), time=692.00.
INFO:TrafficSimulator:Step 700: 450 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1608' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1608' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.40, offset=0.12), time=755.00.
Warning: Vehicle 'veh1532' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1532' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.93, offset=3.11), time=755.00.
Warning: Teleporting vehicle 'veh1479'; collision with vehicle 'veh1476', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=759.00, stage=move.
Warning: Vehicle 'veh1479' ends teleporting on edge 'E_PNK_W_WZM_T', time=761.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1571' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
Warning: Vehicle 'veh1696' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=785.00.
Warning: Vehicle 'veh1696' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.67, offset=0.08), time=785.00.
INFO:TrafficSimulator:Step 800: 464 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1635' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
Warning: Vehicle 'veh1635' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-20.57, offset=10.45), time=810.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1816' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=843.00.
Warning: Vehicle 'veh1816' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.32, offset=0.53), time=843.00.
Warning: Vehicle 'veh1765' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Teleporting vehicle 'veh1642'; collision with vehicle 'veh1657', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=852.00, stage=move.
Warning: Vehicle 'veh1642' ends teleporting on edge 'E_PNK_W_WZM_T', time=854.00.
Warning: Teleporting vehicle 'veh1720'; collision with vehicle 'veh1739', lane='E_GOR_W_NMR_H_s_1', gap=-1.30, time=861.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1903' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=875.00.
Warning: Vehicle 'veh1903' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-10.47, offset=0.81), time=876.00.
Warning: Vehicle 'veh1765' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=896.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
Warning: Vehicle 'veh1720' ends teleporting on edge 'E_WZM_S', time=900.00.
INFO:TrafficSimulator:Step 900: 494 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh2052' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=930.00.
Warning: Vehicle 'veh2052' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.62, offset=0.96), time=930.00.
Warning: Vehicle 'veh2055' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=933.00.
Warning: Vehicle 'veh1980' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=935.00.
Warning: Vehicle 'veh1980' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-21.90, offset=0.76), time=935.00.
Warning: Vehicle 'veh2091' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=943.00.
Warning: Vehicle 'veh2091' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.52, offset=0.69), time=943.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 522 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2164' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1029.00.
Warning: Teleporting vehicle 'veh2119'; collision with vehicle 'veh2082', lane='E_GOR_W_NMR_H_s_1', gap=-4.34, time=1036.00, stage=move.
Warning: Vehicle 'veh2119' ends teleporting on edge 'E_PNK_W_WZM_T', time=1038.00.
Warning: Teleporting vehicle 'veh2093'; collision with vehicle 'veh2055', lane='E_GOR_W_NMR_H_s_1', gap=-3.80, time=1040.00, stage=move.
Warning: Vehicle 'veh2093' ends teleporting on edge 'E_PNK_W_WZM_T', time=1040.00.
Warning: Teleporting vehicle 'veh1971'; collision with vehicle 'veh2093', lane='E_PNK_W_WZM_T_0', gap=-3.30, time=1041.00, stage=move.
Warning: Vehicle 'veh1971' ends teleporting on edge 'E_PNK_W_WZM', time=1041.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh2167' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1076.00.
Warning: Teleporting vehicle 'veh2167'; collision with vehicle 'veh2176', lane='E_GOR_W_NMR_H_s_1', gap=-0.26, time=1076.00, stage=move.
Warning: Vehicle 'veh2167' ends teleporting on edge 'E_PNK_W_WZM_T', time=1076.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2227'; collision with vehicle 'veh2239', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=1086.00, stage=move.
Warning: Vehicle 'veh2227' ends teleporting on edge 'E_PNK_W_WZM_T', time=1086.00.
Warning: Teleporting vehicle 'veh2249'; collision with vehicle 'veh2253', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=1090.00, stage=move.
Warning: Vehicle 'veh2249' ends teleporting on edge 'E_PNK_W_WZM_T', time=1090.00.
INFO:TrafficSimulator:Step 1100: 517 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2461' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1113.00.
Warning: Vehicle 'veh2461' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-15.57, offset=1.58), time=1113.00.
Warning: Teleporting vehicle 'veh2230'; collision with vehicle 'veh2107', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=1119.00, stage=move.
Warning: Vehicle 'veh2425' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1122.00.
Warning: Vehicle 'veh2425' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.00, offset=2.40), time=1122.00.
Warning: Teleporting vehicle 'veh2212'; collision with vehicle 'veh2228', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=1122.00, stage=move.
Warning: Vehicle 'veh2230' ends teleporting on edge 'E_PNK_W_WZM', time=1122.00.
Warning: Vehicle 'veh2212' ends teleporting on edge 'E_PNK_W_WZM', time=1126.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Vehicle 'veh2556' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1145.00.
Warning: Vehicle 'veh2556' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.29, offset=5.15), time=1145.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2667' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2667' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.49, offset=3.10), time=1170.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 509 vehicles active
Warning: Vehicle 'veh2643' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1203.00.
Warning: Vehicle 'veh2643' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-15.85, offset=0.82), time=1203.00.
Warning: Vehicle 'veh2524' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1205.00.
Warning: Vehicle 'veh2524' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.22, offset=5.11), time=1205.00.
Warning: Teleporting vehicle 'veh2309'; collision with vehicle 'veh2390', lane='E_GOR_W_NMR_H_s_1', gap=-5.03, time=1212.00, stage=move.
Warning: Vehicle 'veh2309' ends teleporting on edge 'E_PNK_W_WZM', time=1215.00.
Warning: Teleporting vehicle 'veh2433'; collision with vehicle 'veh2355', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=1216.00, stage=move.
Warning: Vehicle 'veh2433' ends teleporting on edge 'E_PNK_W_WZM_T', time=1216.00.
Warning: Teleporting vehicle 'veh2568'; collision with vehicle 'veh2587', lane='E_GOR_W_NMR_H_s_1', gap=-1.63, time=1219.00, stage=move.
Warning: Vehicle 'veh2568' ends teleporting on edge 'E_PNK_W_WZM_T', time=1219.00.
Warning: Teleporting vehicle 'veh2582'; collision with vehicle 'veh2591', lane='E_GOR_W_NMR_H_s_1', gap=-2.65, time=1221.00, stage=move.
Warning: Vehicle 'veh2582' ends teleporting on edge 'E_PNK_W_WZM_T', time=1221.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Vehicle 'veh2815' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1230.00.
Warning: Vehicle 'veh2792' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1235.00.
Warning: Vehicle 'veh2792' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-12.44, offset=0.22), time=1236.00.
Warning: Teleporting vehicle 'veh2680'; collision with vehicle 'veh2665', lane='E_GOR_W_NMR_H_s_1', gap=-4.80, time=1258.00, stage=move.
Warning: Vehicle 'veh2680' ends teleporting on edge 'E_PNK_W_WZM_T', time=1258.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2689'; collision with vehicle 'veh2684', lane='E_GOR_W_NMR_H_s_1', gap=-2.77, time=1260.00, stage=move.
Warning: Vehicle 'veh2689' ends teleporting on edge 'E_PNK_W_WZM_T', time=1260.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2822' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1295.00.
Warning: Vehicle 'veh2822' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.38, offset=5.50), time=1295.00.
Warning: Teleporting vehicle 'veh2501'; collision with vehicle 'veh2611', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=1299.00, stage=move.
INFO:TrafficSimulator:Step 1300: 544 vehicles active
Warning: Teleporting vehicle 'veh2696'; collision with vehicle 'veh2545', lane='E_GOR_W_NMR_H_s_1', gap=-2.80, time=1302.00, stage=move.
Warning: Vehicle 'veh2501' ends teleporting on edge 'E_PNK_W_WZM', time=1302.00.
Warning: Vehicle 'veh2696' ends teleporting on edge 'E_PNK_W_WZM_T', time=1302.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2883'; collision with vehicle 'veh2877', lane='E_GOR_W_NMR_H_s_1', gap=-3.64, time=1348.00, stage=move.
Warning: Vehicle 'veh2883' ends teleporting on edge 'E_PNK_W_WZM_T', time=1348.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh2851' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Vehicle 'veh2851' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.96, offset=3.85), time=1385.00.
Warning: Teleporting vehicle 'veh2812'; collision with vehicle 'veh2825', lane='E_GOR_W_NMR_H_s_1', gap=-6.22, time=1389.00, stage=move.
Warning: Vehicle 'veh2812' ends teleporting on edge 'E_PNK_W_WZM', time=1392.00.
Warning: Vehicle 'veh2690' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1393.00.
Warning: Vehicle 'veh2931' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1393.00.
Warning: Vehicle 'veh2931' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.12, offset=4.83), time=1393.00.
INFO:TrafficSimulator:Step 1400: 539 vehicles active
Warning: Vehicle 'veh2914' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1409.00.
Warning: Vehicle 'veh2914' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.36, offset=3.72), time=1409.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Vehicle 'veh3110' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1440.00.
Warning: Vehicle 'veh3110' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-20.52, offset=8.03), time=1440.00.
Warning: Teleporting vehicle 'veh3089'; collision with vehicle 'veh3084', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=1453.00, stage=move.
Warning: Vehicle 'veh3089' ends teleporting on edge 'E_PNK_W_WZM_T', time=1453.00.
Warning: Teleporting vehicle 'veh3167'; collision with vehicle 'veh2923', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=1459.00, stage=move.
Warning: Vehicle 'veh3167' ends teleporting on edge 'E_PNK_W_WZM_T', time=1459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh3131' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1483.00.
Warning: Teleporting vehicle 'veh3096'; collision with vehicle 'veh3147', lane='E_GOR_W_NMR_H_s_1', gap=-5.76, time=1485.00, stage=move.
Warning: Vehicle 'veh3096' ends teleporting on edge 'E_PNK_W_WZM_T', time=1485.00.
Warning: Teleporting vehicle 'veh3093'; collision with vehicle 'veh3153', lane='E_GOR_W_NMR_H_s_1', gap=-5.94, time=1488.00, stage=move.
Warning: Teleporting vehicle 'veh3186'; collision with vehicle 'veh3156', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=1490.00, stage=move.
Warning: Teleporting vehicle 'veh3203'; collision with vehicle 'veh2999', lane='E_GOR_W_NMR_H_s_1', gap=-4.73, time=1492.00, stage=move.
Warning: Vehicle 'veh3093' ends teleporting on edge 'E_PNK_W_WZM', time=1493.00.
Warning: Vehicle 'veh3186' ends teleporting on edge 'E_PNK_W_WZM', time=1495.00.
Warning: Vehicle 'veh3203' ends teleporting on edge 'E_PNK_W_WZM', time=1495.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
Warning: Vehicle 'veh3493' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1500.00.
Warning: Vehicle 'veh3493' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-22.96, offset=1.38), time=1500.00.
INFO:TrafficSimulator:Step 1500: 554 vehicles active
Warning: Vehicle 'veh3395' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1503.00.
Warning: Vehicle 'veh3395' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-19.88, offset=10.67), time=1503.00.
Warning: Vehicle 'veh3376' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1504.00.
Warning: Vehicle 'veh3376' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-10.88, offset=1.40), time=1504.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh3548' performs emergency braking on lane 'E_HZG_W_NMR_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3548' performs emergency stop at the end of lane 'E_HZG_W_NMR_H_slr_0' because of a red traffic light (decel=-10.07, offset=0.13), time=1530.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh3425' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3425' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.90, offset=1.18), time=1565.00.
Warning: Teleporting vehicle 'veh3309'; collision with vehicle 'veh3398', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=1569.00, stage=move.
Warning: Vehicle 'veh3168' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1573.00.
Warning: Vehicle 'veh3168' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.76, offset=3.92), time=1573.00.
Warning: Vehicle 'veh3678' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1573.00.
Warning: Vehicle 'veh3678' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.17, offset=0.71), time=1573.00.
Warning: Teleporting vehicle 'veh3418'; collision with vehicle 'veh3391', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=1573.00, stage=move.
Warning: Vehicle 'veh3309' ends teleporting on edge 'E_PNK_W_WZM', time=1573.00.
Warning: Vehicle 'veh3418' ends teleporting on edge 'E_PNK_W_WZM_T', time=1573.00.
Warning: Teleporting vehicle 'veh3434'; collision with vehicle 'veh3145', lane='E_GOR_W_NMR_H_s_1', gap=-5.64, time=1575.00, stage=move.
Warning: Vehicle 'veh3434' ends teleporting on edge 'E_PNK_W_WZM_T', time=1576.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3491' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1594.00.
Warning: Vehicle 'veh3491' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.10, offset=2.20), time=1594.00.
INFO:TrafficSimulator:Step 1600: 566 vehicles active
Warning: Teleporting vehicle 'veh3578'; collision with vehicle 'veh3518', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=1601.00, stage=move.
Warning: Vehicle 'veh3578' ends teleporting on edge 'E_PNK_W_WZM_T', time=1601.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3636'; collision with vehicle 'veh3509', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=1657.00, stage=move.
Warning: Vehicle 'veh3636' ends teleporting on edge 'E_PNK_W_WZM', time=1660.00.
Warning: Vehicle 'veh3539' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1661.00.
Warning: Vehicle 'veh3539' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.16, offset=0.63), time=1661.00.
Warning: Teleporting vehicle 'veh3699'; collision with vehicle 'veh3698', lane='E_GOR_W_NMR_H_s_1', gap=-5.38, time=1672.00, stage=move.
Warning: Vehicle 'veh3699' ends teleporting on edge 'E_PNK_W_WZM_T', time=1673.00.
Warning: Teleporting vehicle 'veh3740'; collision with vehicle 'veh3438', lane='E_GOR_W_NMR_H_s_1', gap=-3.50, time=1678.00, stage=move.
Warning: Vehicle 'veh3740' ends teleporting on edge 'E_PNK_W_WZM_T', time=1678.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3718'; collision with vehicle 'veh3780', lane='E_GOR_W_NMR_H_s_1', gap=-3.12, time=1680.00, stage=move.
Warning: Vehicle 'veh3718' ends teleporting on edge 'E_PNK_W_WZM_T', time=1680.00.
Warning: Vehicle 'veh3725' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1684.00.
Warning: Vehicle 'veh3501' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1692.00.
Warning: Vehicle 'veh3501' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.27, offset=4.82), time=1692.00.
INFO:TrafficSimulator:Step 1700: 584 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh3859' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1745.00.
Warning: Vehicle 'veh4008' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1745.00.
Warning: Vehicle 'veh4008' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.08, offset=6.62), time=1745.00.
Warning: Vehicle 'veh4105' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1748.00.
Warning: Vehicle 'veh4105' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.50, offset=1.41), time=1748.00.
Warning: Teleporting vehicle 'veh3810'; collision with vehicle 'veh3864', lane='E_GOR_W_NMR_H_s_1', gap=-4.46, time=1749.00, stage=move.
Warning: Teleporting vehicle 'veh3877'; collision with vehicle 'veh3822', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=1752.00, stage=move.
Warning: Vehicle 'veh3810' ends teleporting on edge 'E_PNK_W_WZM', time=1752.00.
Warning: Vehicle 'veh3877' ends teleporting on edge 'E_PNK_W_WZM_T', time=1752.00.
Warning: Teleporting vehicle 'veh3743'; collision with vehicle 'veh3772', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=1754.00, stage=move.
Warning: Vehicle 'veh3743' ends teleporting on edge 'E_PNK_W_WZM_T', time=1754.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh4008' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1797.00.
Warning: Teleporting vehicle 'veh4008'; collision with vehicle 'veh3995', lane='E_GOR_W_NMR_H_s_1', gap=-0.16, time=1797.00, stage=move.
Warning: Vehicle 'veh4008' ends teleporting on edge 'E_PNK_W_WZM_T', time=1797.00.
Warning: Teleporting vehicle 'veh4024'; collision with vehicle 'veh4011', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=1799.00, stage=move.
Warning: Vehicle 'veh4024' ends teleporting on edge 'E_PNK_W_WZM_T', time=1799.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 585 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Vehicle 'veh3923' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1836.00.
Warning: Vehicle 'veh3923' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.60, offset=0.75), time=1836.00.
Warning: Teleporting vehicle 'veh4091'; collision with vehicle 'veh4052', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=1836.00, stage=move.
Warning: Vehicle 'veh4091' ends teleporting on edge 'E_PNK_W_WZM_T', time=1836.00.
Warning: Teleporting vehicle 'veh3973'; collision with vehicle 'veh4078', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=1840.00, stage=move.
Warning: Vehicle 'veh3973' ends teleporting on edge 'E_PNK_W_WZM_T', time=1842.00.
Warning: Vehicle 'veh3741' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1843.00.
Warning: Teleporting vehicle 'veh3968'; collision with vehicle 'veh4105', lane='E_GOR_W_NMR_H_s_1', gap=-5.83, time=1844.00, stage=move.
Warning: Vehicle 'veh3968' ends teleporting on edge 'E_PNK_W_WZM_T', time=1845.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh4234' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1860.00.
Warning: Vehicle 'veh4234' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-20.00, offset=0.65), time=1860.00.
Warning: Vehicle 'veh4203' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1889.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
INFO:TrafficSimulator:Step 1900: 604 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh3993' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Teleporting vehicle 'veh3924'; collision with vehicle 'veh4273', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=1927.00, stage=move.
Warning: Teleporting vehicle 'veh4317'; collision with vehicle 'veh4087', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=1929.00, stage=move.
Warning: Vehicle 'veh3924' ends teleporting on edge 'E_PNK_W_WZM_T', time=1929.00.
Warning: Vehicle 'veh4317' ends teleporting on edge 'E_PNK_W_WZM_T', time=1931.00.
Warning: Vehicle 'veh3834' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1933.00.
Warning: Teleporting vehicle 'veh4353'; collision with vehicle 'veh4392', lane='E_GOR_W_NMR_H_s_1', gap=-1.31, time=1940.00, stage=move.
Warning: Vehicle 'veh4353' ends teleporting on edge 'E_PNK_W_WZM_T', time=1940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4594' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1955.00.
Warning: Vehicle 'veh4594' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.54, offset=6.83), time=1955.00.
Warning: Teleporting vehicle 'veh4465'; collision with vehicle 'veh4470', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=1977.00, stage=move.
Warning: Vehicle 'veh4465' ends teleporting on edge 'E_PNK_W_WZM_T', time=1977.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh4666' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
INFO:TrafficSimulator:Step 2000: 603 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Vehicle 'veh4695' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2010.00.
Warning: Vehicle 'veh4642' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2010.00.
Warning: Vehicle 'veh4642' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-15.53, offset=3.68), time=2010.00.
Warning: Vehicle 'veh4684' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2013.00.
Warning: Vehicle 'veh4684' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.72, offset=1.74), time=2013.00.
Warning: Teleporting vehicle 'veh4354'; collision with vehicle 'veh4210', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=2019.00, stage=move.
Warning: Vehicle 'veh4354' ends teleporting on edge 'E_PNK_W_WZM_T', time=2019.00.
Warning: Vehicle 'veh4033' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2023.00.
Warning: Vehicle 'veh4033' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.62, offset=2.22), time=2023.00.
Warning: Teleporting vehicle 'veh4527'; collision with vehicle 'veh4528', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=2025.00, stage=move.
Warning: Vehicle 'veh4527' ends teleporting on edge 'E_PNK_W_WZM_T', time=2025.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4679' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2040.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
Warning: Vehicle 'veh4910' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2100.00.
Warning: Vehicle 'veh4910' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.90, offset=0.84), time=2100.00.
INFO:TrafficSimulator:Step 2100: 600 vehicles active
Warning: Vehicle 'veh4342' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4924' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4924' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.02, offset=1.66), time=2105.00.
Warning: Teleporting vehicle 'veh4369'; collision with vehicle 'veh4495', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=2106.00, stage=move.
Warning: Vehicle 'veh4369' ends teleporting on edge 'E_PNK_W_WZM_T', time=2106.00.
Warning: Teleporting vehicle 'veh4583'; collision with vehicle 'veh4552', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=2109.00, stage=move.
Warning: Teleporting vehicle 'veh4732'; collision with vehicle 'veh4646', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=2115.00, stage=move.
Warning: Vehicle 'veh4732' ends teleporting on edge 'E_PNK_W_WZM_T', time=2117.00.
Warning: Vehicle 'veh4710' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2121.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh4974' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh4583' ends teleporting on edge 'E_WZM_S', time=2161.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Vehicle 'veh5226' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=2190.00.
Warning: Vehicle 'veh5226' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-9.69, offset=0.57), time=2190.00.
Warning: Vehicle 'veh5114' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2194.00.
Warning: Vehicle 'veh5123' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2194.00.
Warning: Vehicle 'veh5123' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.98, offset=2.01), time=2194.00.
Warning: Teleporting vehicle 'veh4774'; collision with vehicle 'veh4708', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2196.00, stage=move.
Warning: Vehicle 'veh4774' ends teleporting on edge 'E_PNK_W_WZM', time=2199.00.
INFO:TrafficSimulator:Step 2200: 601 vehicles active
Warning: Teleporting vehicle 'veh4896'; collision with vehicle 'veh4754', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=2204.00, stage=move.
Warning: Vehicle 'veh4896' ends teleporting on edge 'E_PNK_W_WZM', time=2208.00.
Warning: Teleporting vehicle 'veh5045'; collision with vehicle 'veh5055', lane='E_GOR_W_NMR_H_s_1', gap=-5.19, time=2218.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Vehicle 'veh5116' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2220.00.
Warning: Vehicle 'veh5116' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.38, offset=3.55), time=2220.00.
Warning: Vehicle 'veh5045' ends teleporting on edge 'E_PNK_W_WZM', time=2221.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5073'; collision with vehicle 'veh5097', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=2282.00, stage=move.
Warning: Vehicle 'veh5073' ends teleporting on edge 'E_PNK_W_WZM_T', time=2282.00.
Warning: Vehicle 'veh5362' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2287.00.
Warning: Vehicle 'veh5485' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2293.00.
Warning: Vehicle 'veh5092' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2293.00.
Warning: Vehicle 'veh5092' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.10, offset=8.66), time=2293.00.
Warning: Vehicle 'veh5083' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2293.00.
Warning: Teleporting vehicle 'veh5169'; collision with vehicle 'veh5151', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=2296.00, stage=move.
Warning: Vehicle 'veh5169' ends teleporting on edge 'E_PNK_W_WZM_T', time=2296.00.
INFO:TrafficSimulator:Step 2300: 638 vehicles active
Warning: Teleporting vehicle 'veh5127'; collision with vehicle 'veh5180', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=2306.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh5270' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2310.00.
Warning: Vehicle 'veh5270' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.80, offset=5.70), time=2310.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh5127' teleports beyond arrival edge 'E_WZM_S', time=2358.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh5483' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2375.00.
Warning: Teleporting vehicle 'veh5318'; collision with vehicle 'veh5392', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=2377.00, stage=move.
Warning: Vehicle 'veh5318' ends teleporting on edge 'E_PNK_W_WZM_T', time=2378.00.
Warning: Vehicle 'veh5702' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2383.00.
Warning: Vehicle 'veh5703' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2383.00.
Warning: Vehicle 'veh4796' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2383.00.
Warning: Teleporting vehicle 'veh5411'; collision with vehicle 'veh5413', lane='E_GOR_W_NMR_H_s_1', gap=-1.97, time=2389.00, stage=move.
Warning: Vehicle 'veh5411' ends teleporting on edge 'E_PNK_W_WZM_T', time=2392.00.
Warning: Teleporting vehicle 'veh5518'; collision with vehicle 'veh5559', lane='E_GOR_W_NMR_H_s_1', gap=-3.74, time=2397.00, stage=move.
Warning: Vehicle 'veh5518' ends teleporting on edge 'E_PNK_W_WZM_T', time=2397.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
Warning: Vehicle 'veh5551' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2400.00.
Warning: Vehicle 'veh5551' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-18.10, offset=6.66), time=2400.00.
INFO:TrafficSimulator:Step 2400: 626 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5526'; collision with vehicle 'veh5528', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=2466.00, stage=move.
Warning: Vehicle 'veh5526' ends teleporting on edge 'E_PNK_W_WZM_T', time=2468.00.
Warning: Teleporting vehicle 'veh4948'; collision with vehicle 'veh5544', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2469.00, stage=move.
Warning: Teleporting vehicle 'veh5586'; collision with vehicle 'veh5592', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=2471.00, stage=move.
Warning: Vehicle 'veh4948' ends teleporting on edge 'E_PNK_W_WZM', time=2472.00.
Warning: Vehicle 'veh4890' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2473.00.
Warning: Vehicle 'veh4890' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-16.36, offset=0.54), time=2473.00.
Warning: Teleporting vehicle 'veh5638'; collision with vehicle 'veh5656', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=2473.00, stage=move.
Warning: Vehicle 'veh5586' ends teleporting on edge 'E_PNK_W_WZM', time=2474.00.
Warning: Vehicle 'veh5638' ends teleporting on edge 'E_PNK_W_WZM_T', time=2475.00.
Warning: Teleporting vehicle 'veh5767'; collision with vehicle 'veh5726', lane='E_GOR_W_NMR_H_s_1', gap=-5.60, time=2487.00, stage=move.
Warning: Vehicle 'veh5767' ends teleporting on edge 'E_PNK_W_WZM_T', time=2487.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
INFO:TrafficSimulator:Step 2500: 605 vehicles active
Warning: Vehicle 'veh5860' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2504.00.
Warning: Vehicle 'veh5860' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.50, offset=7.50), time=2504.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Vehicle 'veh6011' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Vehicle 'veh6011' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.44, offset=1.50), time=2555.00.
Warning: Teleporting vehicle 'veh5202'; collision with vehicle 'veh5804', lane='E_GOR_W_NMR_H_s_1', gap=-3.47, time=2557.00, stage=move.
Warning: Vehicle 'veh6143' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2558.00.
Warning: Vehicle 'veh5202' ends teleporting on edge 'E_PNK_W_WZM', time=2560.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh6046' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2580.00.
Warning: Vehicle 'veh6046' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-10.44, offset=0.39), time=2581.00.
Warning: Vehicle 'veh5722' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2600.00.
Warning: Vehicle 'veh5722' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.50, offset=1.28), time=2600.00.
INFO:TrafficSimulator:Step 2600: 557 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6116'; collision with vehicle 'veh6098', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=2612.00, stage=move.
Warning: Vehicle 'veh6116' ends teleporting on edge 'E_PNK_W_WZM_T', time=2612.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5865'; collision with vehicle 'veh5852', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=2646.00, stage=move.
Warning: Vehicle 'veh5865' ends teleporting on edge 'E_PNK_W_WZM_T', time=2646.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
Warning: Vehicle 'veh6493' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=2700.00.
INFO:TrafficSimulator:Step 2700: 565 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6395' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2735.00.
Warning: Vehicle 'veh6395' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.94, offset=0.22), time=2735.00.
Warning: Teleporting vehicle 'veh5946'; collision with vehicle 'veh5979', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=2736.00, stage=move.
Warning: Teleporting vehicle 'veh6008'; collision with vehicle 'veh6049', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=2738.00, stage=move.
Warning: Vehicle 'veh5946' ends teleporting on edge 'E_PNK_W_WZM', time=2739.00.
Warning: Vehicle 'veh6008' ends teleporting on edge 'E_PNK_W_WZM_T', time=2739.00.
Warning: Vehicle 'veh6446' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2758.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Vehicle 'veh6617' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2760.00.
Warning: Vehicle 'veh6617' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.29, offset=2.87), time=2760.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Vehicle 'veh6279' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2790.00.
Warning: Vehicle 'veh6279' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.87, offset=0.66), time=2790.00.
INFO:TrafficSimulator:Step 2800: 596 vehicles active
Warning: Vehicle 'veh6181' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2817.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6614' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2820.00.
Warning: Teleporting vehicle 'veh6181'; collision with vehicle 'veh6218', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=2826.00, stage=move.
Warning: Vehicle 'veh6181' ends teleporting on edge 'E_PNK_W_WZM_T', time=2826.00.
Warning: Teleporting vehicle 'veh6243'; collision with vehicle 'veh6252', lane='E_GOR_W_NMR_H_s_1', gap=-4.31, time=2829.00, stage=move.
Warning: Vehicle 'veh6828' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2833.00.
Warning: Vehicle 'veh6828' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.18, offset=5.69), time=2833.00.
Warning: Vehicle 'veh6131' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2833.00.
Warning: Vehicle 'veh6131' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.61, offset=1.34), time=2833.00.
Warning: Vehicle 'veh6243' ends teleporting on edge 'E_PNK_W_WZM', time=2833.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh6548' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh6548' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.54, offset=2.74), time=2880.00.
Warning: Teleporting vehicle 'veh6556'; collision with vehicle 'veh6586', lane='E_GOR_W_NMR_H_s_1', gap=-2.66, time=2883.00, stage=move.
Warning: Vehicle 'veh6556' ends teleporting on edge 'E_PNK_W_WZM_T', time=2883.00.
INFO:TrafficSimulator:Step 2900: 620 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh6745' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2910.00.
Warning: Vehicle 'veh6745' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-20.73, offset=7.98), time=2910.00.
Warning: Vehicle 'veh6813' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
Warning: Vehicle 'veh6813' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.52, offset=5.76), time=2915.00.
Warning: Vehicle 'veh6774' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
Warning: Vehicle 'veh6774' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-10.61, offset=0.84), time=2916.00.
Warning: Vehicle 'veh6877' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2919.00.
Warning: Vehicle 'veh6877' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.98, offset=1.19), time=2919.00.
Warning: Vehicle 'veh6585' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2936.00.
Warning: Vehicle 'veh6585' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.01, offset=0.54), time=2936.00.
Warning: Teleporting vehicle 'veh6755'; collision with vehicle 'veh6879', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=2939.00, stage=move.
Warning: Vehicle 'veh6755' ends teleporting on edge 'E_PNK_W_WZM_T', time=2939.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6794'; collision with vehicle 'veh5944', lane='E_GOR_W_NMR_H_s_1', gap=-1.28, time=2967.00, stage=move.
Warning: Vehicle 'veh6794' ends teleporting on edge 'E_PNK_W_WZM_T', time=2967.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Vehicle 'veh6895' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2970.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Vehicle 'veh7158' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3000.00.
INFO:TrafficSimulator:Step 3000: 614 vehicles active
Warning: Teleporting vehicle 'veh6545'; collision with vehicle 'veh6896', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3006.00, stage=move.
Warning: Vehicle 'veh6545' ends teleporting on edge 'E_PNK_W_WZM', time=3009.00.
Warning: Teleporting vehicle 'veh6753'; collision with vehicle 'veh6624', lane='E_GOR_W_NMR_H_s_1', gap=-5.92, time=3012.00, stage=move.
Warning: Vehicle 'veh7290' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3013.00.
Warning: Vehicle 'veh7290' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.02, offset=3.97), time=3013.00.
Warning: Vehicle 'veh6753' ends teleporting on edge 'E_PNK_W_WZM_T', time=3013.00.
Warning: Teleporting vehicle 'veh6703'; collision with vehicle 'veh6927', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=3016.00, stage=move.
Warning: Vehicle 'veh6703' ends teleporting on edge 'E_PNK_W_WZM', time=3019.00.
Warning: Teleporting vehicle 'veh6920'; collision with vehicle 'veh6806', lane='E_GOR_W_NMR_H_s_1', gap=-3.81, time=3020.00, stage=move.
Warning: Vehicle 'veh6920' ends teleporting on edge 'E_PNK_W_WZM_T', time=3020.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh7090' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3030.00.
Warning: Vehicle 'veh7090' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-17.47, offset=8.13), time=3030.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Vehicle 'veh7252' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3060.00.
Warning: Teleporting vehicle 'veh7036'; collision with vehicle 'veh7070', lane='E_GOR_W_NMR_H_s_1', gap=-6.11, time=3061.00, stage=move.
Warning: Vehicle 'veh7036' ends teleporting on edge 'E_PNK_W_WZM_T', time=3061.00.
Warning: Teleporting vehicle 'veh7106'; collision with vehicle 'veh7074', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=3064.00, stage=move.
Warning: Vehicle 'veh7106' ends teleporting on edge 'E_PNK_W_WZM_T', time=3064.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Vehicle 'veh6319' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3094.00.
Warning: Vehicle 'veh6319' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.75, offset=1.80), time=3094.00.
INFO:TrafficSimulator:Step 3100: 629 vehicles active
Warning: Teleporting vehicle 'veh7108'; collision with vehicle 'veh7125', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=3112.00, stage=move.
Warning: Vehicle 'veh7108' ends teleporting on edge 'E_PNK_W_WZM', time=3115.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Vehicle 'veh7332' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3120.00.
Warning: Vehicle 'veh7332' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-19.42, offset=9.64), time=3120.00.
Warning: Teleporting vehicle 'veh6278'; collision with vehicle 'veh7236', lane='E_GOR_W_NMR_H_s_1', gap=-0.31, time=3145.00, stage=move.
Warning: Vehicle 'veh6278' ends teleporting on edge 'E_PNK_W_WZM_T', time=3145.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh7631' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3180.00.
Warning: Vehicle 'veh7631' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-19.15, offset=5.27), time=3180.00.
Warning: Vehicle 'veh7613' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3180.00.
Warning: Vehicle 'veh7613' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.02, offset=2.43), time=3180.00.
Warning: Vehicle 'veh7507' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
Warning: Vehicle 'veh7575' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3190.00.
Warning: Vehicle 'veh7575' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.51, offset=2.42), time=3190.00.
Warning: Teleporting vehicle 'veh7512'; collision with vehicle 'veh7367', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=3195.00, stage=move.
Warning: Vehicle 'veh7512' ends teleporting on edge 'E_PNK_W_WZM', time=3198.00.
INFO:TrafficSimulator:Step 3200: 607 vehicles active
Warning: Teleporting vehicle 'veh7329'; collision with vehicle 'veh7429', lane='E_GOR_W_NMR_H_s_1', gap=-1.52, time=3201.00, stage=move.
Warning: Vehicle 'veh7329' ends teleporting on edge 'E_PNK_W_WZM_T', time=3201.00.
Warning: Teleporting vehicle 'veh7339'; collision with vehicle 'veh6377', lane='E_GOR_W_NMR_H_s_1', gap=-2.70, time=3203.00, stage=move.
Warning: Vehicle 'veh7339' ends teleporting on edge 'E_PNK_W_WZM_T', time=3203.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7554' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3210.00.
Warning: Vehicle 'veh7554' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.71, offset=7.78), time=3210.00.
Warning: Vehicle 'veh7519' performs emergency braking on lane 'E_PNK_W_WZM_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3218.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh7832' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3270.00.
Warning: Vehicle 'veh7832' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.31, offset=0.05), time=3270.00.
Warning: Vehicle 'veh7765' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3278.00.
Warning: Vehicle 'veh7765' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.21, offset=3.38), time=3278.00.
Warning: Vehicle 'veh7723' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3278.00.
Warning: Vehicle 'veh6518' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3283.00.
Warning: Vehicle 'veh7599' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3283.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 618 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Vehicle 'veh7987' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh6676' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3373.00.
Warning: Vehicle 'veh6676' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.38, offset=2.49), time=3373.00.
Warning: Teleporting vehicle 'veh7944'; collision with vehicle 'veh7956', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=3373.00, stage=move.
Warning: Vehicle 'veh6941' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3374.00.
Warning: Vehicle 'veh6941' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.18, offset=0.45), time=3374.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Vehicle 'veh8066' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3396.00.
INFO:TrafficSimulator:Step 3400: 595 vehicles active
Warning: Vehicle 'veh8197' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3410.00.
Warning: Vehicle 'veh8197' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.79, offset=7.34), time=3410.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh7944' ends teleporting on edge 'E_WZM_S', time=3422.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Vehicle 'veh8266' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3450.00.
Warning: Vehicle 'veh8293' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3450.00.
Warning: Vehicle 'veh8293' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.29, offset=7.11), time=3450.00.
Warning: Teleporting vehicle 'veh8039'; collision with vehicle 'veh7987', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=3456.00, stage=move.
Warning: Vehicle 'veh8039' ends teleporting on edge 'E_PNK_W_WZM_T', time=3456.00.
Warning: Teleporting vehicle 'veh8080'; collision with vehicle 'veh8029', lane='E_GOR_W_NMR_H_s_1', gap=-3.54, time=3459.00, stage=move.
Warning: Vehicle 'veh8080' ends teleporting on edge 'E_PNK_W_WZM_T', time=3459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
Warning: Vehicle 'veh8292' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3480.00.
Warning: Vehicle 'veh8498' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3480.00.
Warning: Vehicle 'veh8498' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-22.40, offset=9.02), time=3480.00.
Warning: Vehicle 'veh8422' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3489.00.
Warning: Vehicle 'veh8499' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3495.00.
Warning: Vehicle 'veh8499' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.62, offset=6.44), time=3495.00.
Warning: Vehicle 'veh8008' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3499.00.
INFO:TrafficSimulator:Step 3500: 576 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Vehicle 'veh8527' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3540.00.
Warning: Vehicle 'veh8527' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-16.30, offset=2.94), time=3540.00.
Warning: Vehicle 'veh8551' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3553.00.
Warning: Vehicle 'veh8551' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.84, offset=3.82), time=3553.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh8740' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3589.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
INFO:TrafficSimulator:Step 3600: 577 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8236'; collision with vehicle 'veh8256', lane='E_GOR_W_NMR_H_s_1', gap=-5.22, time=3637.00, stage=move.
Warning: Vehicle 'veh8236' ends teleporting on edge 'E_PNK_W_WZM', time=3640.00.
Warning: Vehicle 'veh8602' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3643.00.
Warning: Teleporting vehicle 'veh8347'; collision with vehicle 'veh8650', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=3644.00, stage=move.
Warning: Vehicle 'veh8347' ends teleporting on edge 'E_PNK_W_WZM_T', time=3644.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8443' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3671.00.
Warning: Vehicle 'veh8994' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3680.00.
Warning: Vehicle 'veh8994' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-20.63, offset=6.16), time=3680.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
Warning: Vehicle 'veh8510' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3690.00.
Warning: Vehicle 'veh8510' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.18, offset=1.35), time=3690.00.
INFO:TrafficSimulator:Step 3700: 601 vehicles active
Warning: Vehicle 'veh8930' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3710.00.
Warning: Vehicle 'veh8871' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3710.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Vehicle 'veh8990' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3720.00.
Warning: Teleporting vehicle 'veh8512'; collision with vehicle 'veh8473', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=3727.00, stage=move.
Warning: Vehicle 'veh8512' ends teleporting on edge 'E_PNK_W_WZM', time=3730.00.
Warning: Vehicle 'veh9166' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3733.00.
Warning: Vehicle 'veh9166' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-20.26, offset=1.77), time=3733.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh9012' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3757.00.
Warning: Vehicle 'veh9012' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.79, offset=8.46), time=3757.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 620 vehicles active
Warning: Vehicle 'veh9018' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3801.00.
Warning: Vehicle 'veh9018' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.85, offset=3.03), time=3801.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Vehicle 'veh9192' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3810.00.
Warning: Vehicle 'veh9192' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-14.60, offset=3.01), time=3810.00.
Warning: Teleporting vehicle 'veh8576'; collision with vehicle 'veh8589', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=3816.00, stage=move.
Warning: Vehicle 'veh8576' ends teleporting on edge 'E_PNK_W_WZM_T', time=3817.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh9168' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3847.00.
Warning: Vehicle 'veh9168' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.57, offset=3.28), time=3847.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh9433' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=3870.00.
Warning: Vehicle 'veh9433' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-11.15, offset=0.08), time=3870.00.
Warning: Teleporting vehicle 'veh8788'; collision with vehicle 'veh8640', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=3890.00, stage=move.
Warning: Vehicle 'veh8788' ends teleporting on edge 'E_PNK_W_WZM_T', time=3890.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 607 vehicles active
Warning: Teleporting vehicle 'veh9112'; collision with vehicle 'veh8828', lane='E_GOR_W_NMR_H_s_1', gap=-5.28, time=3910.00, stage=move.
Warning: Vehicle 'veh9643' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3913.00.
Warning: Vehicle 'veh9643' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.41, offset=0.46), time=3913.00.
Warning: Vehicle 'veh9311' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3913.00.
Warning: Vehicle 'veh9311' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.68, offset=5.56), time=3913.00.
Warning: Vehicle 'veh9377' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3913.00.
Warning: Vehicle 'veh9112' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3916.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
Warning: Vehicle 'veh9744' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3990.00.
INFO:TrafficSimulator:Step 4000: 581 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh4983' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4027.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9138'; collision with vehicle 'veh9056', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=4078.00, stage=move.
Warning: Vehicle 'veh9138' ends teleporting on edge 'E_PNK_W_WZM_T', time=4078.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Vehicle 'veh9636' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4081.00.
INFO:TrafficSimulator:Step 4100: 598 vehicles active
Warning: Teleporting vehicle 'veh3791'; junction collision with vehicle 'veh3770', lane=':J_WZM_PNK_12_0', gap=-0.16, time=4106.00, stage=move.
Warning: Vehicle 'veh3791' ends teleporting on edge 'E_PNK_E_NMR_T', time=4106.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh9908' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4117.00.
Warning: Vehicle 'veh9908' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.26, offset=6.04), time=4117.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh9314' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9267'; collision with vehicle 'veh9366', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=4179.00, stage=move.
Warning: Vehicle 'veh9901' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4181.00.
Warning: Vehicle 'veh9901' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.26, offset=3.52), time=4181.00.
Warning: Vehicle 'veh9267' ends teleporting on edge 'E_PNK_W_WZM', time=4182.00.
Warning: Teleporting vehicle 'veh9679'; collision with vehicle 'veh9703', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=4189.00, stage=move.
Warning: Vehicle 'veh9737' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4191.00.
Warning: Vehicle 'veh9679' ends teleporting on edge 'E_PNK_W_WZM', time=4192.00.
Warning: Teleporting vehicle 'veh9770'; collision with vehicle 'veh9746', lane='E_GOR_W_NMR_H_s_1', gap=-2.58, time=4197.00, stage=move.
Warning: Vehicle 'veh9770' ends teleporting on edge 'E_PNK_W_WZM_T', time=4198.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 625 vehicles active
Warning: Vehicle 'veh9985' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4203.00.
Warning: Vehicle 'veh9985' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.97, offset=0.26), time=4203.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9891'; junction collision with vehicle 'veh9850', lane=':J_NMR_PNK_2_0', gap=-0.41, time=4262.00, stage=move.
Warning: Teleporting vehicle 'veh10369'; collision with vehicle 'veh9325', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=4262.00, stage=move.
Warning: Vehicle 'veh9891' ends teleporting on edge 'E_PNK_W_WZM_T', time=4262.00.
Warning: Vehicle 'veh10369' ends teleporting on edge 'E_PNK_W_WZM_T', time=4262.00.
Warning: Vehicle 'veh10599' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4273.00.
Warning: Vehicle 'veh10599' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.21, offset=7.43), time=4273.00.
Warning: Vehicle 'veh10223' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4273.00.
Warning: Teleporting vehicle 'veh9901'; collision with vehicle 'veh9490', lane='E_GOR_W_NMR_H_s_1', gap=-1.71, time=4274.00, stage=move.
Warning: Vehicle 'veh9901' ends teleporting on edge 'E_PNK_W_WZM', time=4277.00.
Warning: Teleporting vehicle 'veh10093'; collision with vehicle 'veh9965', lane='E_GOR_W_NMR_H_s_1', gap=-0.79, time=4280.00, stage=move.
Warning: Vehicle 'veh10093' ends teleporting on edge 'E_PNK_W_WZM_T', time=4280.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh4848' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=4297.00.
Warning: Vehicle 'veh10367' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4297.00.
Warning: Vehicle 'veh10367' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.28, offset=0.89), time=4297.00.
INFO:TrafficSimulator:Step 4300: 679 vehicles active
Warning: Vehicle 'veh10222' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4303.00.
Warning: Vehicle 'veh10222' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.30, offset=7.99), time=4303.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh10452' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4363.00.
Warning: Vehicle 'veh10452' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.58, offset=1.84), time=4363.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10500'; collision with vehicle 'veh10541', lane='E_GOR_W_NMR_H_s_1', gap=-1.15, time=4384.00, stage=move.
Warning: Vehicle 'veh10500' ends teleporting on edge 'E_PNK_W_WZM_T', time=4384.00.
Warning: Teleporting vehicle 'veh10720'; collision with vehicle 'veh10623', lane='E_GOR_W_NMR_H_s_1', gap=-0.30, time=4398.00, stage=move.
Warning: Vehicle 'veh10720' ends teleporting on edge 'E_PNK_W_WZM_T', time=4398.00.
INFO:TrafficSimulator:Step 4400: 741 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10804'; collision with vehicle 'veh10389', lane='E_GOR_W_NMR_H_s_1', gap=-3.60, time=4411.00, stage=move.
Warning: Vehicle 'veh10804' ends teleporting on edge 'E_PNK_W_WZM_T', time=4411.00.
Warning: Vehicle 'veh10834' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4432.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Vehicle 'veh8379' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4452.00.
Warning: Vehicle 'veh8379' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.23, offset=0.73), time=4452.00.
Warning: Teleporting vehicle 'veh10741'; collision with vehicle 'veh10824', lane='E_GOR_W_NMR_H_s_1', gap=-6.33, time=4463.00, stage=move.
Warning: Vehicle 'veh10741' ends teleporting on edge 'E_PNK_W_WZM_T', time=4463.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh10573' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4486.00.
Warning: Vehicle 'veh10573' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.82, offset=3.06), time=4486.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh10582' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh10582' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-18.30, offset=0.86), time=4500.00.
INFO:TrafficSimulator:Step 4500: 762 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Vehicle 'veh11083' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4542.00.
Warning: Vehicle 'veh10943' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4543.00.
Warning: Vehicle 'veh11001' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4543.00.
Warning: Vehicle 'veh11001' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.41, offset=5.43), time=4543.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh11209' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh11209' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.13, offset=0.52), time=4590.00.
INFO:TrafficSimulator:Step 4600: 790 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11204'; collision with vehicle 'veh11164', lane='E_GOR_W_NMR_H_s_1', gap=-0.79, time=4630.00, stage=move.
Warning: Vehicle 'veh11204' ends teleporting on edge 'E_PNK_W_WZM_T', time=4630.00.
Warning: Vehicle 'veh8629' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4633.00.
Warning: Vehicle 'veh8629' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.24, offset=4.77), time=4633.00.
Warning: Teleporting vehicle 'veh8509'; collision with vehicle 'veh11220', lane='E_GOR_W_NMR_H_s_1', gap=-1.09, time=4634.00, stage=move.
Warning: Vehicle 'veh8509' ends teleporting on edge 'E_PNK_W_WZM_T', time=4634.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11401'; collision with vehicle 'veh11336', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=4666.00, stage=move.
Warning: Vehicle 'veh11401' ends teleporting on edge 'E_PNK_W_WZM_T', time=4666.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
INFO:TrafficSimulator:Step 4700: 811 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh11624' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh5564' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4740.00.
Warning: Teleporting vehicle 'veh11593'; collision with vehicle 'veh11489', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4743.00, stage=move.
Warning: Vehicle 'veh11593' ends teleporting on edge 'E_PNK_W_WZM_T', time=4743.00.
Warning: Teleporting vehicle 'veh11599'; collision with vehicle 'veh8750', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=4746.00, stage=move.
Warning: Vehicle 'veh11599' ends teleporting on edge 'E_PNK_W_WZM_T', time=4746.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11682' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh11682' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.24, offset=2.97), time=4770.00.
Warning: Vehicle 'veh11874' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh11874' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-9.93, offset=0.29), time=4770.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
INFO:TrafficSimulator:Step 4800: 807 vehicles active
Warning: Teleporting vehicle 'veh11751'; collision with vehicle 'veh11777', lane='E_GOR_W_NMR_H_s_1', gap=-5.54, time=4829.00, stage=move.
Warning: Vehicle 'veh11751' ends teleporting on edge 'E_PNK_W_WZM_T', time=4829.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh12054' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4835.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
INFO:TrafficSimulator:Step 4900: 805 vehicles active
Warning: Vehicle 'veh10328' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4903.00.
Warning: Vehicle 'veh10328' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-21.14, offset=2.05), time=4903.00.
Warning: Teleporting vehicle 'veh12001'; collision with vehicle 'veh11971', lane='E_GOR_W_NMR_H_s_1', gap=-1.77, time=4919.00, stage=move.
Warning: Vehicle 'veh12001' ends teleporting on edge 'E_PNK_W_WZM_T', time=4919.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh12302' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=4929.00.
Warning: Vehicle 'veh12302' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-17.24, offset=1.64), time=4929.00.
Warning: Teleporting vehicle 'veh12177'; collision with vehicle 'veh12242', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=4945.00, stage=move.
Warning: Vehicle 'veh12177' ends teleporting on edge 'E_PNK_W_WZM_T', time=4945.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh12257' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4980.00.
INFO:TrafficSimulator:Step 5000: 823 vehicles active
Warning: Teleporting vehicle 'veh12141'; collision with vehicle 'veh12200', lane='E_GOR_W_NMR_H_s_1', gap=-5.99, time=5003.00, stage=move.
Warning: Vehicle 'veh12141' ends teleporting on edge 'E_PNK_W_WZM_T', time=5003.00.
Warning: Teleporting vehicle 'veh12150'; collision with vehicle 'veh12237', lane='E_GOR_W_NMR_H_s_1', gap=-3.97, time=5009.00, stage=move.
Warning: Vehicle 'veh12150' ends teleporting on edge 'E_PNK_W_WZM_T', time=5009.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12337'; collision with vehicle 'veh12338', lane='E_GOR_W_NMR_H_s_1', gap=-5.57, time=5053.00, stage=move.
Warning: Vehicle 'veh12337' ends teleporting on edge 'E_PNK_W_WZM_T', time=5053.00.
Warning: Teleporting vehicle 'veh12468'; collision with vehicle 'veh12486', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=5063.00, stage=move.
Warning: Vehicle 'veh12468' ends teleporting on edge 'E_PNK_W_WZM_T', time=5063.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 769 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12821' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
Warning: Vehicle 'veh12652' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5159.00.
Warning: Vehicle 'veh12652' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.30, offset=2.39), time=5159.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh12555' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5160.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 751 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
Warning: Vehicle 'veh11703' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5220.00.
Warning: Vehicle 'veh11703' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.10, offset=1.63), time=5220.00.
Warning: Vehicle 'veh10603' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5221.00.
Warning: Teleporting vehicle 'veh10603'; collision with vehicle 'veh11703', lane='E_AYA_N_HLC_H_rl_1', gap=-0.05, time=5221.00, stage=move.
Warning: Vehicle 'veh10603' ends teleporting on edge 'E_HLC_W_AYA', time=5221.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Vehicle 'veh12878' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5263.00.
Warning: Vehicle 'veh12878' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-17.60, offset=3.43), time=5263.00.
Warning: Vehicle 'veh12871' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5272.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
INFO:TrafficSimulator:Step 5300: 759 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh12719' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
Warning: Vehicle 'veh10717' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh13306' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5362.00.
Warning: Vehicle 'veh13306' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-10.83, offset=0.84), time=5362.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13103'; collision with vehicle 'veh13185', lane='E_GOR_W_NMR_H_s_1', gap=-5.47, time=5374.00, stage=move.
Warning: Vehicle 'veh13103' ends teleporting on edge 'E_PNK_W_WZM_T', time=5374.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
INFO:TrafficSimulator:Step 5400: 736 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh10790' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5433.00.
Warning: Vehicle 'veh13386' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5452.00.
Warning: Vehicle 'veh13584' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5452.00.
Warning: Vehicle 'veh13584' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-13.65, offset=2.30), time=5452.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh13493' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5468.00.
Warning: Vehicle 'veh13493' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-11.38, offset=1.09), time=5469.00.
Warning: Vehicle 'veh13253' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5478.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
INFO:TrafficSimulator:Step 5500: 775 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10850'; collision with vehicle 'veh10857', lane='E_GOR_W_NMR_H_s_1', gap=-5.57, time=5523.00, stage=move.
Warning: Vehicle 'veh10850' ends teleporting on edge 'E_PNK_W_WZM_T', time=5523.00.
Warning: Teleporting vehicle 'veh13490'; collision with vehicle 'veh13471', lane='E_GOR_W_NMR_H_s_1', gap=-3.82, time=5530.00, stage=move.
Warning: Vehicle 'veh13490' ends teleporting on edge 'E_PNK_W_WZM_T', time=5532.00.
Warning: Vehicle 'veh14002' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5533.00.
Warning: Vehicle 'veh13782' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5533.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh13825' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5558.00.
Warning: Vehicle 'veh13825' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.38, offset=1.02), time=5558.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 812 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh10208' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5610.00.
Warning: Teleporting vehicle 'veh13701'; collision with vehicle 'veh13663', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=5621.00, stage=move.
Warning: Vehicle 'veh13701' ends teleporting on edge 'E_PNK_W_WZM_T', time=5621.00.
Warning: Vehicle 'veh14253' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5623.00.
Warning: Vehicle 'veh14253' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-14.35, offset=4.74), time=5623.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh11589' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=5643.00.
Warning: Vehicle 'veh11589' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_2' because of a red traffic light (decel=-9.82, offset=0.43), time=5643.00.
Warning: Vehicle 'veh14086' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5648.00.
Warning: Vehicle 'veh14086' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.82, offset=0.31), time=5648.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh14380' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh14380' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.32, offset=0.31), time=5670.00.
Warning: Vehicle 'veh13527' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Teleporting vehicle 'veh14302'; collision with vehicle 'veh14279', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=5695.00, stage=move.
Warning: Vehicle 'veh14302' ends teleporting on edge 'E_PNK_W_WZM', time=5698.00.
Warning: Vehicle 'veh14042' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5699.00.
Warning: Vehicle 'veh14042' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.62, offset=0.16), time=5699.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 795 vehicles active
Warning: Vehicle 'veh14529' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5713.00.
Warning: Vehicle 'veh14529' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.22, offset=8.50), time=5713.00.
Warning: Vehicle 'veh14025' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5722.00.
Warning: Vehicle 'veh14025' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.08, offset=9.90), time=5722.00.
Warning: Vehicle 'veh14351' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5722.00.
Warning: Vehicle 'veh14351' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-12.59, offset=2.87), time=5722.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh7256' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Vehicle 'veh7256' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-20.20, offset=2.86), time=5730.00.
Warning: Vehicle 'veh14571' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5743.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
INFO:TrafficSimulator:Step 5800: 793 vehicles active
Warning: Vehicle 'veh14796' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5803.00.
Warning: Vehicle 'veh14231' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5812.00.
Warning: Vehicle 'veh14231' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.27, offset=1.05), time=5812.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh14589' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5882.00.
Warning: Vehicle 'veh14589' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-10.53, offset=0.06), time=5882.00.
INFO:TrafficSimulator:Step 5900: 767 vehicles active
Warning: Vehicle 'veh14888' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5902.00.
Warning: Vehicle 'veh14888' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-12.90, offset=3.14), time=5902.00.
Warning: Vehicle 'veh14890' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5908.00.
Warning: Vehicle 'veh14890' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-21.95, offset=2.92), time=5908.00.
Warning: Teleporting vehicle 'veh14580'; collision with vehicle 'veh14542', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=5909.00, stage=move.
Warning: Vehicle 'veh14580' ends teleporting on edge 'E_PNK_W_WZM_T', time=5909.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14883'; collision with vehicle 'veh14909', lane='E_GOR_W_NMR_H_s_1', gap=-4.25, time=5931.00, stage=move.
Warning: Vehicle 'veh14883' ends teleporting on edge 'E_PNK_W_WZM_T', time=5931.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh15182' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11352'; collision with vehicle 'veh11340', lane='E_GOR_W_NMR_H_s_1', gap=-4.30, time=5971.00, stage=move.
Warning: Vehicle 'veh11352' ends teleporting on edge 'E_PNK_W_WZM_T', time=5972.00.
Warning: Vehicle 'veh15066' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5982.00.
Warning: Vehicle 'veh15066' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.40, offset=0.18), time=5982.00.
Warning: Vehicle 'veh14895' performs emergency braking on lane ':J31_3_2' with decel=9.00, wished=4.50, severity=1.00, time=5992.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 749 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh15432' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh15432' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-11.30, offset=0.47), time=6030.00.
Warning: Teleporting vehicle 'veh15089'; collision with vehicle 'veh15040', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=6055.00, stage=move.
Warning: Vehicle 'veh15089' ends teleporting on edge 'E_PNK_W_WZM_T', time=6055.00.
Warning: Teleporting vehicle 'veh15243'; collision with vehicle 'veh15106', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=6058.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Vehicle 'veh15243' ends teleporting on edge 'E_PNK_W_WZM', time=6062.00.
Warning: Vehicle 'veh15410' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6081.00.
Warning: Vehicle 'veh15410' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.27, offset=1.46), time=6081.00.
Warning: Vehicle 'veh15294' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6088.00.
Warning: Vehicle 'veh10822' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6088.00.
Warning: Vehicle 'veh10822' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.10, offset=5.89), time=6088.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh7787' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6090.00.
Warning: Vehicle 'veh7787' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-20.24, offset=7.91), time=6090.00.
INFO:TrafficSimulator:Step 6100: 782 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh15288' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6120.00.
Warning: Vehicle 'veh15288' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-10.68, offset=1.50), time=6120.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15581'; collision with vehicle 'veh15517', lane='E_GOR_W_NMR_H_s_1', gap=-5.53, time=6152.00, stage=move.
Warning: Vehicle 'veh15581' ends teleporting on edge 'E_PNK_W_WZM_T', time=6152.00.
Warning: Vehicle 'veh15490' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6160.00.
Warning: Vehicle 'veh15725' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6174.00.
Warning: Vehicle 'veh11070' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6174.00.
Warning: Vehicle 'veh11070' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.91, offset=1.62), time=6174.00.
Warning: Teleporting vehicle 'veh15598'; collision with vehicle 'veh15665', lane='E_GOR_W_NMR_H_s_1', gap=-4.05, time=6179.00, stage=move.
Warning: Vehicle 'veh15598' ends teleporting on edge 'E_PNK_W_WZM_T', time=6179.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15679'; collision with vehicle 'veh15678', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=6182.00, stage=move.
Warning: Vehicle 'veh15679' ends teleporting on edge 'E_PNK_W_WZM_T', time=6182.00.
INFO:TrafficSimulator:Step 6200: 790 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15767'; collision with vehicle 'veh15754', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=6235.00, stage=move.
Warning: Teleporting vehicle 'veh15728'; collision with vehicle 'veh15773', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=6238.00, stage=move.
Warning: Vehicle 'veh15767' ends teleporting on edge 'E_PNK_W_WZM', time=6238.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15755'; collision with vehicle 'veh15796', lane='E_GOR_W_NMR_H_s_1', gap=-5.91, time=6240.00, stage=move.
Warning: Vehicle 'veh15728' ends teleporting on edge 'E_PNK_W_WZM_T', time=6240.00.
Warning: Vehicle 'veh15755' ends teleporting on edge 'E_PNK_W_WZM', time=6243.00.
Warning: Vehicle 'veh15815' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6250.00.
Warning: Vehicle 'veh15920' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6259.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh15597' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6288.00.
Warning: Vehicle 'veh15597' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.25, offset=5.06), time=6288.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 814 vehicles active
Warning: Teleporting vehicle 'veh15845'; collision with vehicle 'veh15887', lane='E_GOR_W_NMR_H_s_1', gap=-6.22, time=6324.00, stage=move.
Warning: Teleporting vehicle 'veh16108'; collision with vehicle 'veh15978', lane='E_GOR_W_NMR_H_s_1', gap=-4.03, time=6327.00, stage=move.
Warning: Vehicle 'veh15845' ends teleporting on edge 'E_PNK_W_WZM', time=6327.00.
Warning: Teleporting vehicle 'veh16104'; collision with vehicle 'veh11843', lane='E_GOR_W_NMR_H_s_1', gap=-3.97, time=6329.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Vehicle 'veh15992' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6330.00.
Warning: Vehicle 'veh15992' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-21.30, offset=7.65), time=6330.00.
Warning: Vehicle 'veh16104' ends teleporting on edge 'E_PNK_W_WZM_T', time=6331.00.
Warning: Vehicle 'veh16108' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=6332.00.
Warning: Vehicle 'veh16349' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6344.00.
Warning: Vehicle 'veh16349' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.58, offset=0.57), time=6344.00.
Warning: Vehicle 'veh16314' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6358.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh16417' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh16417' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.18, offset=10.08), time=6360.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
INFO:TrafficSimulator:Step 6400: 813 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh16616' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6430.00.
Warning: Vehicle 'veh16514' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6444.00.
Warning: Vehicle 'veh16514' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.13, offset=8.64), time=6444.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh8035' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6450.00.
Warning: Vehicle 'veh8035' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.16, offset=7.15), time=6450.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 804 vehicles active
Warning: Teleporting vehicle 'veh16387'; collision with vehicle 'veh16431', lane='E_GOR_W_NMR_H_s_1', gap=-5.58, time=6504.00, stage=move.
Warning: Vehicle 'veh16387' ends teleporting on edge 'E_PNK_W_WZM', time=6507.00.
Warning: Vehicle 'veh11716' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6508.00.
Warning: Teleporting vehicle 'veh16605'; collision with vehicle 'veh12045', lane='E_GOR_W_NMR_H_s_1', gap=-4.91, time=6509.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16605' ends teleporting on edge 'E_PNK_W_WZM_T', time=6511.00.
Warning: Vehicle 'veh16589' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6520.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
Warning: Vehicle 'veh16550' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6600.00.
Warning: Vehicle 'veh16550' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-18.73, offset=8.49), time=6600.00.
INFO:TrafficSimulator:Step 6600: 801 vehicles active
Warning: Vehicle 'veh16844' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6624.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh16452' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6647.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh16744' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh16744' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-17.38, offset=7.39), time=6660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11976'; collision with vehicle 'veh11940', lane='E_GOR_W_NMR_H_s_1', gap=-0.65, time=6692.00, stage=move.
Warning: Vehicle 'veh11976' ends teleporting on edge 'E_PNK_W_WZM_T', time=6692.00.
Warning: Vehicle 'veh17368' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6700.00.
INFO:TrafficSimulator:Step 6700: 803 vehicles active
Warning: Vehicle 'veh17368' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-12.51, offset=0.14), time=6701.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh17400' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6726.00.
Warning: Vehicle 'veh17260' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6737.00.
Warning: Vehicle 'veh17260' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-9.46, offset=0.09), time=6738.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17177'; collision with vehicle 'veh17219', lane='E_GOR_W_NMR_H_s_1', gap=-0.89, time=6790.00, stage=move.
Warning: Vehicle 'veh17177' ends teleporting on edge 'E_PNK_W_WZM_T', time=6790.00.
Warning: Vehicle 'veh17631' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6793.00.
Warning: Vehicle 'veh13338' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6793.00.
INFO:TrafficSimulator:Step 6800: 790 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh17208' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6840.00.
Warning: Vehicle 'veh17208' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-19.14, offset=8.05), time=6840.00.
Warning: Vehicle 'veh17759' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6840.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh17472' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6894.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
INFO:TrafficSimulator:Step 6900: 790 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17776'; collision with vehicle 'veh17845', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=6954.00, stage=move.
Warning: Teleporting vehicle 'veh12717'; collision with vehicle 'veh12272', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=6957.00, stage=move.
Warning: Vehicle 'veh12717' ends teleporting on edge 'E_PNK_W_WZM_T', time=6957.00.
Warning: Vehicle 'veh17776' ends teleporting on edge 'E_PNK_W_WZM', time=6957.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh17460' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6981.00.
Warning: Vehicle 'veh17460' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-13.38, offset=0.11), time=6981.00.
Warning: Vehicle 'veh17989' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6984.00.
Warning: Vehicle 'veh17989' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-16.76, offset=5.35), time=6984.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
Warning: Vehicle 'veh18161' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=6996.00.
Warning: Vehicle 'veh18161' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-17.94, offset=6.74), time=6996.00.
INFO:TrafficSimulator:Step 7000: 770 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh18045' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7038.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12780'; collision with vehicle 'veh12451', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=7051.00, stage=move.
Warning: Vehicle 'veh12780' ends teleporting on edge 'E_PNK_W_WZM', time=7054.00.
Warning: Vehicle 'veh12572' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7074.00.
Warning: Vehicle 'veh12572' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.40, offset=5.20), time=7074.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
Warning: Vehicle 'veh18410' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7086.00.
INFO:TrafficSimulator:Step 7100: 818 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh18190' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh18190' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-16.56, offset=7.45), time=7110.00.
Warning: Teleporting vehicle 'veh18204'; collision with vehicle 'veh18340', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=7136.00, stage=move.
Warning: Vehicle 'veh18204' ends teleporting on edge 'E_PNK_W_WZM', time=7139.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18309'; collision with vehicle 'veh18252', lane='E_GOR_W_NMR_H_s_1', gap=-0.85, time=7144.00, stage=move.
Warning: Vehicle 'veh18309' ends teleporting on edge 'E_PNK_W_WZM_T', time=7144.00.
Warning: Vehicle 'veh12922' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=7153.00.
Warning: Teleporting vehicle 'veh18427'; collision with vehicle 'veh12416', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=7157.00, stage=move.
Warning: Vehicle 'veh18427' ends teleporting on edge 'E_PNK_W_WZM_T', time=7158.00.
Warning: Vehicle 'veh18468' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7164.00.
Warning: Vehicle 'veh18468' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.98, offset=6.37), time=7164.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh18675' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7170.00.
Warning: Vehicle 'veh18675' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.58, offset=1.23), time=7170.00.
Warning: Vehicle 'veh18157' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7186.00.
Warning: Vehicle 'veh18157' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.16, offset=0.94), time=7186.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh18323' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
Warning: Vehicle 'veh18323' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-15.32, offset=5.89), time=7200.00.
INFO:TrafficSimulator:Step 7200: 781 vehicles active
Warning: Teleporting vehicle 'veh18453'; collision with vehicle 'veh18462', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=7219.00, stage=move.
Warning: Vehicle 'veh18453' ends teleporting on edge 'E_PNK_W_WZM', time=7222.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18641'; collision with vehicle 'veh18646', lane='E_GOR_W_NMR_H_s_1', gap=-2.17, time=7230.00, stage=move.
Warning: Vehicle 'veh18641' ends teleporting on edge 'E_PNK_W_WZM', time=7234.00.
Warning: Vehicle 'veh12953' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7254.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 823
INFO:TrafficSimulator:Completed vehicles: 204
INFO:TrafficSimulator:Completion rate: 24.8%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16470
INFO:TreeMethodController:Vehicle total time: 4385692
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16470
INFO:TreeMethodController:Tree Method - Total driving time: 4385692
INFO:TreeMethodController:Tree Method - Average duration: 266.28 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16470
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 73.56s
 TraCI-Duration: 52.15s
 Real time factor: 99.236
 UPS: 63966.776325
Vehicles:
 Inserted: 17016 (Loaded: 18825)
 Running: 619
 Waiting: 1809
 Teleports: 169 (Collisions: 169)
 Emergency Stops: 176
 Emergency Braking: 294
Statistics (avg of 16397):
 RouteLength: 1419.90
 Speed: 7.21
 Duration: 267.55
 WaitingTime: 106.80
 TimeLoss: 165.64
 DepartDelay: 140.34
DijkstraRouter answered 88224 queries and explored 16.23 edges on average.
DijkstraRouter spent 0.12s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 823
INFO:SamplePipeline:completed_vehicles: 204
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 24.787363304981774
INFO:__main__:Pipeline execution completed successfully
