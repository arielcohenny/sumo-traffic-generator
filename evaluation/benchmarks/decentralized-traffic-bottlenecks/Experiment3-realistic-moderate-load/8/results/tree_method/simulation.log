INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment3-realistic-moderate-load/8
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 64271 ***
Loading net-file from 'workspace/grid.net.xml' ... done (26ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 2 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
Warning: Vehicle 'veh30' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=35.00.
Warning: Vehicle 'veh46' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=40.00.
Warning: Vehicle 'veh46' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.21, offset=0.56), time=40.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
Warning: Vehicle 'veh87' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=60.00.
Warning: Teleporting vehicle 'veh9'; collision with vehicle 'veh0', lane='E_GOR_W_NMR_H_s_1', gap=-2.43, time=89.00, stage=move.
Warning: Vehicle 'veh9' ends teleporting on edge 'E_PNK_W_WZM_T', time=89.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
INFO:TrafficSimulator:Step 100: 205 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh252' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh247' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh247' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.09, offset=3.33), time=130.00.
Warning: Vehicle 'veh26' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh26' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-17.02, offset=4.50), time=130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh211'; collision with vehicle 'veh220', lane='E_GOR_W_NMR_H_s_1', gap=-3.94, time=180.00, stage=move.
Warning: Vehicle 'veh211' ends teleporting on edge 'E_PNK_W_WZM_T', time=180.00.
INFO:TrafficSimulator:Step 200: 364 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh277' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh335' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh340' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=220.00.
Warning: Vehicle 'veh340' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.27, offset=0.03), time=220.00.
Warning: Teleporting vehicle 'veh225'; collision with vehicle 'veh243', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=221.00, stage=move.
Warning: Vehicle 'veh225' ends teleporting on edge 'E_PNK_W_WZM', time=224.00.
Warning: Vehicle 'veh350' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh486' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh486' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-23.10, offset=3.84), time=240.00.
Warning: Vehicle 'veh484' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh484' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.60, offset=0.98), time=240.00.
Warning: Vehicle 'veh397' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh397' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.80, offset=2.00), time=240.00.
Warning: Vehicle 'veh458' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=245.00.
Warning: Vehicle 'veh458' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.81, offset=2.81), time=245.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh345'; collision with vehicle 'veh403', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=281.00, stage=move.
Warning: Vehicle 'veh345' ends teleporting on edge 'E_PNK_W_WZM_T', time=281.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 424 vehicles active
Warning: Vehicle 'veh346' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=310.00.
Warning: Vehicle 'veh346' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-21.13, offset=11.31), time=310.00.
Warning: Teleporting vehicle 'veh396'; collision with vehicle 'veh428', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=311.00, stage=move.
Warning: Teleporting vehicle 'veh437'; collision with vehicle 'veh430', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=314.00, stage=move.
Warning: Vehicle 'veh396' ends teleporting on edge 'E_PNK_W_WZM', time=314.00.
Warning: Vehicle 'veh437' ends teleporting on edge 'E_PNK_W_WZM_T', time=314.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh681' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=335.00.
Warning: Vehicle 'veh677' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=335.00.
Warning: Vehicle 'veh677' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.88, offset=1.66), time=335.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh653' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh834' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh834' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.01, offset=3.44), time=395.00.
Warning: Vehicle 'veh780' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh780' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.41, offset=7.37), time=395.00.
INFO:TrafficSimulator:Step 400: 424 vehicles active
Warning: Teleporting vehicle 'veh596'; collision with vehicle 'veh695', lane='E_GOR_W_NMR_H_s_1', gap=-6.37, time=401.00, stage=move.
Warning: Teleporting vehicle 'veh645'; collision with vehicle 'veh626', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=403.00, stage=move.
Warning: Vehicle 'veh596' ends teleporting on edge 'E_PNK_W_WZM', time=404.00.
Warning: Teleporting vehicle 'veh716'; collision with vehicle 'veh702', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=409.00, stage=move.
Warning: Vehicle 'veh716' ends teleporting on edge 'E_PNK_W_WZM', time=412.00.
Warning: Vehicle 'veh486' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=415.00.
Warning: Vehicle 'veh486' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-21.27, offset=12.26), time=415.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh757' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=420.00.
Warning: Vehicle 'veh757' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-19.01, offset=4.09), time=420.00.
Warning: Vehicle 'veh645' ends teleporting on edge 'E_WZM_S', time=444.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
Warning: Vehicle 'veh774' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=450.00.
Warning: Teleporting vehicle 'veh774'; collision with vehicle 'veh806', lane='E_GOR_W_NMR_H_s_1', gap=-0.38, time=450.00, stage=move.
Warning: Vehicle 'veh774' ends teleporting on edge 'E_PNK_W_WZM_T', time=450.00.
Warning: Teleporting vehicle 'veh709'; collision with vehicle 'veh833', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=459.00, stage=move.
Warning: Vehicle 'veh709' ends teleporting on edge 'E_PNK_W_WZM_T', time=459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh992' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh992' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.17, offset=1.98), time=485.00.
Warning: Vehicle 'veh1040' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh1040' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.03, offset=1.87), time=485.00.
Warning: Vehicle 'veh971' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh971' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.43, offset=0.89), time=485.00.
Warning: Teleporting vehicle 'veh758'; collision with vehicle 'veh836', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=494.00, stage=move.
Warning: Vehicle 'veh758' ends teleporting on edge 'E_PNK_W_WZM', time=497.00.
INFO:TrafficSimulator:Step 500: 452 vehicles active
Warning: Vehicle 'veh841' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=505.00.
Warning: Vehicle 'veh841' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.49, offset=0.84), time=505.00.
Warning: Vehicle 'veh665' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=505.00.
Warning: Vehicle 'veh665' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.37, offset=0.50), time=505.00.
Warning: Vehicle 'veh683' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=505.00.
Warning: Vehicle 'veh683' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.59, offset=0.35), time=505.00.
Warning: Teleporting vehicle 'veh890'; collision with vehicle 'veh908', lane='E_GOR_W_NMR_H_s_1', gap=-6.40, time=505.00, stage=move.
Warning: Vehicle 'veh890' ends teleporting on edge 'E_PNK_W_WZM_T', time=505.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1108' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
Warning: Vehicle 'veh1108' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-17.21, offset=4.22), time=510.00.
Warning: Teleporting vehicle 'veh907'; collision with vehicle 'veh923', lane='E_GOR_W_NMR_H_s_1', gap=-4.07, time=511.00, stage=move.
Warning: Vehicle 'veh907' ends teleporting on edge 'E_PNK_W_WZM_T', time=511.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1095' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1095' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.80, offset=0.38), time=575.00.
Warning: Vehicle 'veh1016' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=580.00.
Warning: Vehicle 'veh1011' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=580.00.
Warning: Vehicle 'veh1011' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-11.92, offset=0.02), time=580.00.
Warning: Teleporting vehicle 'veh998'; collision with vehicle 'veh952', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=582.00, stage=move.
Warning: Vehicle 'veh686' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=597.00.
Warning: Vehicle 'veh686' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.51, offset=3.77), time=597.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
Warning: Vehicle 'veh1115' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=600.00.
INFO:TrafficSimulator:Step 600: 463 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
Warning: Vehicle 'veh998' ends teleporting on edge 'E_WZM_S', time=653.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1236'; collision with vehicle 'veh1269', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=669.00, stage=move.
Warning: Vehicle 'veh1443' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=671.00.
Warning: Vehicle 'veh1236' ends teleporting on edge 'E_PNK_W_WZM', time=672.00.
Warning: Teleporting vehicle 'veh1152'; collision with vehicle 'veh1093', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=673.00, stage=move.
Warning: Teleporting vehicle 'veh1187'; collision with vehicle 'veh1140', lane='E_GOR_W_NMR_H_s_1', gap=-5.91, time=682.00, stage=move.
Warning: Vehicle 'veh1187' ends teleporting on edge 'E_PNK_W_WZM_T', time=683.00.
Warning: Vehicle 'veh1152' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=686.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh1305' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=693.00.
Warning: Teleporting vehicle 'veh1362'; collision with vehicle 'veh1301', lane='E_GOR_W_NMR_H_s_1', gap=-5.52, time=693.00, stage=move.
Warning: Vehicle 'veh1362' ends teleporting on edge 'E_PNK_W_WZM_T', time=695.00.
INFO:TrafficSimulator:Step 700: 500 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1526' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=720.00.
Warning: Vehicle 'veh1511' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=720.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1582' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1582' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.74, offset=4.37), time=755.00.
Warning: Teleporting vehicle 'veh1360'; collision with vehicle 'veh1484', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=758.00, stage=move.
Warning: Vehicle 'veh1669' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
Warning: Vehicle 'veh1669' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.49, offset=2.81), time=760.00.
Warning: Vehicle 'veh1366' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
Warning: Vehicle 'veh1366' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.74, offset=3.94), time=760.00.
Warning: Vehicle 'veh1414' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
Warning: Vehicle 'veh1414' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.78, offset=1.03), time=760.00.
Warning: Teleporting vehicle 'veh1399'; collision with vehicle 'veh1383', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=760.00, stage=move.
Warning: Vehicle 'veh1360' ends teleporting on edge 'E_PNK_W_WZM', time=761.00.
Warning: Vehicle 'veh1399' ends teleporting on edge 'E_PNK_W_WZM', time=763.00.
Warning: Teleporting vehicle 'veh1502'; collision with vehicle 'veh1505', lane='E_GOR_W_NMR_H_s_1', gap=-0.26, time=775.00, stage=move.
Warning: Vehicle 'veh1502' ends teleporting on edge 'E_PNK_W_WZM_T', time=776.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1642' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=784.00.
Warning: Vehicle 'veh1039' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=784.00.
Warning: Vehicle 'veh1039' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.54, offset=0.42), time=784.00.
Warning: Vehicle 'veh1543' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=786.00.
Warning: Vehicle 'veh1514' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=786.00.
INFO:TrafficSimulator:Step 800: 504 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1798' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=840.00.
Warning: Vehicle 'veh1798' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-19.96, offset=3.87), time=840.00.
Warning: Vehicle 'veh1701' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=840.00.
Warning: Vehicle 'veh1701' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-15.58, offset=6.37), time=840.00.
Warning: Vehicle 'veh1791' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Vehicle 'veh1759' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Vehicle 'veh1759' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-14.48, offset=4.55), time=845.00.
Warning: Teleporting vehicle 'veh1604'; collision with vehicle 'veh1619', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=846.00, stage=move.
Warning: Vehicle 'veh1860' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=847.00.
Warning: Vehicle 'veh1860' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.41, offset=1.90), time=847.00.
Warning: Vehicle 'veh1604' ends teleporting on edge 'E_PNK_W_WZM_T', time=847.00.
Warning: Teleporting vehicle 'veh1543'; collision with vehicle 'veh1514', lane='E_PNK_W_WZM_T_0', gap=-0.73, time=848.00, stage=move.
Warning: Vehicle 'veh1543' ends teleporting on edge 'E_PNK_W_WZM', time=848.00.
Warning: Teleporting vehicle 'veh1636'; collision with vehicle 'veh1667', lane='E_GOR_W_NMR_H_s_1', gap=-6.47, time=849.00, stage=move.
Warning: Vehicle 'veh1636' ends teleporting on edge 'E_PNK_W_WZM_T', time=849.00.
Warning: Teleporting vehicle 'veh1741'; collision with vehicle 'veh1718', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=860.00, stage=move.
Warning: Vehicle 'veh1741' ends teleporting on edge 'E_PNK_W_WZM_T', time=861.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1712' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=870.00.
Warning: Vehicle 'veh1712' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-19.59, offset=3.39), time=870.00.
Warning: Vehicle 'veh1479' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=879.00.
Warning: Vehicle 'veh1479' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.95, offset=0.45), time=879.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
Warning: Vehicle 'veh1873' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
Warning: Vehicle 'veh1873' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.04, offset=1.22), time=900.00.
INFO:TrafficSimulator:Step 900: 522 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh1928' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=935.00.
Warning: Vehicle 'veh1952' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=935.00.
Warning: Vehicle 'veh1952' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.28, offset=3.31), time=935.00.
Warning: Teleporting vehicle 'veh1775'; collision with vehicle 'veh1801', lane='E_GOR_W_NMR_H_s_1', gap=-7.37, time=936.00, stage=move.
Warning: Teleporting vehicle 'veh1836'; collision with vehicle 'veh1848', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=939.00, stage=move.
Warning: Vehicle 'veh1775' ends teleporting on edge 'E_PNK_W_WZM', time=939.00.
Warning: Vehicle 'veh1836' ends teleporting on edge 'E_PNK_W_WZM', time=943.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh1993' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=974.00.
Warning: Vehicle 'veh1993' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.81, offset=0.22), time=974.00.
Warning: Teleporting vehicle 'veh1962'; collision with vehicle 'veh1952', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=987.00, stage=move.
Warning: Vehicle 'veh1962' ends teleporting on edge 'E_PNK_W_WZM_T', time=987.00.
Warning: Teleporting vehicle 'veh1996'; collision with vehicle 'veh1988', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=989.00, stage=move.
Warning: Vehicle 'veh1996' ends teleporting on edge 'E_PNK_W_WZM_T', time=989.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
Warning: Vehicle 'veh1973' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=990.00.
INFO:TrafficSimulator:Step 1000: 523 vehicles active
Warning: Vehicle 'veh2235' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1019.00.
Warning: Vehicle 'veh2235' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.67, offset=1.79), time=1019.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2066'; collision with vehicle 'veh1922', lane='E_GOR_W_NMR_H_s_1', gap=-5.43, time=1027.00, stage=move.
Warning: Vehicle 'veh2025' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1030.00.
Warning: Vehicle 'veh2025' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.41, offset=7.59), time=1030.00.
Warning: Vehicle 'veh2066' ends teleporting on edge 'E_PNK_W_WZM', time=1030.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
INFO:TrafficSimulator:Step 1100: 540 vehicles active
Warning: Vehicle 'veh2376' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1107.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2321' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2321' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.18, offset=0.08), time=1115.00.
Warning: Vehicle 'veh2538' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1120.00.
Warning: Vehicle 'veh2538' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-16.97, offset=1.59), time=1120.00.
Warning: Vehicle 'veh2295' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1132.00.
Warning: Vehicle 'veh2295' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.30, offset=0.19), time=1132.00.
Warning: Teleporting vehicle 'veh2393'; collision with vehicle 'veh2363', lane='E_GOR_W_NMR_H_s_1', gap=-5.03, time=1138.00, stage=move.
Warning: Vehicle 'veh2393' ends teleporting on edge 'E_PNK_W_WZM_T', time=1138.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Vehicle 'veh2579' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1140.00.
Warning: Vehicle 'veh2561' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1145.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
Warning: Vehicle 'veh2612' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1200.00.
Warning: Vehicle 'veh2612' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.43, offset=3.99), time=1200.00.
INFO:TrafficSimulator:Step 1200: 549 vehicles active
Warning: Vehicle 'veh2438' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1205.00.
Warning: Teleporting vehicle 'veh2445'; collision with vehicle 'veh2424', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=1206.00, stage=move.
Warning: Vehicle 'veh2445' ends teleporting on edge 'E_PNK_W_WZM_T', time=1206.00.
Warning: Teleporting vehicle 'veh2497'; collision with vehicle 'veh2508', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=1209.00, stage=move.
Warning: Vehicle 'veh2497' ends teleporting on edge 'E_PNK_W_WZM', time=1212.00.
Warning: Teleporting vehicle 'veh2450'; collision with vehicle 'veh2564', lane='E_GOR_W_NMR_H_s_1', gap=-5.16, time=1213.00, stage=move.
Warning: Vehicle 'veh2450' ends teleporting on edge 'E_PNK_W_WZM', time=1216.00.
Warning: Teleporting vehicle 'veh2499'; collision with vehicle 'veh2443', lane='E_GOR_W_NMR_H_s_1', gap=-6.04, time=1217.00, stage=move.
Warning: Vehicle 'veh2499' ends teleporting on edge 'E_PNK_W_WZM_T', time=1217.00.
Warning: Vehicle 'veh2678' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1223.00.
Warning: Vehicle 'veh2678' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.98, offset=5.36), time=1223.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2639'; collision with vehicle 'veh2580', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=1261.00, stage=move.
Warning: Vehicle 'veh2639' ends teleporting on edge 'E_PNK_W_WZM_T', time=1261.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
INFO:TrafficSimulator:Step 1300: 560 vehicles active
Warning: Vehicle 'veh2879' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1302.00.
Warning: Vehicle 'veh2879' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.67, offset=0.36), time=1302.00.
Warning: Teleporting vehicle 'veh2594'; collision with vehicle 'veh2714', lane='E_GOR_W_NMR_H_s_1', gap=-2.64, time=1305.00, stage=move.
Warning: Vehicle 'veh2594' ends teleporting on edge 'E_PNK_W_WZM_T', time=1306.00.
Warning: Teleporting vehicle 'veh2880'; collision with vehicle 'veh2815', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=1318.00, stage=move.
Warning: Vehicle 'veh2880' ends teleporting on edge 'E_PNK_W_WZM_T', time=1318.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Vehicle 'veh3030' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1325.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh3069' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1380.00.
Warning: Vehicle 'veh2992' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Vehicle 'veh2992' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.14, offset=4.57), time=1385.00.
Warning: Vehicle 'veh2807' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Teleporting vehicle 'veh2875'; collision with vehicle 'veh2820', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=1386.00, stage=move.
Warning: Vehicle 'veh2875' ends teleporting on edge 'E_PNK_W_WZM_T', time=1388.00.
Warning: Teleporting vehicle 'veh2858'; collision with vehicle 'veh2912', lane='E_GOR_W_NMR_H_s_1', gap=-5.56, time=1391.00, stage=move.
Warning: Vehicle 'veh2858' ends teleporting on edge 'E_PNK_W_WZM_T', time=1393.00.
Warning: Teleporting vehicle 'veh2917'; collision with vehicle 'veh2944', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1394.00, stage=move.
Warning: Vehicle 'veh2917' ends teleporting on edge 'E_PNK_W_WZM_T', time=1395.00.
Warning: Teleporting vehicle 'veh3038'; collision with vehicle 'veh2941', lane='E_GOR_W_NMR_H_s_1', gap=-6.11, time=1398.00, stage=move.
INFO:TrafficSimulator:Step 1400: 581 vehicles active
Warning: Teleporting vehicle 'veh2975'; collision with vehicle 'veh2931', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=1403.00, stage=move.
Warning: Vehicle 'veh2975' ends teleporting on edge 'E_PNK_W_WZM_T', time=1403.00.
Warning: Vehicle 'veh3038' ends teleporting on edge 'E_PNK_W_WZM', time=1403.00.
Warning: Teleporting vehicle 'veh2983'; collision with vehicle 'veh3030', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=1408.00, stage=move.
Warning: Vehicle 'veh2983' ends teleporting on edge 'E_PNK_W_WZM_T', time=1408.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh2545' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1412.00.
Warning: Vehicle 'veh2545' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.11, offset=1.12), time=1412.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3005'; collision with vehicle 'veh3066', lane='E_GOR_W_NMR_H_s_1', gap=-5.62, time=1440.00, stage=move.
Warning: Vehicle 'veh3005' ends teleporting on edge 'E_PNK_W_WZM_T', time=1440.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh3266' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1475.00.
Warning: Vehicle 'veh3266' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.00, offset=6.60), time=1475.00.
Warning: Vehicle 'veh3251' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1475.00.
Warning: Vehicle 'veh3251' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.63, offset=3.39), time=1475.00.
Warning: Teleporting vehicle 'veh3159'; collision with vehicle 'veh3138', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=1476.00, stage=move.
Warning: Vehicle 'veh3159' ends teleporting on edge 'E_PNK_W_WZM', time=1479.00.
Warning: Teleporting vehicle 'veh3060'; collision with vehicle 'veh3152', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=1482.00, stage=move.
Warning: Vehicle 'veh3060' ends teleporting on edge 'E_PNK_W_WZM_T', time=1482.00.
Warning: Teleporting vehicle 'veh3088'; collision with vehicle 'veh3252', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=1484.00, stage=move.
Warning: Vehicle 'veh3088' ends teleporting on edge 'E_PNK_W_WZM_T', time=1484.00.
Warning: Teleporting vehicle 'veh3212'; collision with vehicle 'veh3248', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=1488.00, stage=move.
Warning: Vehicle 'veh3212' ends teleporting on edge 'E_PNK_W_WZM_T', time=1488.00.
Warning: Teleporting vehicle 'veh3107'; collision with vehicle 'veh3212', lane='E_PNK_W_WZM_T_0', gap=-1.13, time=1489.00, stage=move.
Warning: Vehicle 'veh3107' ends teleporting on edge 'E_PNK_W_WZM', time=1489.00.
Warning: Teleporting vehicle 'veh3229'; collision with vehicle 'veh3277', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1490.00, stage=move.
Warning: Vehicle 'veh3276' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1497.00.
Warning: Teleporting vehicle 'veh3214'; collision with vehicle 'veh3246', lane='E_GOR_W_NMR_H_s_1', gap=-4.50, time=1499.00, stage=move.
Warning: Vehicle 'veh3214' ends teleporting on edge 'E_PNK_W_WZM_T', time=1499.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 594 vehicles active
Warning: Vehicle 'veh3466' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1505.00.
Warning: Vehicle 'veh3466' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-9.53, offset=0.32), time=1506.00.
Warning: Vehicle 'veh3424' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1508.00.
Warning: Vehicle 'veh3424' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-17.32, offset=4.83), time=1508.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh3489' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3489' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.93, offset=1.28), time=1530.00.
Warning: Teleporting vehicle 'veh3305'; collision with vehicle 'veh3287', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=1532.00, stage=move.
Warning: Vehicle 'veh3305' ends teleporting on edge 'E_PNK_W_WZM_T', time=1532.00.
Warning: Vehicle 'veh3229' ends teleporting on edge 'E_WZM_S', time=1534.00.
Warning: Teleporting vehicle 'veh3317'; collision with vehicle 'veh3284', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=1559.00, stage=move.
Warning: Vehicle 'veh3317' ends teleporting on edge 'E_PNK_W_WZM_T', time=1559.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh3584' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3584' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.70, offset=1.57), time=1565.00.
Warning: Vehicle 'veh3685' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1570.00.
Warning: Vehicle 'veh3685' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-23.21, offset=11.84), time=1570.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3481'; collision with vehicle 'veh3468', lane='E_GOR_W_NMR_H_s_1', gap=-3.40, time=1591.00, stage=move.
Warning: Vehicle 'veh3481' ends teleporting on edge 'E_PNK_W_WZM_T', time=1591.00.
Warning: Teleporting vehicle 'veh3505'; collision with vehicle 'veh3466', lane='E_GOR_W_NMR_H_s_1', gap=-2.62, time=1593.00, stage=move.
Warning: Vehicle 'veh3505' ends teleporting on edge 'E_PNK_W_WZM_T', time=1594.00.
Warning: Teleporting vehicle 'veh3347'; collision with vehicle 'veh3505', lane='E_PNK_W_WZM_T_0', gap=-3.53, time=1595.00, stage=move.
Warning: Vehicle 'veh3347' ends teleporting on edge 'E_PNK_W_WZM', time=1595.00.
Warning: Vehicle 'veh3559' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1598.00.
Warning: Vehicle 'veh3559' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.70, offset=4.95), time=1598.00.
INFO:TrafficSimulator:Step 1600: 596 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3762' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
Warning: Vehicle 'veh3762' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-10.24, offset=0.78), time=1620.00.
Warning: Vehicle 'veh3763' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1649.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh3885' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1650.00.
Warning: Teleporting vehicle 'veh3587'; collision with vehicle 'veh3617', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=1655.00, stage=move.
Warning: Vehicle 'veh3587' ends teleporting on edge 'E_PNK_W_WZM', time=1658.00.
Warning: Vehicle 'veh3573' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1666.00.
Warning: Vehicle 'veh3937' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1666.00.
Warning: Teleporting vehicle 'veh3600'; collision with vehicle 'veh3610', lane='E_GOR_W_NMR_H_s_1', gap=-5.15, time=1670.00, stage=move.
Warning: Vehicle 'veh3600' ends teleporting on edge 'E_PNK_W_WZM_T', time=1670.00.
Warning: Teleporting vehicle 'veh3705'; collision with vehicle 'veh3768', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=1674.00, stage=move.
Warning: Vehicle 'veh3705' ends teleporting on edge 'E_PNK_W_WZM_T', time=1674.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh3938' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1685.00.
Warning: Vehicle 'veh3938' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.34, offset=5.32), time=1685.00.
INFO:TrafficSimulator:Step 1700: 598 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh3968' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1739.00.
Warning: Vehicle 'veh3937' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1739.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3894'; collision with vehicle 'veh3844', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=1745.00, stage=move.
Warning: Vehicle 'veh3894' ends teleporting on edge 'E_PNK_W_WZM_T', time=1745.00.
Warning: Vehicle 'veh4117' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1748.00.
Warning: Vehicle 'veh4117' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-16.12, offset=1.83), time=1748.00.
Warning: Teleporting vehicle 'veh3760'; collision with vehicle 'veh3625', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=1748.00, stage=move.
Warning: Vehicle 'veh3760' ends teleporting on edge 'E_PNK_W_WZM_T', time=1748.00.
Warning: Vehicle 'veh4146' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1756.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh4147' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1775.00.
Warning: Vehicle 'veh3670' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1778.00.
Warning: Vehicle 'veh3670' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.82, offset=5.28), time=1778.00.
Warning: Teleporting vehicle 'veh4020'; collision with vehicle 'veh4058', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=1798.00, stage=move.
Warning: Vehicle 'veh4020' ends teleporting on edge 'E_PNK_W_WZM_T', time=1798.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 608 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Vehicle 'veh3962' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1835.00.
Warning: Vehicle 'veh3962' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.19, offset=4.19), time=1835.00.
Warning: Teleporting vehicle 'veh3750'; collision with vehicle 'veh3799', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=1835.00, stage=move.
Warning: Vehicle 'veh3750' ends teleporting on edge 'E_PNK_W_WZM_T', time=1835.00.
Warning: Teleporting vehicle 'veh3735'; collision with vehicle 'veh3807', lane='E_GOR_W_NMR_H_s_1', gap=-5.92, time=1838.00, stage=move.
Warning: Vehicle 'veh3735' ends teleporting on edge 'E_PNK_W_WZM_T', time=1838.00.
Warning: Teleporting vehicle 'veh4155'; collision with vehicle 'veh3921', lane='E_GOR_W_NMR_H_s_1', gap=-0.67, time=1845.00, stage=move.
Warning: Vehicle 'veh3821' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1846.00.
Warning: Vehicle 'veh3821' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.92, offset=5.94), time=1846.00.
Warning: Vehicle 'veh4155' ends teleporting on edge 'E_PNK_W_WZM_T', time=1847.00.
Warning: Teleporting vehicle 'veh4246'; collision with vehicle 'veh4209', lane='E_GOR_W_NMR_H_s_1', gap=-4.52, time=1853.00, stage=move.
Warning: Vehicle 'veh4246' ends teleporting on edge 'E_PNK_W_WZM_T', time=1853.00.
Warning: Teleporting vehicle 'veh4239'; collision with vehicle 'veh4147', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=1857.00, stage=move.
Warning: Vehicle 'veh4239' ends teleporting on edge 'E_PNK_W_WZM_T', time=1857.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh4048' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1863.00.
Warning: Vehicle 'veh4048' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.21, offset=5.75), time=1863.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
Warning: Vehicle 'veh4142' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
INFO:TrafficSimulator:Step 1900: 635 vehicles active
Warning: Vehicle 'veh4444' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1913.00.
Warning: Vehicle 'veh4444' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.15, offset=0.18), time=1913.00.
Warning: Vehicle 'veh4472' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1919.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4119'; collision with vehicle 'veh4124', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=1928.00, stage=move.
Warning: Vehicle 'veh4119' ends teleporting on edge 'E_PNK_W_WZM_T', time=1930.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4632' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1950.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh4711' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
Warning: Vehicle 'veh4711' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.72, offset=0.08), time=1980.00.
Warning: Teleporting vehicle 'veh4201'; collision with vehicle 'veh4245', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=1997.00, stage=move.
Warning: Vehicle 'veh4201' ends teleporting on edge 'E_PNK_W_WZM_T', time=1997.00.
INFO:TrafficSimulator:Step 2000: 665 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Vehicle 'veh4665' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2025.00.
Warning: Vehicle 'veh4665' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.22, offset=8.40), time=2025.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4766' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=2048.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Vehicle 'veh4426' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2083.00.
Warning: Teleporting vehicle 'veh4426'; collision with vehicle 'veh4434', lane='E_GOR_W_NMR_H_s_1', gap=-0.30, time=2083.00, stage=move.
Warning: Vehicle 'veh4426' ends teleporting on edge 'E_PNK_W_WZM_T', time=2083.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 641 vehicles active
Warning: Vehicle 'veh4300' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4300' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.46, offset=5.24), time=2105.00.
Warning: Teleporting vehicle 'veh4646'; collision with vehicle 'veh4630', lane='E_GOR_W_NMR_H_s_1', gap=-6.10, time=2108.00, stage=move.
Warning: Vehicle 'veh4646' ends teleporting on edge 'E_PNK_W_WZM_T', time=2108.00.
Warning: Teleporting vehicle 'veh4661'; collision with vehicle 'veh4640', lane='E_GOR_W_NMR_H_s_1', gap=-5.90, time=2111.00, stage=move.
Warning: Vehicle 'veh4660' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2123.00.
Warning: Vehicle 'veh4660' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.49, offset=6.45), time=2123.00.
Warning: Vehicle 'veh4703' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2123.00.
Warning: Vehicle 'veh4703' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.89, offset=1.93), time=2123.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh4661' teleports beyond arrival edge 'E_WZM_S', time=2182.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Vehicle 'veh4774' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2195.00.
Warning: Vehicle 'veh4774' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-14.91, offset=4.25), time=2195.00.
Warning: Teleporting vehicle 'veh4932'; collision with vehicle 'veh4857', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=2195.00, stage=move.
Warning: Vehicle 'veh4932' ends teleporting on edge 'E_PNK_W_WZM', time=2198.00.
INFO:TrafficSimulator:Step 2200: 592 vehicles active
Warning: Vehicle 'veh5264' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2205.00.
Warning: Vehicle 'veh5264' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-22.02, offset=9.17), time=2205.00.
Warning: Vehicle 'veh4752' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2205.00.
Warning: Vehicle 'veh4752' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.97, offset=8.41), time=2205.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Vehicle 'veh5191' performs emergency braking on lane 'E_GOR_W_NMR_2' with decel=9.00, wished=4.50, severity=1.00, time=2220.00.
Warning: Vehicle 'veh5089' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2220.00.
Warning: Vehicle 'veh5089' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.92, offset=7.34), time=2220.00.
Warning: Vehicle 'veh5246' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2225.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Vehicle 'veh5158' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2259.00.
Warning: Vehicle 'veh4989' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2272.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Vehicle 'veh4544' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2285.00.
Warning: Teleporting vehicle 'veh5200'; collision with vehicle 'veh5201', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=2286.00, stage=move.
Warning: Vehicle 'veh5200' ends teleporting on edge 'E_PNK_W_WZM_T', time=2287.00.
Warning: Vehicle 'veh5483' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2295.00.
Warning: Vehicle 'veh5483' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.64, offset=2.09), time=2295.00.
INFO:TrafficSimulator:Step 2300: 587 vehicles active
Warning: Vehicle 'veh5093' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2308.00.
Warning: Vehicle 'veh5093' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.99, offset=2.33), time=2308.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh5393' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2375.00.
Warning: Vehicle 'veh5027' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2375.00.
Warning: Teleporting vehicle 'veh5439'; collision with vehicle 'veh5499', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=2375.00, stage=move.
Warning: Vehicle 'veh5439' ends teleporting on edge 'E_PNK_W_WZM_T', time=2376.00.
Warning: Teleporting vehicle 'veh5020'; collision with vehicle 'veh5001', lane='E_GOR_W_NMR_H_s_1', gap=-3.89, time=2381.00, stage=move.
Warning: Vehicle 'veh5020' ends teleporting on edge 'E_PNK_W_WZM_T', time=2382.00.
Warning: Teleporting vehicle 'veh5078'; collision with vehicle 'veh5029', lane='E_GOR_W_NMR_H_s_1', gap=-3.37, time=2383.00, stage=move.
Warning: Vehicle 'veh5078' ends teleporting on edge 'E_PNK_W_WZM_T', time=2384.00.
Warning: Vehicle 'veh5704' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2385.00.
Warning: Vehicle 'veh5704' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.43, offset=2.38), time=2385.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 561 vehicles active
Warning: Vehicle 'veh5467' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2404.00.
Warning: Vehicle 'veh5467' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.68, offset=3.76), time=2404.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh5711' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2459.00.
Warning: Vehicle 'veh5711' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-14.12, offset=2.04), time=2459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh5734' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
Warning: Vehicle 'veh5757' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2490.00.
Warning: Vehicle 'veh5757' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-18.92, offset=5.74), time=2490.00.
INFO:TrafficSimulator:Step 2500: 549 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh6016' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2549.00.
Warning: Vehicle 'veh6016' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.26, offset=4.21), time=2549.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Vehicle 'veh5865' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Vehicle 'veh5565' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Vehicle 'veh5565' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-18.73, offset=7.85), time=2555.00.
Warning: Vehicle 'veh5718' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2560.00.
Warning: Vehicle 'veh5718' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.26, offset=0.67), time=2560.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
INFO:TrafficSimulator:Step 2600: 567 vehicles active
Warning: Vehicle 'veh5565' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2606.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh6276' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2610.00.
Warning: Vehicle 'veh6276' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-16.05, offset=1.99), time=2610.00.
Warning: Vehicle 'veh6061' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2610.00.
Warning: Vehicle 'veh6061' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.58, offset=1.42), time=2610.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh6161' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2645.00.
Warning: Vehicle 'veh6161' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.21, offset=5.09), time=2645.00.
Warning: Vehicle 'veh5812' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2645.00.
Warning: Vehicle 'veh5812' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.63, offset=4.39), time=2645.00.
Warning: Teleporting vehicle 'veh5846'; collision with vehicle 'veh5664', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=2646.00, stage=move.
Warning: Vehicle 'veh5846' ends teleporting on edge 'E_PNK_W_WZM', time=2649.00.
Warning: Vehicle 'veh5960' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2653.00.
Warning: Vehicle 'veh5960' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.05, offset=2.77), time=2653.00.
Warning: Vehicle 'veh6018' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2653.00.
Warning: Vehicle 'veh6018' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.14, offset=2.54), time=2653.00.
Warning: Teleporting vehicle 'veh5840'; collision with vehicle 'veh5927', lane='E_GOR_W_NMR_H_s_1', gap=-4.69, time=2653.00, stage=move.
Warning: Vehicle 'veh5840' ends teleporting on edge 'E_PNK_W_WZM_T', time=2654.00.
Warning: Teleporting vehicle 'veh5909'; collision with vehicle 'veh5730', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=2655.00, stage=move.
Warning: Vehicle 'veh5909' ends teleporting on edge 'E_PNK_W_WZM_T', time=2656.00.
Warning: Teleporting vehicle 'veh6060'; collision with vehicle 'veh5928', lane='E_GOR_W_NMR_H_s_1', gap=-2.57, time=2658.00, stage=move.
Warning: Vehicle 'veh5774' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2661.00.
Warning: Vehicle 'veh6060' ends teleporting on edge 'E_PNK_W_WZM', time=2662.00.
Warning: Vehicle 'veh6111' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2667.00.
Warning: Vehicle 'veh6111' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-20.81, offset=3.25), time=2667.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 592 vehicles active
Warning: Vehicle 'veh5924' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2707.00.
Warning: Teleporting vehicle 'veh5924'; collision with vehicle 'veh5907', lane='E_GOR_W_NMR_H_s_1', gap=-0.23, time=2707.00, stage=move.
Warning: Vehicle 'veh5924' ends teleporting on edge 'E_PNK_W_WZM_T', time=2707.00.
Warning: Vehicle 'veh6448' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2729.00.
Warning: Vehicle 'veh6448' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-15.76, offset=3.20), time=2729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6273' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2730.00.
Warning: Vehicle 'veh6273' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-14.25, offset=0.03), time=2730.00.
Warning: Vehicle 'veh6158' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2735.00.
Warning: Vehicle 'veh6158' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.17, offset=2.23), time=2735.00.
Warning: Vehicle 'veh6611' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2745.00.
Warning: Vehicle 'veh6611' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.93, offset=0.79), time=2745.00.
Warning: Teleporting vehicle 'veh6113'; collision with vehicle 'veh6002', lane='E_GOR_W_NMR_H_s_1', gap=-5.11, time=2745.00, stage=move.
Warning: Vehicle 'veh6113' ends teleporting on edge 'E_PNK_W_WZM', time=2748.00.
Warning: Teleporting vehicle 'veh6146'; collision with vehicle 'veh6224', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=2749.00, stage=move.
Warning: Vehicle 'veh6146' ends teleporting on edge 'E_PNK_W_WZM_T', time=2749.00.
Warning: Teleporting vehicle 'veh5960'; collision with vehicle 'veh6248', lane='E_GOR_W_NMR_H_s_1', gap=-2.86, time=2756.00, stage=move.
Warning: Vehicle 'veh5960' ends teleporting on edge 'E_PNK_W_WZM_T', time=2757.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6115'; collision with vehicle 'veh6277', lane='E_GOR_W_NMR_H_s_1', gap=-3.89, time=2760.00, stage=move.
Warning: Vehicle 'veh6115' ends teleporting on edge 'E_PNK_W_WZM_T', time=2762.00.
Warning: Teleporting vehicle 'veh6087'; collision with vehicle 'veh6122', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=2765.00, stage=move.
Warning: Vehicle 'veh6087' ends teleporting on edge 'E_PNK_W_WZM', time=2768.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
INFO:TrafficSimulator:Step 2800: 636 vehicles active
Warning: Vehicle 'veh6698' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2818.00.
Warning: Vehicle 'veh6698' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.67, offset=1.82), time=2818.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6283'; collision with vehicle 'veh6295', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=2824.00, stage=move.
Warning: Vehicle 'veh6283' ends teleporting on edge 'E_PNK_W_WZM_T', time=2824.00.
Warning: Vehicle 'veh6548' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Vehicle 'veh6548' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.74, offset=2.30), time=2825.00.
Warning: Vehicle 'veh6453' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Vehicle 'veh6706' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2831.00.
Warning: Vehicle 'veh6706' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.10, offset=2.50), time=2831.00.
Warning: Vehicle 'veh6844' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2835.00.
Warning: Vehicle 'veh6844' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-21.62, offset=3.28), time=2835.00.
Warning: Teleporting vehicle 'veh6486'; collision with vehicle 'veh6332', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=2839.00, stage=move.
Warning: Vehicle 'veh6486' ends teleporting on edge 'E_PNK_W_WZM_T', time=2839.00.
Warning: Teleporting vehicle 'veh6355'; collision with vehicle 'veh6623', lane='E_GOR_W_NMR_H_s_1', gap=-5.86, time=2842.00, stage=move.
Warning: Vehicle 'veh6355' ends teleporting on edge 'E_PNK_W_WZM_T', time=2842.00.
Warning: Teleporting vehicle 'veh6360'; collision with vehicle 'veh6382', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=2844.00, stage=move.
Warning: Vehicle 'veh6360' ends teleporting on edge 'E_PNK_W_WZM_T', time=2846.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6505'; collision with vehicle 'veh6451', lane='E_GOR_W_NMR_H_s_1', gap=-4.53, time=2850.00, stage=move.
Warning: Vehicle 'veh6505' ends teleporting on edge 'E_PNK_W_WZM_T', time=2850.00.
Warning: Vehicle 'veh6414' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2853.00.
Warning: Teleporting vehicle 'veh6499'; collision with vehicle 'veh6742', lane='E_GOR_W_NMR_H_s_1', gap=-4.26, time=2857.00, stage=move.
Warning: Vehicle 'veh6499' ends teleporting on edge 'E_PNK_W_WZM_T', time=2859.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh6885' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh6885' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.00, offset=1.59), time=2880.00.
INFO:TrafficSimulator:Step 2900: 632 vehicles active
Warning: Vehicle 'veh6891' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2907.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6571'; collision with vehicle 'veh6583', lane='E_GOR_W_NMR_H_s_1', gap=-4.87, time=2914.00, stage=move.
Warning: Vehicle 'veh6816' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
Warning: Vehicle 'veh6571' ends teleporting on edge 'E_PNK_W_WZM_T', time=2916.00.
Warning: Teleporting vehicle 'veh6848'; collision with vehicle 'veh6700', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=2921.00, stage=move.
Warning: Vehicle 'veh6848' ends teleporting on edge 'E_PNK_W_WZM_T', time=2921.00.
Warning: Teleporting vehicle 'veh6704'; collision with vehicle 'veh6884', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2923.00, stage=move.
Warning: Vehicle 'veh6704' ends teleporting on edge 'E_PNK_W_WZM_T', time=2923.00.
Warning: Teleporting vehicle 'veh6840'; collision with vehicle 'veh6718', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=2925.00, stage=move.
Warning: Vehicle 'veh6840' ends teleporting on edge 'E_PNK_W_WZM_T', time=2925.00.
Warning: Vehicle 'veh6989' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2926.00.
Warning: Vehicle 'veh6989' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.86, offset=1.06), time=2926.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh6879' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2940.00.
Warning: Vehicle 'veh6402' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2950.00.
Warning: Vehicle 'veh6857' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2968.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Vehicle 'veh6996' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3000.00.
Warning: Vehicle 'veh6996' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-18.19, offset=8.49), time=3000.00.
INFO:TrafficSimulator:Step 3000: 619 vehicles active
Warning: Teleporting vehicle 'veh6936'; collision with vehicle 'veh6962', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=3004.00, stage=move.
Warning: Vehicle 'veh6936' ends teleporting on edge 'E_PNK_W_WZM_T', time=3005.00.
Warning: Teleporting vehicle 'veh7021'; collision with vehicle 'veh6909', lane='E_GOR_W_NMR_H_s_1', gap=-4.75, time=3007.00, stage=move.
Warning: Vehicle 'veh7021' ends teleporting on edge 'E_PNK_W_WZM_T', time=3007.00.
Warning: Teleporting vehicle 'veh7042'; collision with vehicle 'veh6989', lane='E_GOR_W_NMR_H_s_1', gap=-6.17, time=3013.00, stage=move.
Warning: Vehicle 'veh6995' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3015.00.
Warning: Vehicle 'veh6995' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.77, offset=5.77), time=3015.00.
Warning: Vehicle 'veh7042' ends teleporting on edge 'E_PNK_W_WZM_T', time=3015.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7181'; collision with vehicle 'veh7073', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=3033.00, stage=move.
Warning: Vehicle 'veh7181' ends teleporting on edge 'E_PNK_W_WZM_T', time=3033.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Vehicle 'veh7366' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3095.00.
Warning: Teleporting vehicle 'veh7078'; collision with vehicle 'veh7082', lane='E_GOR_W_NMR_H_s_1', gap=-2.32, time=3096.00, stage=move.
Warning: Vehicle 'veh7078' ends teleporting on edge 'E_PNK_W_WZM_T', time=3097.00.
INFO:TrafficSimulator:Step 3100: 619 vehicles active
Warning: Vehicle 'veh5862' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3105.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Vehicle 'veh7572' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3120.00.
Warning: Vehicle 'veh7137' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3140.00.
Warning: Vehicle 'veh7137' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.87, offset=4.89), time=3140.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh7582' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3177.00.
Warning: Vehicle 'veh7582' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.05, offset=5.39), time=3177.00.
Warning: Teleporting vehicle 'veh7604'; collision with vehicle 'veh7582', lane='E_NMR_S_PNK_H_s_2', gap=-1.79, time=3177.00, stage=move.
Warning: Vehicle 'veh7604' ends teleporting on edge 'E_NMR_S_JBT', time=3177.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh7645' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
Warning: Vehicle 'veh7645' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.37, offset=5.94), time=3185.00.
Warning: Vehicle 'veh6112' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3195.00.
INFO:TrafficSimulator:Step 3200: 618 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7757' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3215.00.
Warning: Vehicle 'veh7757' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-13.35, offset=2.72), time=3215.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh7792' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3267.00.
Warning: Vehicle 'veh7792' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-14.50, offset=1.74), time=3267.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh6364' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3275.00.
Warning: Vehicle 'veh6364' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.98, offset=1.54), time=3275.00.
Warning: Vehicle 'veh7846' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3275.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 606 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Vehicle 'veh8052' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3354.00.
Warning: Vehicle 'veh8052' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.43, offset=0.65), time=3354.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh8167' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=3360.00.
Warning: Vehicle 'veh8167' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-12.80, offset=0.80), time=3360.00.
Warning: Teleporting vehicle 'veh7874'; collision with vehicle 'veh7872', lane='E_GOR_W_NMR_H_s_1', gap=-5.96, time=3370.00, stage=move.
Warning: Vehicle 'veh7874' ends teleporting on edge 'E_PNK_W_WZM_T', time=3370.00.
Warning: Teleporting vehicle 'veh7918'; collision with vehicle 'veh7942', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=3372.00, stage=move.
Warning: Vehicle 'veh7918' ends teleporting on edge 'E_PNK_W_WZM_T', time=3372.00.
Warning: Teleporting vehicle 'veh8134'; collision with vehicle 'veh8021', lane='E_GOR_W_NMR_H_s_1', gap=-3.93, time=3387.00, stage=move.
Warning: Vehicle 'veh8134' ends teleporting on edge 'E_PNK_W_WZM_T', time=3387.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
INFO:TrafficSimulator:Step 3400: 614 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh7653' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3440.00.
Warning: Vehicle 'veh6622' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3445.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Vehicle 'veh8473' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3465.00.
Warning: Vehicle 'veh8473' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.48, offset=1.97), time=3465.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
INFO:TrafficSimulator:Step 3500: 616 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Vehicle 'veh7974' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3545.00.
Warning: Vehicle 'veh8704' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=3555.00.
Warning: Vehicle 'veh8704' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-23.36, offset=10.59), time=3555.00.
Warning: Vehicle 'veh8701' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3555.00.
Warning: Vehicle 'veh8701' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.48, offset=5.36), time=3555.00.
Warning: Teleporting vehicle 'veh8329'; collision with vehicle 'veh8320', lane='E_GOR_W_NMR_H_s_1', gap=-5.38, time=3557.00, stage=move.
Warning: Vehicle 'veh8329' ends teleporting on edge 'E_PNK_W_WZM_T', time=3558.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
Warning: Vehicle 'veh8383' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh8383' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.93, offset=0.78), time=3600.00.
Warning: Vehicle 'veh8736' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh8736' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.04, offset=0.50), time=3600.00.
INFO:TrafficSimulator:Step 3600: 612 vehicles active
Warning: Vehicle 'veh8783' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3627.00.
Warning: Vehicle 'veh8783' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-19.58, offset=10.02), time=3627.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8137'; collision with vehicle 'veh8174', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=3633.00, stage=move.
Warning: Vehicle 'veh8443' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3635.00.
Warning: Vehicle 'veh8732' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3635.00.
Warning: Vehicle 'veh8137' ends teleporting on edge 'E_PNK_W_WZM', time=3636.00.
Warning: Vehicle 'veh8932' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3645.00.
Warning: Vehicle 'veh8932' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-21.91, offset=3.76), time=3645.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 612 vehicles active
Warning: Vehicle 'veh6910' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3713.00.
Warning: Vehicle 'veh6910' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.05, offset=3.68), time=3713.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8459'; collision with vehicle 'veh8392', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=3723.00, stage=move.
Warning: Vehicle 'veh8712' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3725.00.
Warning: Vehicle 'veh8459' ends teleporting on edge 'E_PNK_W_WZM_T', time=3725.00.
Warning: Teleporting vehicle 'veh8415'; collision with vehicle 'veh8468', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=3726.00, stage=move.
Warning: Vehicle 'veh8415' ends teleporting on edge 'E_PNK_W_WZM', time=3729.00.
Warning: Vehicle 'veh9180' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3735.00.
Warning: Vehicle 'veh8404' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3735.00.
Warning: Vehicle 'veh8404' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-20.27, offset=1.20), time=3735.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh9154' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3756.00.
Warning: Vehicle 'veh9154' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-21.72, offset=7.92), time=3756.00.
Warning: Vehicle 'veh9146' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3756.00.
Warning: Vehicle 'veh9068' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3756.00.
Warning: Vehicle 'veh9068' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-12.35, offset=2.17), time=3756.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8626'; collision with vehicle 'veh8553', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=3797.00, stage=move.
Warning: Vehicle 'veh8626' ends teleporting on edge 'E_PNK_W_WZM_T', time=3797.00.
INFO:TrafficSimulator:Step 3800: 609 vehicles active
Warning: Vehicle 'veh9222' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3806.00.
Warning: Vehicle 'veh9222' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.54, offset=5.48), time=3806.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8696'; collision with vehicle 'veh8654', lane='E_GOR_W_NMR_H_s_1', gap=-6.07, time=3812.00, stage=move.
Warning: Vehicle 'veh8696' ends teleporting on edge 'E_PNK_W_WZM_T', time=3812.00.
Warning: Teleporting vehicle 'veh8759'; collision with vehicle 'veh8820', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=3817.00, stage=move.
Warning: Vehicle 'veh8759' ends teleporting on edge 'E_PNK_W_WZM_T', time=3817.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh9303' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3840.00.
Warning: Vehicle 'veh9303' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.51, offset=1.54), time=3840.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh8782' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3880.00.
Warning: Vehicle 'veh9104' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3895.00.
Warning: Vehicle 'veh9104' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.95, offset=3.95), time=3895.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 605 vehicles active
Warning: Teleporting vehicle 'veh8880'; collision with vehicle 'veh8984', lane='E_GOR_W_NMR_H_s_1', gap=-6.07, time=3905.00, stage=move.
Warning: Vehicle 'veh8880' ends teleporting on edge 'E_PNK_W_WZM_T', time=3907.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh9562' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3930.00.
Warning: Vehicle 'veh9562' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-12.16, offset=0.04), time=3931.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9069'; collision with vehicle 'veh9118', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=3976.00, stage=move.
Warning: Vehicle 'veh9069' ends teleporting on edge 'E_PNK_W_WZM_T', time=3976.00.
Warning: Vehicle 'veh9343' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3989.00.
Warning: Vehicle 'veh9343' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.76, offset=3.58), time=3989.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
Warning: Vehicle 'veh9538' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3990.00.
Warning: Vehicle 'veh7151' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3995.00.
Warning: Vehicle 'veh7151' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.09, offset=3.94), time=3995.00.
INFO:TrafficSimulator:Step 4000: 629 vehicles active
Warning: Vehicle 'veh9158' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4005.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh9918' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4020.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9192'; collision with vehicle 'veh9266', lane='E_GOR_W_NMR_H_s_1', gap=-5.79, time=4051.00, stage=move.
Warning: Vehicle 'veh9192' ends teleporting on edge 'E_PNK_W_WZM_T', time=4051.00.
Warning: Teleporting vehicle 'veh9185'; collision with vehicle 'veh9374', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=4055.00, stage=move.
Warning: Vehicle 'veh9185' ends teleporting on edge 'E_PNK_W_WZM_T', time=4055.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9245'; collision with vehicle 'veh9295', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=4082.00, stage=move.
Warning: Vehicle 'veh9245' ends teleporting on edge 'E_PNK_W_WZM_T', time=4083.00.
Warning: Teleporting vehicle 'veh9343'; collision with vehicle 'veh9566', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=4093.00, stage=move.
Warning: Vehicle 'veh9379' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4095.00.
Warning: Vehicle 'veh9487' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4095.00.
Warning: Teleporting vehicle 'veh9506'; collision with vehicle 'veh9392', lane='E_GOR_W_NMR_H_s_1', gap=-4.70, time=4095.00, stage=move.
Warning: Vehicle 'veh9379' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.18, offset=1.73), time=4096.00.
Warning: Vehicle 'veh9343' ends teleporting on edge 'E_PNK_W_WZM', time=4096.00.
Warning: Vehicle 'veh9506' ends teleporting on edge 'E_PNK_W_WZM_T', time=4096.00.
Warning: Teleporting vehicle 'veh9615'; collision with vehicle 'veh9398', lane='E_GOR_W_NMR_H_s_1', gap=-5.49, time=4097.00, stage=move.
Warning: Vehicle 'veh9490' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4100.00.
INFO:TrafficSimulator:Step 4100: 623 vehicles active
Warning: Vehicle 'veh9615' ends teleporting on edge 'E_PNK_W_WZM', time=4101.00.
Warning: Teleporting vehicle 'veh9541'; collision with vehicle 'veh9346', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=4103.00, stage=move.
Warning: Teleporting vehicle 'veh9456'; collision with vehicle 'veh9568', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=4106.00, stage=move.
Warning: Vehicle 'veh9456' ends teleporting on edge 'E_PNK_W_WZM_T', time=4106.00.
Warning: Vehicle 'veh9541' ends teleporting on edge 'E_PNK_W_WZM', time=4106.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh9527' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9815'; collision with vehicle 'veh9769', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=4173.00, stage=move.
Warning: Vehicle 'veh9815' ends teleporting on edge 'E_PNK_W_WZM', time=4176.00.
Warning: Teleporting vehicle 'veh9897'; collision with vehicle 'veh9773', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=4178.00, stage=move.
Warning: Teleporting vehicle 'veh9981'; collision with vehicle 'veh9954', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=4180.00, stage=move.
Warning: Vehicle 'veh9897' ends teleporting on edge 'E_PNK_W_WZM', time=4181.00.
Warning: Vehicle 'veh9981' ends teleporting on edge 'E_PNK_W_WZM', time=4183.00.
Warning: Teleporting vehicle 'veh9656'; collision with vehicle 'veh9630', lane='E_GOR_W_NMR_H_s_1', gap=-4.75, time=4186.00, stage=move.
Warning: Teleporting vehicle 'veh9703'; collision with vehicle 'veh9687', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=4188.00, stage=move.
Warning: Vehicle 'veh9656' ends teleporting on edge 'E_PNK_W_WZM_T', time=4188.00.
Warning: Vehicle 'veh9703' ends teleporting on edge 'E_PNK_W_WZM_T', time=4190.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 630 vehicles active
Warning: Vehicle 'veh10378' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4205.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Vehicle 'veh10149' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4260.00.
Warning: Vehicle 'veh10149' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.64, offset=5.61), time=4260.00.
Warning: Teleporting vehicle 'veh9832'; collision with vehicle 'veh10075', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=4265.00, stage=move.
Warning: Vehicle 'veh9832' ends teleporting on edge 'E_PNK_W_WZM_T', time=4265.00.
Warning: Teleporting vehicle 'veh10020'; collision with vehicle 'veh10164', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=4267.00, stage=move.
Warning: Vehicle 'veh10020' ends teleporting on edge 'E_PNK_W_WZM_T', time=4268.00.
Warning: Teleporting vehicle 'veh10317'; collision with vehicle 'veh10020', lane='E_PNK_W_WZM_T_0', gap=-2.75, time=4269.00, stage=move.
Warning: Vehicle 'veh10317' ends teleporting on edge 'E_PNK_W_WZM', time=4269.00.
Warning: Vehicle 'veh10604' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4275.00.
Warning: Vehicle 'veh10604' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-20.34, offset=10.08), time=4275.00.
Warning: Teleporting vehicle 'veh9908'; collision with vehicle 'veh10182', lane='E_GOR_W_NMR_H_s_1', gap=-4.75, time=4277.00, stage=move.
Warning: Vehicle 'veh9908' ends teleporting on edge 'E_PNK_W_WZM_T', time=4279.00.
Warning: Teleporting vehicle 'veh9845'; collision with vehicle 'veh9970', lane='E_GOR_W_NMR_H_s_1', gap=-4.96, time=4283.00, stage=move.
Warning: Teleporting vehicle 'veh9919'; collision with vehicle 'veh10004', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=4285.00, stage=move.
Warning: Vehicle 'veh9845' ends teleporting on edge 'E_PNK_W_WZM_T', time=4286.00.
Warning: Teleporting vehicle 'veh9957'; collision with vehicle 'veh9931', lane='E_GOR_W_NMR_H_s_1', gap=-5.75, time=4287.00, stage=move.
Warning: Vehicle 'veh9919' ends teleporting on edge 'E_PNK_W_WZM_T', time=4288.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh10384' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4290.00.
Warning: Vehicle 'veh10384' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.67, offset=5.95), time=4290.00.
Warning: Vehicle 'veh9957' ends teleporting on edge 'E_PNK_W_WZM_T', time=4290.00.
INFO:TrafficSimulator:Step 4300: 667 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh10803' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4350.00.
Warning: Vehicle 'veh10803' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-11.00, offset=1.78), time=4350.00.
Warning: Teleporting vehicle 'veh10347'; collision with vehicle 'veh10336', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=4352.00, stage=move.
Warning: Vehicle 'veh10347' ends teleporting on edge 'E_PNK_W_WZM', time=4355.00.
Warning: Teleporting vehicle 'veh10424'; collision with vehicle 'veh10349', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=4357.00, stage=move.
Warning: Vehicle 'veh10424' ends teleporting on edge 'E_PNK_W_WZM_T', time=4358.00.
Warning: Teleporting vehicle 'veh10382'; collision with vehicle 'veh10419', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=4360.00, stage=move.
Warning: Vehicle 'veh10382' ends teleporting on edge 'E_PNK_W_WZM', time=4363.00.
Warning: Teleporting vehicle 'veh10634'; collision with vehicle 'veh10047', lane='E_GOR_W_NMR_H_s_1', gap=-3.64, time=4368.00, stage=move.
Warning: Vehicle 'veh10634' ends teleporting on edge 'E_PNK_W_WZM_T', time=4369.00.
Warning: Teleporting vehicle 'veh10130'; collision with vehicle 'veh10102', lane='E_GOR_W_NMR_H_s_1', gap=-4.68, time=4372.00, stage=move.
Warning: Vehicle 'veh10130' ends teleporting on edge 'E_PNK_W_WZM', time=4375.00.
Warning: Teleporting vehicle 'veh10196'; collision with vehicle 'veh10225', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=4376.00, stage=move.
Warning: Vehicle 'veh10196' ends teleporting on edge 'E_PNK_W_WZM_T', time=4376.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
INFO:TrafficSimulator:Step 4400: 673 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh10638' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4423.00.
Warning: Teleporting vehicle 'veh10638'; collision with vehicle 'veh10651', lane='E_GOR_W_NMR_H_s_1', gap=-1.83, time=4423.00, stage=move.
Warning: Vehicle 'veh10638' ends teleporting on edge 'E_PNK_W_WZM_T', time=4423.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10857'; collision with vehicle 'veh10797', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=4443.00, stage=move.
Warning: Vehicle 'veh10857' ends teleporting on edge 'E_PNK_W_WZM', time=4446.00.
Warning: Teleporting vehicle 'veh10276'; collision with vehicle 'veh10313', lane='E_GOR_W_NMR_H_s_1', gap=-4.89, time=4452.00, stage=move.
Warning: Vehicle 'veh10276' ends teleporting on edge 'E_PNK_W_WZM_T', time=4452.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh10544' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4470.00.
Warning: Vehicle 'veh10544' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.78, offset=4.69), time=4470.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh11138' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh11138' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-10.09, offset=0.51), time=4500.00.
Warning: Vehicle 'veh11101' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh11101' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.38, offset=3.23), time=4500.00.
INFO:TrafficSimulator:Step 4500: 687 vehicles active
Warning: Vehicle 'veh11128' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4526.00.
Warning: Vehicle 'veh11166' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4526.00.
Warning: Vehicle 'veh11166' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-18.15, offset=3.49), time=4526.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11033'; collision with vehicle 'veh11013', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=4533.00, stage=move.
Warning: Vehicle 'veh11033' ends teleporting on edge 'E_PNK_W_WZM', time=4536.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh10827' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4560.00.
Warning: Teleporting vehicle 'veh11321'; collision with vehicle 'veh11152', lane='E_GOR_W_NMR_H_s_1', gap=-4.65, time=4586.00, stage=move.
Warning: Vehicle 'veh11321' ends teleporting on edge 'E_PNK_W_WZM_T', time=4586.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
INFO:TrafficSimulator:Step 4600: 699 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11096'; collision with vehicle 'veh11100', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=4622.00, stage=move.
Warning: Vehicle 'veh11096' ends teleporting on edge 'E_PNK_W_WZM_T', time=4622.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh11130' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4650.00.
Warning: Vehicle 'veh11130' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.24, offset=5.52), time=4650.00.
Warning: Teleporting vehicle 'veh11049'; collision with vehicle 'veh11146', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=4652.00, stage=move.
Warning: Vehicle 'veh11049' ends teleporting on edge 'E_PNK_W_WZM_T', time=4652.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Vehicle 'veh11528' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh11528' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.52, offset=0.21), time=4680.00.
Warning: Vehicle 'veh11376' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4685.00.
Warning: Teleporting vehicle 'veh11557'; collision with vehicle 'veh11566', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=4688.00, stage=move.
Warning: Vehicle 'veh11557' ends teleporting on edge 'E_PNK_W_WZM_T', time=4688.00.
INFO:TrafficSimulator:Step 4700: 691 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh11239' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4725.00.
Warning: Teleporting vehicle 'veh11167'; collision with vehicle 'veh11229', lane='E_GOR_W_NMR_H_s_1', gap=-0.45, time=4728.00, stage=move.
Warning: Vehicle 'veh11167' ends teleporting on edge 'E_PNK_W_WZM_T', time=4728.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh11590' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4743.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11517' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4788.00.
Warning: Vehicle 'veh11517' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.79, offset=1.09), time=4788.00.
Warning: Vehicle 'veh7992' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4788.00.
Warning: Vehicle 'veh7992' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.69, offset=1.84), time=4788.00.
Warning: Vehicle 'veh11836' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4796.00.
Warning: Vehicle 'veh11836' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.56, offset=5.48), time=4796.00.
Warning: Vehicle 'veh11869' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4796.00.
Warning: Vehicle 'veh11869' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-17.07, offset=5.49), time=4796.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
INFO:TrafficSimulator:Step 4800: 694 vehicles active
Warning: Teleporting vehicle 'veh11449'; collision with vehicle 'veh11387', lane='E_GOR_W_NMR_H_s_1', gap=-2.95, time=4813.00, stage=move.
Warning: Vehicle 'veh11449' ends teleporting on edge 'E_PNK_W_WZM_T', time=4813.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh11817' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4830.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Vehicle 'veh12159' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4860.00.
Warning: Vehicle 'veh12159' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.14, offset=1.14), time=4860.00.
Warning: Vehicle 'veh11876' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4860.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11550'; collision with vehicle 'veh11564', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=4895.00, stage=move.
Warning: Vehicle 'veh11550' ends teleporting on edge 'E_PNK_W_WZM_T', time=4896.00.
INFO:TrafficSimulator:Step 4900: 622 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh12075' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4920.00.
Warning: Vehicle 'veh11998' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4923.00.
Warning: Vehicle 'veh12146' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4923.00.
Warning: Vehicle 'veh11623' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4933.00.
Warning: Vehicle 'veh11623' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.13, offset=0.18), time=4933.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh11758' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4966.00.
Warning: Vehicle 'veh11758' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-10.73, offset=0.61), time=4966.00.
Warning: Vehicle 'veh12303' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4976.00.
Warning: Vehicle 'veh12303' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.90, offset=0.55), time=4976.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh12476' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4980.00.
Warning: Vehicle 'veh12524' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4995.00.
Warning: Vehicle 'veh12524' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.66, offset=2.80), time=4995.00.
INFO:TrafficSimulator:Step 5000: 623 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh12256' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5013.00.
Warning: Vehicle 'veh12256' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.89, offset=7.73), time=5013.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Vehicle 'veh11901' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5040.00.
Warning: Vehicle 'veh11901' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.11, offset=2.37), time=5040.00.
Warning: Vehicle 'veh11856' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5057.00.
Warning: Vehicle 'veh11856' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.98, offset=1.51), time=5057.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11783'; collision with vehicle 'veh11790', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=5072.00, stage=move.
Warning: Teleporting vehicle 'veh11867'; collision with vehicle 'veh11837', lane='E_GOR_W_NMR_H_s_1', gap=-3.27, time=5075.00, stage=move.
Warning: Vehicle 'veh11783' ends teleporting on edge 'E_PNK_W_WZM', time=5075.00.
Warning: Vehicle 'veh11867' ends teleporting on edge 'E_PNK_W_WZM_T', time=5075.00.
Warning: Teleporting vehicle 'veh11884'; collision with vehicle 'veh11758', lane='E_GOR_W_NMR_H_s_1', gap=-4.08, time=5077.00, stage=move.
Warning: Vehicle 'veh11884' ends teleporting on edge 'E_PNK_W_WZM_T', time=5077.00.
Warning: Vehicle 'veh12760' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5085.00.
Warning: Vehicle 'veh12760' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.16, offset=5.10), time=5085.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 605 vehicles active
Warning: Vehicle 'veh12620' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5103.00.
Warning: Vehicle 'veh12620' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.97, offset=2.22), time=5103.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12782' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5156.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh11930' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5175.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
Warning: Vehicle 'veh13032' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5190.00.
Warning: Vehicle 'veh13032' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.53, offset=7.87), time=5190.00.
Warning: Vehicle 'veh7701' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5197.00.
Warning: Vehicle 'veh7701' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.25, offset=4.00), time=5197.00.
INFO:TrafficSimulator:Step 5200: 605 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12173'; collision with vehicle 'veh12174', lane='E_GOR_W_NMR_H_s_1', gap=-3.85, time=5253.00, stage=move.
Warning: Vehicle 'veh12173' ends teleporting on edge 'E_PNK_W_WZM_T', time=5255.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Vehicle 'veh13028' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5283.00.
Warning: Vehicle 'veh8066' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5283.00.
Warning: Vehicle 'veh8066' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-12.02, offset=1.43), time=5283.00.
INFO:TrafficSimulator:Step 5300: 631 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh12515' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
Warning: Vehicle 'veh12360' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5333.00.
Warning: Vehicle 'veh12360' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.45, offset=0.21), time=5333.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh12335' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5355.00.
Warning: Vehicle 'veh12335' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-22.54, offset=8.81), time=5355.00.
Warning: Vehicle 'veh13160' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5355.00.
Warning: Vehicle 'veh13160' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.58, offset=2.99), time=5355.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh8510' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5370.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Vehicle 'veh13373' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
Warning: Vehicle 'veh13373' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.91, offset=1.80), time=5400.00.
INFO:TrafficSimulator:Step 5400: 650 vehicles active
Warning: Vehicle 'veh13564' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5426.00.
Warning: Vehicle 'veh13564' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-16.07, offset=4.13), time=5426.00.
Warning: Vehicle 'veh8461' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5429.00.
Warning: Vehicle 'veh8461' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.62, offset=1.39), time=5429.00.
Warning: Vehicle 'veh12608' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5429.00.
Warning: Vehicle 'veh12608' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.84, offset=3.53), time=5429.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh13694' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5430.00.
Warning: Vehicle 'veh13694' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-13.12, offset=0.88), time=5430.00.
Warning: Vehicle 'veh13729' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5445.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh12576' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5460.00.
Warning: Vehicle 'veh12576' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.29, offset=2.11), time=5460.00.
Warning: Vehicle 'veh13472' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5463.00.
Warning: Vehicle 'veh13472' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-16.21, offset=3.94), time=5463.00.
Warning: Teleporting vehicle 'veh13745'; collision with vehicle 'veh13741', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=5489.00, stage=move.
Warning: Vehicle 'veh13745' ends teleporting on edge 'E_PNK_W_WZM_T', time=5489.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
Warning: Vehicle 'veh13737' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=5490.00.
Warning: Vehicle 'veh13737' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.28, offset=0.85), time=5490.00.
INFO:TrafficSimulator:Step 5500: 722 vehicles active
Warning: Teleporting vehicle 'veh12578'; collision with vehicle 'veh12555', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=5518.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12908'; collision with vehicle 'veh12628', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=5521.00, stage=move.
Warning: Vehicle 'veh12578' ends teleporting on edge 'E_PNK_W_WZM', time=5521.00.
Warning: Vehicle 'veh12908' ends teleporting on edge 'E_PNK_W_WZM_T', time=5523.00.
Warning: Vehicle 'veh8579' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5524.00.
Warning: Vehicle 'veh12903' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5524.00.
Warning: Vehicle 'veh12687' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5534.00.
Warning: Teleporting vehicle 'veh12713'; collision with vehicle 'veh12687', lane='E_GOR_W_NMR_H_s_1', gap=-7.50, time=5535.00, stage=move.
Warning: Vehicle 'veh12713' ends teleporting on edge 'E_PNK_W_WZM_T', time=5535.00.
Warning: Vehicle 'veh13545' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5547.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh12839' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5554.00.
Warning: Vehicle 'veh12857' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5554.00.
Warning: Vehicle 'veh12857' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.33, offset=3.18), time=5554.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 795 vehicles active
Warning: Vehicle 'veh14068' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5602.00.
Warning: Vehicle 'veh14068' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-11.64, offset=0.50), time=5603.00.
Warning: Teleporting vehicle 'veh12858'; collision with vehicle 'veh12862', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=5608.00, stage=move.
Warning: Vehicle 'veh12858' ends teleporting on edge 'E_PNK_W_WZM_T', time=5608.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13294'; collision with vehicle 'veh13245', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=5611.00, stage=move.
Warning: Vehicle 'veh13294' ends teleporting on edge 'E_PNK_W_WZM_T', time=5613.00.
Warning: Vehicle 'veh8682' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5617.00.
Warning: Vehicle 'veh8682' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.20, offset=0.10), time=5617.00.
Warning: Vehicle 'veh13305' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5617.00.
Warning: Vehicle 'veh13305' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.47, offset=2.76), time=5617.00.
Warning: Vehicle 'veh12976' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5622.00.
Warning: Vehicle 'veh14273' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5628.00.
Warning: Vehicle 'veh14273' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-19.58, offset=6.50), time=5628.00.
Warning: Vehicle 'veh14270' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5628.00.
Warning: Teleporting vehicle 'veh12970'; collision with vehicle 'veh13034', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=5629.00, stage=move.
Warning: Vehicle 'veh12970' ends teleporting on edge 'E_PNK_W_WZM_T', time=5631.00.
Warning: Teleporting vehicle 'veh13065'; collision with vehicle 'veh13097', lane='E_GOR_W_NMR_H_s_1', gap=-3.80, time=5635.00, stage=move.
Warning: Vehicle 'veh13065' ends teleporting on edge 'E_PNK_W_WZM_T', time=5635.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh13140' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh13140' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-11.73, offset=2.59), time=5670.00.
Warning: Teleporting vehicle 'veh14248'; collision with vehicle 'veh14215', lane='E_GOR_W_NMR_H_s_1', gap=-5.64, time=5698.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
Warning: Vehicle 'veh13970' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5700.00.
Warning: Vehicle 'veh13970' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-19.60, offset=4.84), time=5700.00.
INFO:TrafficSimulator:Step 5700: 806 vehicles active
Warning: Vehicle 'veh14248' ends teleporting on edge 'E_PNK_W_WZM', time=5701.00.
Warning: Teleporting vehicle 'veh13357'; collision with vehicle 'veh13363', lane='E_GOR_W_NMR_H_s_1', gap=-2.20, time=5717.00, stage=move.
Warning: Vehicle 'veh13357' ends teleporting on edge 'E_PNK_W_WZM_T', time=5717.00.
Warning: Vehicle 'veh13258' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5718.00.
Warning: Vehicle 'veh13258' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.14, offset=5.13), time=5718.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh13894' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh13894' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-13.96, offset=3.49), time=5760.00.
Warning: Teleporting vehicle 'veh14564'; collision with vehicle 'veh14351', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=5789.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14454'; collision with vehicle 'veh14310', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=5791.00, stage=move.
Warning: Vehicle 'veh14454' ends teleporting on edge 'E_PNK_W_WZM_T', time=5792.00.
Warning: Vehicle 'veh14564' ends teleporting on edge 'E_PNK_W_WZM', time=5793.00.
INFO:TrafficSimulator:Step 5800: 827 vehicles active
Warning: Teleporting vehicle 'veh13820'; collision with vehicle 'veh13531', lane='E_GOR_W_NMR_H_s_1', gap=-5.54, time=5801.00, stage=move.
Warning: Vehicle 'veh13820' ends teleporting on edge 'E_PNK_W_WZM_T', time=5801.00.
Warning: Teleporting vehicle 'veh13515'; collision with vehicle 'veh13654', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=5803.00, stage=move.
Warning: Vehicle 'veh13515' ends teleporting on edge 'E_PNK_W_WZM_T', time=5805.00.
Warning: Vehicle 'veh13718' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5809.00.
Warning: Teleporting vehicle 'veh13700'; collision with vehicle 'veh13730', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=5812.00, stage=move.
Warning: Vehicle 'veh13700' ends teleporting on edge 'E_PNK_W_WZM_T', time=5812.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh13855' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5822.00.
Warning: Vehicle 'veh13855' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.19, offset=1.84), time=5822.00.
Warning: Vehicle 'veh14818' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5840.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13950'; collision with vehicle 'veh13746', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=5878.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh13950' ends teleporting on edge 'E_PNK_W_WZM', time=5881.00.
Warning: Vehicle 'veh9130' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5890.00.
Warning: Vehicle 'veh9130' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.33, offset=0.09), time=5890.00.
Warning: Vehicle 'veh14977' performs emergency braking on lane 'E_NMR_S_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5892.00.
INFO:TrafficSimulator:Step 5900: 857 vehicles active
Warning: Vehicle 'veh14038' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5904.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh14041' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5915.00.
Warning: Vehicle 'veh14041' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.87, offset=2.55), time=5915.00.
Warning: Vehicle 'veh14820' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5915.00.
Warning: Vehicle 'veh14820' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.79, offset=0.78), time=5915.00.
Warning: Vehicle 'veh14516' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5924.00.
Warning: Vehicle 'veh14516' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.72, offset=1.68), time=5924.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14244'; collision with vehicle 'veh13906', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=5968.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14818'; collision with vehicle 'veh14861', lane='E_GOR_W_NMR_H_s_1', gap=-5.21, time=5971.00, stage=move.
Warning: Vehicle 'veh14244' ends teleporting on edge 'E_PNK_W_WZM', time=5971.00.
Warning: Teleporting vehicle 'veh15084'; collision with vehicle 'veh15043', lane='E_GOR_W_NMR_H_s_1', gap=-4.92, time=5973.00, stage=move.
Warning: Teleporting vehicle 'veh14000'; collision with vehicle 'veh14973', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=5975.00, stage=move.
Warning: Vehicle 'veh14818' ends teleporting on edge 'E_PNK_W_WZM', time=5975.00.
Warning: Vehicle 'veh15084' ends teleporting on edge 'E_PNK_W_WZM', time=5976.00.
Warning: Teleporting vehicle 'veh14155'; collision with vehicle 'veh14056', lane='E_GOR_W_NMR_H_s_1', gap=-3.65, time=5977.00, stage=move.
Warning: Vehicle 'veh14000' ends teleporting on edge 'E_PNK_W_WZM', time=5978.00.
Warning: Vehicle 'veh14155' ends teleporting on edge 'E_PNK_W_WZM', time=5981.00.
Warning: Vehicle 'veh15333' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5986.00.
Warning: Vehicle 'veh15326' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5986.00.
Warning: Vehicle 'veh15326' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.03, offset=3.00), time=5986.00.
Warning: Vehicle 'veh14303' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5986.00.
Warning: Teleporting vehicle 'veh14442'; collision with vehicle 'veh14412', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=5993.00, stage=move.
Warning: Vehicle 'veh14442' ends teleporting on edge 'E_PNK_W_WZM_T', time=5993.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14561'; collision with vehicle 'veh14540', lane='E_GOR_W_NMR_H_s_1', gap=-4.45, time=6000.00, stage=move.
Warning: Vehicle 'veh14561' ends teleporting on edge 'E_PNK_W_WZM_T', time=6000.00.
INFO:TrafficSimulator:Step 6000: 851 vehicles active
Warning: Teleporting vehicle 'veh14570'; collision with vehicle 'veh14028', lane='E_GOR_W_NMR_H_s_1', gap=-4.54, time=6008.00, stage=move.
Warning: Vehicle 'veh14570' ends teleporting on edge 'E_PNK_W_WZM_T', time=6008.00.
Warning: Vehicle 'veh15343' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6011.00.
Warning: Vehicle 'veh15343' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-16.37, offset=1.88), time=6011.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh15446' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh15446' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.65, offset=3.89), time=6030.00.
Warning: Vehicle 'veh14364' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh14364' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.62, offset=0.02), time=6030.00.
Warning: Vehicle 'veh15326' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6052.00.
Warning: Teleporting vehicle 'veh15302'; collision with vehicle 'veh15047', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=6059.00, stage=move.
Warning: Vehicle 'veh15302' ends teleporting on edge 'E_PNK_W_WZM_T', time=6059.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14181'; collision with vehicle 'veh15141', lane='E_GOR_W_NMR_H_s_1', gap=-5.97, time=6061.00, stage=move.
Warning: Vehicle 'veh14181' ends teleporting on edge 'E_PNK_W_WZM_T', time=6061.00.
Warning: Vehicle 'veh14871' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6062.00.
Warning: Teleporting vehicle 'veh14207'; collision with vehicle 'veh14343', lane='E_GOR_W_NMR_H_s_1', gap=-5.56, time=6065.00, stage=move.
Warning: Vehicle 'veh14207' ends teleporting on edge 'E_PNK_W_WZM_T', time=6065.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh15622' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6090.00.
INFO:TrafficSimulator:Step 6100: 857 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh15603' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6142.00.
Warning: Vehicle 'veh15603' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.71, offset=4.30), time=6142.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15508'; collision with vehicle 'veh14314', lane='E_PNK_W_WZM_T_0', gap=-0.76, time=6158.00, stage=move.
Warning: Vehicle 'veh15508' ends teleporting on edge 'E_PNK_W_WZM', time=6158.00.
Warning: Teleporting vehicle 'veh14922'; collision with vehicle 'veh14949', lane='E_GOR_W_NMR_H_s_1', gap=-1.48, time=6168.00, stage=move.
Warning: Vehicle 'veh14922' ends teleporting on edge 'E_PNK_W_WZM_T', time=6168.00.
Warning: Vehicle 'veh15496' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6173.00.
Warning: Vehicle 'veh15496' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-10.78, offset=1.30), time=6173.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
INFO:TrafficSimulator:Step 6200: 872 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh15488' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6210.00.
Warning: Teleporting vehicle 'veh14342'; collision with vehicle 'veh14449', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=6236.00, stage=move.
Warning: Vehicle 'veh14342' ends teleporting on edge 'E_PNK_W_WZM_T', time=6236.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh16062' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6240.00.
Warning: Vehicle 'veh16062' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.83, offset=1.56), time=6240.00.
Warning: Teleporting vehicle 'veh15134'; collision with vehicle 'veh15127', lane='E_GOR_W_NMR_H_s_1', gap=-5.85, time=6256.00, stage=move.
Warning: Vehicle 'veh15134' ends teleporting on edge 'E_PNK_W_WZM_T', time=6256.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh16053' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6298.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
Warning: Vehicle 'veh14489' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6300.00.
INFO:TrafficSimulator:Step 6300: 859 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15426'; collision with vehicle 'veh15337', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=6343.00, stage=move.
Warning: Vehicle 'veh15426' ends teleporting on edge 'E_PNK_W_WZM_T', time=6343.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh15444' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh15444' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-12.26, offset=0.86), time=6360.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh16479' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16500' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16500' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_1' because of a red traffic light (decel=-12.71, offset=1.09), time=6390.00.
INFO:TrafficSimulator:Step 6400: 836 vehicles active
Warning: Vehicle 'veh16399' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6412.00.
Warning: Vehicle 'veh16399' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.56, offset=12.48), time=6412.00.
Warning: Vehicle 'veh16461' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6412.00.
Warning: Vehicle 'veh16461' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.69, offset=1.52), time=6412.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh16679' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6470.00.
Warning: Vehicle 'veh16679' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-13.30, offset=4.19), time=6470.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
Warning: Vehicle 'veh16734' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6480.00.
INFO:TrafficSimulator:Step 6500: 796 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14614'; collision with vehicle 'veh15715', lane='E_GOR_W_NMR_H_s_1', gap=-4.32, time=6516.00, stage=move.
Warning: Vehicle 'veh14614' ends teleporting on edge 'E_PNK_W_WZM_T', time=6516.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
Warning: Vehicle 'veh16526' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6600.00.
Warning: Vehicle 'veh16526' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.62, offset=6.96), time=6600.00.
INFO:TrafficSimulator:Step 6600: 757 vehicles active
Warning: Vehicle 'veh17129' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6612.00.
Warning: Teleporting vehicle 'veh16126'; collision with vehicle 'veh16082', lane='E_GOR_W_NMR_H_s_1', gap=-4.27, time=6624.00, stage=move.
Warning: Vehicle 'veh16126' ends teleporting on edge 'E_PNK_W_WZM_T', time=6624.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh16136' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6630.00.
Warning: Vehicle 'veh16136' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.52, offset=6.04), time=6630.00.
Warning: Vehicle 'veh16849' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6647.00.
Warning: Vehicle 'veh16849' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.20, offset=3.36), time=6647.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17118'; collision with vehicle 'veh17159', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=6665.00, stage=move.
Warning: Vehicle 'veh17118' ends teleporting on edge 'E_PNK_W_WZM_T', time=6665.00.
Warning: Vehicle 'veh17129' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6682.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
INFO:TrafficSimulator:Step 6700: 765 vehicles active
Warning: Vehicle 'veh17385' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6702.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh16371' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6720.00.
Warning: Vehicle 'veh16371' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.86, offset=2.33), time=6720.00.
Warning: Vehicle 'veh12693' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=6721.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16456'; collision with vehicle 'veh16412', lane='E_GOR_W_NMR_H_s_1', gap=-2.65, time=6789.00, stage=move.
Warning: Vehicle 'veh16456' ends teleporting on edge 'E_PNK_W_WZM_T', time=6789.00.
Warning: Vehicle 'veh17309' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6792.00.
Warning: Vehicle 'veh16700' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6792.00.
Warning: Teleporting vehicle 'veh16498'; collision with vehicle 'veh16457', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=6792.00, stage=move.
Warning: Vehicle 'veh16498' ends teleporting on edge 'E_PNK_W_WZM_T', time=6792.00.
Warning: Teleporting vehicle 'veh16488'; collision with vehicle 'veh16596', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=6794.00, stage=move.
Warning: Vehicle 'veh16488' ends teleporting on edge 'E_PNK_W_WZM_T', time=6794.00.
INFO:TrafficSimulator:Step 6800: 760 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Vehicle 'veh17683' performs emergency braking on lane 'E_NMR_N_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6810.00.
Warning: Vehicle 'veh17498' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6810.00.
Warning: Vehicle 'veh17498' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_2' because of a red traffic light (decel=-14.93, offset=0.20), time=6810.00.
Warning: Teleporting vehicle 'veh16793'; collision with vehicle 'veh16788', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=6827.00, stage=move.
Warning: Vehicle 'veh16793' ends teleporting on edge 'E_PNK_W_WZM_T', time=6827.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17503'; collision with vehicle 'veh17616', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=6868.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh17503' ends teleporting on edge 'E_PNK_W_WZM', time=6871.00.
Warning: Teleporting vehicle 'veh16857'; collision with vehicle 'veh16875', lane='E_GOR_W_NMR_H_s_1', gap=-3.16, time=6884.00, stage=move.
Warning: Vehicle 'veh16857' ends teleporting on edge 'E_PNK_W_WZM_T', time=6884.00.
Warning: Vehicle 'veh10305' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6898.00.
Warning: Vehicle 'veh10305' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-14.94, offset=0.87), time=6898.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
Warning: Vehicle 'veh17101' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6900.00.
Warning: Vehicle 'veh17101' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.43, offset=6.33), time=6900.00.
INFO:TrafficSimulator:Step 6900: 792 vehicles active
Warning: Teleporting vehicle 'veh17125'; collision with vehicle 'veh17151', lane='E_GOR_W_NMR_H_s_1', gap=-1.51, time=6904.00, stage=move.
Warning: Vehicle 'veh17125' ends teleporting on edge 'E_PNK_W_WZM_T', time=6904.00.
Warning: Teleporting vehicle 'veh8789'; junction collision with vehicle 'veh8788', lane=':J_WZM_PNK_12_0', gap=-0.47, time=6906.00, stage=move.
Warning: Vehicle 'veh8789' ends teleporting on edge 'E_PNK_E_NMR_T', time=6906.00.
Warning: Vehicle 'veh17715' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6918.00.
Warning: Vehicle 'veh13047' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6918.00.
Warning: Vehicle 'veh13047' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.74, offset=0.12), time=6918.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16901'; collision with vehicle 'veh17296', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=6958.00, stage=move.
Warning: Vehicle 'veh16901' ends teleporting on edge 'E_PNK_W_WZM_T', time=6959.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17265'; collision with vehicle 'veh17004', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=6961.00, stage=move.
Warning: Vehicle 'veh17265' ends teleporting on edge 'E_PNK_W_WZM_T', time=6961.00.
Warning: Vehicle 'veh17692' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6984.00.
Warning: Vehicle 'veh17692' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.29, offset=2.74), time=6984.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
INFO:TrafficSimulator:Step 7000: 800 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17649'; collision with vehicle 'veh17688', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=7048.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh17649' ends teleporting on edge 'E_PNK_W_WZM', time=7051.00.
Warning: Teleporting vehicle 'veh17818'; collision with vehicle 'veh17792', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=7067.00, stage=move.
Warning: Vehicle 'veh17818' ends teleporting on edge 'E_PNK_W_WZM_T', time=7067.00.
Warning: Vehicle 'veh13544' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7068.00.
Warning: Vehicle 'veh18061' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7068.00.
Warning: Vehicle 'veh17910' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=7075.00.
Warning: Teleporting vehicle 'veh18044'; collision with vehicle 'veh17988', lane='E_GOR_W_NMR_H_s_1', gap=-3.61, time=7079.00, stage=move.
Warning: Vehicle 'veh18044' ends teleporting on edge 'E_PNK_W_WZM_T', time=7079.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
INFO:TrafficSimulator:Step 7100: 805 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh17894' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh18146' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh18146' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-16.26, offset=5.83), time=7110.00.
Warning: Vehicle 'veh18403' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7132.00.
Warning: Vehicle 'veh18403' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-13.01, offset=0.94), time=7133.00.
Warning: Teleporting vehicle 'veh18071'; collision with vehicle 'veh18314', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=7138.00, stage=move.
Warning: Vehicle 'veh18071' ends teleporting on edge 'E_PNK_W_WZM_T', time=7139.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18061'; collision with vehicle 'veh18150', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=7141.00, stage=move.
Warning: Vehicle 'veh18061' ends teleporting on edge 'E_PNK_W_WZM_T', time=7141.00.
Warning: Teleporting vehicle 'veh18110'; collision with vehicle 'veh18199', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=7144.00, stage=move.
Warning: Vehicle 'veh18110' ends teleporting on edge 'E_PNK_W_WZM_T', time=7144.00.
Warning: Teleporting vehicle 'veh18136'; collision with vehicle 'veh18158', lane='E_GOR_W_NMR_H_s_1', gap=-3.58, time=7146.00, stage=move.
Warning: Vehicle 'veh18136' ends teleporting on edge 'E_PNK_W_WZM_T', time=7146.00.
Warning: Vehicle 'veh18300' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7154.00.
Warning: Vehicle 'veh18300' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.19, offset=4.41), time=7154.00.
Warning: Vehicle 'veh18655' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7162.00.
Warning: Vehicle 'veh18655' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.94, offset=5.14), time=7162.00.
Warning: Vehicle 'veh18256' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=7166.00.
Warning: Vehicle 'veh18256' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-14.07, offset=3.59), time=7166.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh18152' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7189.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
INFO:TrafficSimulator:Step 7200: 814 vehicles active
Warning: Teleporting vehicle 'veh18414'; collision with vehicle 'veh18521', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=7226.00, stage=move.
Warning: Vehicle 'veh18414' ends teleporting on edge 'E_PNK_W_WZM_T', time=7226.00.
Warning: Teleporting vehicle 'veh18547'; collision with vehicle 'veh18581', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=7229.00, stage=move.
Warning: Vehicle 'veh18547' ends teleporting on edge 'E_PNK_W_WZM_T', time=7229.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18481'; collision with vehicle 'veh18627', lane='E_GOR_W_NMR_H_s_1', gap=-6.12, time=7231.00, stage=move.
Warning: Vehicle 'veh18481' ends teleporting on edge 'E_PNK_W_WZM_T', time=7231.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh18644' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7263.00.
Warning: Vehicle 'veh18644' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.33, offset=0.60), time=7263.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 872
INFO:TrafficSimulator:Completed vehicles: 254
INFO:TrafficSimulator:Completion rate: 29.1%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16390
INFO:TreeMethodController:Vehicle total time: 4344000
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16390
INFO:TreeMethodController:Tree Method - Total driving time: 4344000
INFO:TreeMethodController:Tree Method - Average duration: 265.04 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16390
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 74.59s
 TraCI-Duration: 53.63s
 Real time factor: 97.8736
 UPS: 62091.277183
Vehicles:
 Inserted: 16913 (Loaded: 18825)
 Running: 618
 Waiting: 1912
 Teleports: 213 (Collisions: 213)
 Emergency Stops: 206
 Emergency Braking: 340
Statistics (avg of 16295):
 RouteLength: 1440.35
 Speed: 7.09
 Duration: 266.65
 WaitingTime: 104.47
 TimeLoss: 163.40
 DepartDelay: 157.13
DijkstraRouter answered 100541 queries and explored 15.32 edges on average.
DijkstraRouter spent 0.13s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 872
INFO:SamplePipeline:completed_vehicles: 254
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 29.128440366972473
INFO:__main__:Pipeline execution completed successfully
