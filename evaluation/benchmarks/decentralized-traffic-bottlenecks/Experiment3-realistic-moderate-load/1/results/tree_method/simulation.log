INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment3-realistic-moderate-load/1
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 63182 ***
Loading net-file from 'workspace/grid.net.xml' ... done (36ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 3 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
Warning: Vehicle 'veh31' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=35.00.
Warning: Vehicle 'veh53' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=40.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
Warning: Vehicle 'veh118' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh118' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-12.68, offset=0.87), time=90.00.
Warning: Vehicle 'veh32' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh32' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.89, offset=8.61), time=90.00.
INFO:TrafficSimulator:Step 100: 221 vehicles active
Warning: Vehicle 'veh56' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=114.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh197' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh197' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.39, offset=1.36), time=125.00.
Warning: Vehicle 'veh122' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Teleporting vehicle 'veh58'; collision with vehicle 'veh83', lane='E_GOR_W_NMR_H_s_1', gap=-4.53, time=134.00, stage=move.
Warning: Vehicle 'veh58' ends teleporting on edge 'E_PNK_W_WZM', time=137.00.
Warning: Vehicle 'veh118' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=145.00.
Warning: Vehicle 'veh118' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.11, offset=7.60), time=145.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 364 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh264' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh460' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=220.00.
Warning: Vehicle 'veh460' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-16.87, offset=7.57), time=220.00.
Warning: Teleporting vehicle 'veh230'; collision with vehicle 'veh115', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=221.00, stage=move.
Warning: Vehicle 'veh230' ends teleporting on edge 'E_PNK_W_WZM_T', time=221.00.
Warning: Teleporting vehicle 'veh275'; collision with vehicle 'veh177', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=224.00, stage=move.
Warning: Vehicle 'veh275' ends teleporting on edge 'E_PNK_W_WZM', time=227.00.
Warning: Teleporting vehicle 'veh286'; collision with vehicle 'veh254', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=228.00, stage=move.
Warning: Vehicle 'veh286' ends teleporting on edge 'E_PNK_W_WZM', time=231.00.
Warning: Vehicle 'veh253' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
Warning: Vehicle 'veh253' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.89, offset=6.05), time=235.00.
Warning: Vehicle 'veh137' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=235.00.
Warning: Vehicle 'veh137' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.25, offset=0.31), time=235.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh412'; collision with vehicle 'veh382', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=272.00, stage=move.
Warning: Vehicle 'veh412' ends teleporting on edge 'E_PNK_W_WZM_T', time=272.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 430 vehicles active
Warning: Vehicle 'veh418' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh562' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh562' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.10, offset=7.30), time=305.00.
Warning: Vehicle 'veh663' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=310.00.
Warning: Teleporting vehicle 'veh476'; collision with vehicle 'veh442', lane='E_GOR_W_NMR_H_s_1', gap=-4.71, time=323.00, stage=move.
Warning: Teleporting vehicle 'veh539'; collision with vehicle 'veh510', lane='E_GOR_W_NMR_H_s_1', gap=-0.14, time=325.00, stage=move.
Warning: Vehicle 'veh539' ends teleporting on edge 'E_PNK_W_WZM', time=328.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh548' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh548' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-22.01, offset=10.30), time=330.00.
Warning: Vehicle 'veh479' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
Warning: Vehicle 'veh476' teleports beyond arrival edge 'E_WZM_S', time=375.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
INFO:TrafficSimulator:Step 400: 435 vehicles active
Warning: Vehicle 'veh602' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=403.00.
Warning: Teleporting vehicle 'veh527'; collision with vehicle 'veh605', lane='E_GOR_W_NMR_H_s_1', gap=-5.78, time=404.00, stage=move.
Warning: Vehicle 'veh527' ends teleporting on edge 'E_PNK_W_WZM_T', time=406.00.
Warning: Teleporting vehicle 'veh712'; collision with vehicle 'veh764', lane='E_GOR_W_NMR_H_s_1', gap=-5.51, time=418.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh712' ends teleporting on edge 'E_PNK_W_WZM', time=423.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh840' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh840' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-18.74, offset=0.31), time=485.00.
Warning: Teleporting vehicle 'veh749'; collision with vehicle 'veh783', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=491.00, stage=move.
Warning: Vehicle 'veh749' ends teleporting on edge 'E_PNK_W_WZM_T', time=491.00.
Warning: Vehicle 'veh720' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=493.00.
Warning: Teleporting vehicle 'veh859'; collision with vehicle 'veh851', lane='E_GOR_W_NMR_H_s_1', gap=-5.61, time=495.00, stage=move.
Warning: Vehicle 'veh859' ends teleporting on edge 'E_PNK_W_WZM', time=498.00.
INFO:TrafficSimulator:Step 500: 466 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1033' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=510.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh1111' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=540.00.
Warning: Vehicle 'veh1111' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.45, offset=1.84), time=540.00.
Warning: Teleporting vehicle 'veh918'; collision with vehicle 'veh955', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=552.00, stage=move.
Warning: Vehicle 'veh918' ends teleporting on edge 'E_PNK_W_WZM_T', time=552.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1089' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1089' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.60, offset=5.91), time=575.00.
Warning: Teleporting vehicle 'veh978'; collision with vehicle 'veh1037', lane='E_GOR_W_NMR_H_s_1', gap=-6.30, time=590.00, stage=move.
Warning: Vehicle 'veh978' ends teleporting on edge 'E_PNK_W_WZM_T', time=591.00.
Warning: Teleporting vehicle 'veh1027'; collision with vehicle 'veh1068', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=593.00, stage=move.
Warning: Vehicle 'veh1027' ends teleporting on edge 'E_PNK_W_WZM_T', time=593.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 490 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1268' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=665.00.
Warning: Teleporting vehicle 'veh1145'; collision with vehicle 'veh1201', lane='E_GOR_W_NMR_H_s_1', gap=-6.41, time=670.00, stage=move.
Warning: Teleporting vehicle 'veh1264'; collision with vehicle 'veh1185', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=673.00, stage=move.
Warning: Vehicle 'veh1145' ends teleporting on edge 'E_PNK_W_WZM', time=673.00.
Warning: Teleporting vehicle 'veh1225'; collision with vehicle 'veh1247', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=675.00, stage=move.
Warning: Vehicle 'veh1264' ends teleporting on edge 'E_PNK_W_WZM', time=676.00.
Warning: Teleporting vehicle 'veh1250'; collision with vehicle 'veh1292', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=677.00, stage=move.
Warning: Vehicle 'veh1225' ends teleporting on edge 'E_PNK_W_WZM', time=679.00.
Warning: Vehicle 'veh1250' ends teleporting on edge 'E_PNK_W_WZM', time=680.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh827' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=692.00.
Warning: Vehicle 'veh827' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.67, offset=0.69), time=692.00.
Warning: Vehicle 'veh1062' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=692.00.
Warning: Vehicle 'veh1062' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.31, offset=0.21), time=692.00.
INFO:TrafficSimulator:Step 700: 490 vehicles active
Warning: Vehicle 'veh1479' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=712.00.
Warning: Teleporting vehicle 'veh1397'; collision with vehicle 'veh1411', lane='E_GOR_W_NMR_H_s_1', gap=-4.02, time=719.00, stage=move.
Warning: Vehicle 'veh1397' ends teleporting on edge 'E_PNK_W_WZM_T', time=719.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1542' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=720.00.
Warning: Vehicle 'veh1542' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-11.31, offset=1.82), time=720.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1525' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=754.00.
Warning: Vehicle 'veh1525' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-22.70, offset=13.48), time=754.00.
Warning: Vehicle 'veh1467' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1467' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-22.01, offset=12.95), time=755.00.
Warning: Teleporting vehicle 'veh1414'; collision with vehicle 'veh1404', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=760.00, stage=move.
Warning: Vehicle 'veh1345' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=763.00.
Warning: Vehicle 'veh1345' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-21.94, offset=5.67), time=763.00.
Warning: Vehicle 'veh1349' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=763.00.
Warning: Vehicle 'veh1349' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.68, offset=1.62), time=763.00.
Warning: Vehicle 'veh1414' ends teleporting on edge 'E_PNK_W_WZM', time=763.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1648' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=782.00.
Warning: Vehicle 'veh1648' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.87, offset=2.21), time=782.00.
INFO:TrafficSimulator:Step 800: 501 vehicles active
Warning: Teleporting vehicle 'veh1563'; collision with vehicle 'veh1567', lane='E_GOR_W_NMR_H_s_1', gap=-5.96, time=806.00, stage=move.
Warning: Vehicle 'veh1563' ends teleporting on edge 'E_PNK_W_WZM_T', time=806.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1621' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
Warning: Vehicle 'veh1621' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-20.20, offset=11.20), time=810.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1666' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=844.00.
Warning: Vehicle 'veh1666' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-20.32, offset=5.13), time=844.00.
Warning: Teleporting vehicle 'veh1680'; collision with vehicle 'veh1689', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=854.00, stage=move.
Warning: Vehicle 'veh1680' ends teleporting on edge 'E_PNK_W_WZM', time=857.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1919' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=870.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
INFO:TrafficSimulator:Step 900: 510 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh1856' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=935.00.
Warning: Vehicle 'veh1856' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.96, offset=1.82), time=935.00.
Warning: Teleporting vehicle 'veh1785'; collision with vehicle 'veh1701', lane='E_GOR_W_NMR_H_s_1', gap=-7.50, time=940.00, stage=move.
Warning: Vehicle 'veh1785' ends teleporting on edge 'E_PNK_W_WZM_T', time=942.00.
Warning: Vehicle 'veh1887' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=957.00.
Warning: Vehicle 'veh1887' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-12.43, offset=0.12), time=957.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh2049' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=962.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 534 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2087' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1025.00.
Warning: Teleporting vehicle 'veh1905'; collision with vehicle 'veh1886', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=1031.00, stage=move.
Warning: Vehicle 'veh1905' ends teleporting on edge 'E_PNK_W_WZM', time=1034.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Vehicle 'veh2272' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh2272' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.55, offset=0.35), time=1080.00.
INFO:TrafficSimulator:Step 1100: 525 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2445' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1114.00.
Warning: Teleporting vehicle 'veh1955'; collision with vehicle 'veh2215', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=1121.00, stage=move.
Warning: Vehicle 'veh1955' ends teleporting on edge 'E_PNK_W_WZM_T', time=1122.00.
Warning: Vehicle 'veh2559' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1123.00.
Warning: Vehicle 'veh2559' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-21.07, offset=9.35), time=1123.00.
Warning: Vehicle 'veh2106' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1123.00.
Warning: Vehicle 'veh2106' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-11.58, offset=1.18), time=1124.00.
Warning: Teleporting vehicle 'veh2094'; collision with vehicle 'veh2129', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=1124.00, stage=move.
Warning: Vehicle 'veh2094' ends teleporting on edge 'E_PNK_W_WZM_T', time=1124.00.
Warning: Teleporting vehicle 'veh2105'; collision with vehicle 'veh2152', lane='E_GOR_W_NMR_H_s_1', gap=-5.77, time=1126.00, stage=move.
Warning: Vehicle 'veh2105' ends teleporting on edge 'E_PNK_W_WZM_T', time=1127.00.
Warning: Teleporting vehicle 'veh2183'; collision with vehicle 'veh2331', lane='E_GOR_W_NMR_H_s_1', gap=-3.20, time=1130.00, stage=move.
Warning: Teleporting vehicle 'veh2305'; collision with vehicle 'veh2306', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=1132.00, stage=move.
Warning: Vehicle 'veh2183' ends teleporting on edge 'E_PNK_W_WZM', time=1134.00.
Warning: Vehicle 'veh2305' ends teleporting on edge 'E_PNK_W_WZM', time=1136.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2643' performs emergency braking on lane 'E_HZG_W_NMR_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2716' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1198.00.
Warning: Vehicle 'veh2716' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.73, offset=3.59), time=1198.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 549 vehicles active
Warning: Vehicle 'veh2604' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1205.00.
Warning: Vehicle 'veh2604' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.04, offset=1.65), time=1205.00.
Warning: Vehicle 'veh2631' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1205.00.
Warning: Vehicle 'veh2631' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.75, offset=2.09), time=1205.00.
Warning: Teleporting vehicle 'veh2265'; collision with vehicle 'veh2483', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=1210.00, stage=move.
Warning: Vehicle 'veh2265' ends teleporting on edge 'E_PNK_W_WZM_T', time=1210.00.
Warning: Vehicle 'veh2369' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1213.00.
Warning: Vehicle 'veh2514' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1225.00.
Warning: Teleporting vehicle 'veh2580'; collision with vehicle 'veh2441', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=1227.00, stage=move.
Warning: Vehicle 'veh2580' ends teleporting on edge 'E_PNK_W_WZM_T', time=1228.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2510'; collision with vehicle 'veh2459', lane='E_GOR_W_NMR_H_s_1', gap=-6.43, time=1230.00, stage=move.
Warning: Vehicle 'veh2510' ends teleporting on edge 'E_PNK_W_WZM_T', time=1230.00.
Warning: Teleporting vehicle 'veh2682'; collision with vehicle 'veh2551', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=1242.00, stage=move.
Warning: Vehicle 'veh2682' ends teleporting on edge 'E_PNK_W_WZM_T', time=1242.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2887' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1294.00.
Warning: Vehicle 'veh2887' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.76, offset=0.83), time=1294.00.
Warning: Teleporting vehicle 'veh2609'; collision with vehicle 'veh2576', lane='E_GOR_W_NMR_H_s_1', gap=-6.37, time=1296.00, stage=move.
Warning: Vehicle 'veh2609' ends teleporting on edge 'E_PNK_W_WZM_T', time=1297.00.
INFO:TrafficSimulator:Step 1300: 553 vehicles active
Warning: Vehicle 'veh2620' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1306.00.
Warning: Teleporting vehicle 'veh2744'; collision with vehicle 'veh2768', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=1306.00, stage=move.
Warning: Vehicle 'veh2744' ends teleporting on edge 'E_PNK_W_WZM', time=1309.00.
Warning: Teleporting vehicle 'veh2703'; collision with vehicle 'veh2755', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=1313.00, stage=move.
Warning: Teleporting vehicle 'veh2696'; collision with vehicle 'veh2674', lane='E_GOR_W_NMR_H_s_1', gap=-6.10, time=1315.00, stage=move.
Warning: Vehicle 'veh2703' ends teleporting on edge 'E_PNK_W_WZM', time=1316.00.
Warning: Teleporting vehicle 'veh2789'; collision with vehicle 'veh2716', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=1317.00, stage=move.
Warning: Teleporting vehicle 'veh2758'; collision with vehicle 'veh2731', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=1318.00, stage=move.
Warning: Vehicle 'veh2696' ends teleporting on edge 'E_PNK_W_WZM', time=1318.00.
Warning: Vehicle 'veh2758' ends teleporting on edge 'E_PNK_W_WZM_T', time=1318.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2777'; collision with vehicle 'veh2819', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=1320.00, stage=move.
Warning: Vehicle 'veh2777' ends teleporting on edge 'E_PNK_W_WZM_T', time=1320.00.
Warning: Vehicle 'veh2789' ends teleporting on edge 'E_PNK_W_WZM', time=1320.00.
Warning: Vehicle 'veh2827' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1326.00.
Warning: Vehicle 'veh2827' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.88, offset=3.23), time=1326.00.
Warning: Vehicle 'veh2756' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1326.00.
Warning: Vehicle 'veh2756' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-13.67, offset=4.55), time=1326.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3042'; collision with vehicle 'veh3024', lane='E_NMR_S_PNK_H_s_1', gap=-0.65, time=1376.00, stage=move.
Warning: Vehicle 'veh3042' ends teleporting on edge 'E_NMR_S_JBT', time=1376.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2852'; collision with vehicle 'veh2847', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=1382.00, stage=move.
Warning: Vehicle 'veh2852' ends teleporting on edge 'E_PNK_W_WZM_T', time=1382.00.
Warning: Teleporting vehicle 'veh2888'; collision with vehicle 'veh2854', lane='E_GOR_W_NMR_H_s_1', gap=-5.25, time=1385.00, stage=move.
Warning: Vehicle 'veh2916' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1386.00.
Warning: Vehicle 'veh2916' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.96, offset=1.66), time=1386.00.
Warning: Teleporting vehicle 'veh2890'; collision with vehicle 'veh2868', lane='E_GOR_W_NMR_H_s_1', gap=-5.44, time=1387.00, stage=move.
Warning: Vehicle 'veh2888' ends teleporting on edge 'E_PNK_W_WZM', time=1388.00.
Warning: Vehicle 'veh2890' ends teleporting on edge 'E_PNK_W_WZM_T', time=1389.00.
Warning: Vehicle 'veh2861' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1393.00.
Warning: Teleporting vehicle 'veh3030'; collision with vehicle 'veh2897', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=1394.00, stage=move.
Warning: Vehicle 'veh3030' ends teleporting on edge 'E_PNK_W_WZM_T', time=1394.00.
INFO:TrafficSimulator:Step 1400: 579 vehicles active
Warning: Vehicle 'veh2593' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1406.00.
Warning: Vehicle 'veh2593' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.64, offset=0.99), time=1406.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Vehicle 'veh3291' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1440.00.
Warning: Vehicle 'veh3291' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-14.49, offset=1.37), time=1440.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3078'; collision with vehicle 'veh3113', lane='E_GOR_W_NMR_H_s_1', gap=-4.83, time=1473.00, stage=move.
Warning: Vehicle 'veh3078' ends teleporting on edge 'E_PNK_W_WZM_T', time=1473.00.
Warning: Teleporting vehicle 'veh3162'; collision with vehicle 'veh3075', lane='E_GOR_W_NMR_H_s_1', gap=-6.29, time=1475.00, stage=move.
Warning: Vehicle 'veh3162' ends teleporting on edge 'E_PNK_W_WZM', time=1479.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 594 vehicles active
Warning: Vehicle 'veh3285' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1528.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3390'; collision with vehicle 'veh3377', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=1560.00, stage=move.
Warning: Teleporting vehicle 'veh3412'; collision with vehicle 'veh3339', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=1563.00, stage=move.
Warning: Vehicle 'veh3390' ends teleporting on edge 'E_PNK_W_WZM', time=1563.00.
Warning: Vehicle 'veh3449' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3449' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.66, offset=11.11), time=1565.00.
Warning: Vehicle 'veh3543' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3543' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-10.25, offset=0.69), time=1566.00.
Warning: Vehicle 'veh3412' ends teleporting on edge 'E_PNK_W_WZM', time=1566.00.
Warning: Teleporting vehicle 'veh3378'; collision with vehicle 'veh3376', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=1570.00, stage=move.
Warning: Vehicle 'veh3378' ends teleporting on edge 'E_PNK_W_WZM_T', time=1570.00.
Warning: Vehicle 'veh3093' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1573.00.
Warning: Vehicle 'veh3093' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.90, offset=6.52), time=1573.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3717' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1590.00.
INFO:TrafficSimulator:Step 1600: 558 vehicles active
Warning: Vehicle 'veh3574' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1603.00.
Warning: Vehicle 'veh3574' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-12.03, offset=2.84), time=1603.00.
Warning: Teleporting vehicle 'veh3206'; collision with vehicle 'veh3551', lane='E_GOR_W_NMR_H_s_1', gap=-3.33, time=1616.00, stage=move.
Warning: Vehicle 'veh3206' ends teleporting on edge 'E_PNK_W_WZM_T', time=1616.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3707' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3614'; collision with vehicle 'veh3604', lane='E_GOR_W_NMR_H_s_1', gap=-2.76, time=1653.00, stage=move.
Warning: Vehicle 'veh3614' ends teleporting on edge 'E_PNK_W_WZM_T', time=1653.00.
Warning: Vehicle 'veh3721' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1670.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
INFO:TrafficSimulator:Step 1700: 564 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh3787' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Vehicle 'veh3787' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-20.77, offset=0.64), time=1710.00.
Warning: Vehicle 'veh4000' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1738.00.
Warning: Vehicle 'veh4000' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.62, offset=1.23), time=1738.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh3359' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1753.00.
Warning: Vehicle 'veh3359' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-14.55, offset=1.83), time=1753.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3940'; collision with vehicle 'veh3922', lane='E_GOR_W_NMR_H_s_1', gap=-5.57, time=1796.00, stage=move.
Warning: Vehicle 'veh3940' ends teleporting on edge 'E_PNK_W_WZM_T', time=1796.00.
Warning: Teleporting vehicle 'veh3915'; collision with vehicle 'veh3954', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=1798.00, stage=move.
Warning: Vehicle 'veh3915' ends teleporting on edge 'E_PNK_W_WZM_T', time=1798.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 583 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Vehicle 'veh3640' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1835.00.
Warning: Vehicle 'veh4103' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1835.00.
Warning: Teleporting vehicle 'veh3846'; collision with vehicle 'veh3888', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=1836.00, stage=move.
Warning: Vehicle 'veh3846' ends teleporting on edge 'E_PNK_W_WZM_T', time=1836.00.
Warning: Teleporting vehicle 'veh4024'; collision with vehicle 'veh4010', lane='E_GOR_W_NMR_H_s_1', gap=-5.38, time=1841.00, stage=move.
Warning: Vehicle 'veh4024' ends teleporting on edge 'E_PNK_W_WZM_T', time=1841.00.
Warning: Vehicle 'veh4362' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1843.00.
Warning: Vehicle 'veh4362' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-11.19, offset=1.55), time=1843.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
Warning: Vehicle 'veh4238' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh4238' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-16.09, offset=5.11), time=1890.00.
Warning: Vehicle 'veh4248' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh4248' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.39, offset=0.45), time=1890.00.
INFO:TrafficSimulator:Step 1900: 620 vehicles active
Warning: Vehicle 'veh4390' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1914.00.
Warning: Vehicle 'veh4390' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-19.09, offset=9.61), time=1914.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3947'; collision with vehicle 'veh4021', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1920.00, stage=move.
Warning: Vehicle 'veh3947' ends teleporting on edge 'E_PNK_W_WZM_T', time=1920.00.
Warning: Teleporting vehicle 'veh4144'; collision with vehicle 'veh4056', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=1925.00, stage=move.
Warning: Vehicle 'veh4144' ends teleporting on edge 'E_PNK_W_WZM_T', time=1925.00.
Warning: Vehicle 'veh3966' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1933.00.
Warning: Vehicle 'veh3966' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.82, offset=5.28), time=1933.00.
Warning: Teleporting vehicle 'veh3800'; collision with vehicle 'veh3782', lane='E_GOR_W_NMR_H_s_1', gap=-2.37, time=1943.00, stage=move.
Warning: Vehicle 'veh3800' ends teleporting on edge 'E_PNK_W_WZM_T', time=1943.00.
Warning: Teleporting vehicle 'veh4513'; collision with vehicle 'veh4537', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=1949.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4513' ends teleporting on edge 'E_PNK_W_WZM_H_r', time=1954.00.
Warning: Vehicle 'veh4602' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1955.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh4499' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
Warning: Teleporting vehicle 'veh4271'; collision with vehicle 'veh4287', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=1995.00, stage=move.
Warning: Vehicle 'veh4271' ends teleporting on edge 'E_PNK_W_WZM_T', time=1995.00.
INFO:TrafficSimulator:Step 2000: 619 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4316'; collision with vehicle 'veh4304', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=2012.00, stage=move.
Warning: Vehicle 'veh4316' ends teleporting on edge 'E_PNK_W_WZM_T', time=2012.00.
Warning: Vehicle 'veh4546' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2015.00.
Warning: Vehicle 'veh4546' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-21.82, offset=9.07), time=2015.00.
Warning: Vehicle 'veh3985' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2015.00.
Warning: Vehicle 'veh3985' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.75, offset=0.12), time=2015.00.
Warning: Teleporting vehicle 'veh4373'; collision with vehicle 'veh4361', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=2017.00, stage=move.
Warning: Vehicle 'veh4373' ends teleporting on edge 'E_PNK_W_WZM_T', time=2019.00.
Warning: Vehicle 'veh4803' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2023.00.
Warning: Vehicle 'veh4464' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2026.00.
Warning: Teleporting vehicle 'veh4464'; collision with vehicle 'veh4559', lane='E_GOR_W_NMR_H_s_1', gap=-6.15, time=2027.00, stage=move.
Warning: Vehicle 'veh4464' ends teleporting on edge 'E_PNK_W_WZM_T', time=2027.00.
Warning: Vehicle 'veh4517' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2029.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4819' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2045.00.
Warning: Vehicle 'veh4819' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.67, offset=0.91), time=2045.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4054'; collision with vehicle 'veh4519', lane='E_GOR_W_NMR_H_s_1', gap=-3.67, time=2070.00, stage=move.
Warning: Vehicle 'veh4054' ends teleporting on edge 'E_PNK_W_WZM_T', time=2070.00.
Warning: Vehicle 'veh4595' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2073.00.
Warning: Teleporting vehicle 'veh4595'; collision with vehicle 'veh4580', lane='E_GOR_W_NMR_H_s_1', gap=-1.56, time=2073.00, stage=move.
Warning: Vehicle 'veh4595' ends teleporting on edge 'E_PNK_W_WZM_T', time=2073.00.
Warning: Vehicle 'veh4840' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2094.00.
Warning: Vehicle 'veh4840' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.99, offset=7.29), time=2094.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 621 vehicles active
Warning: Vehicle 'veh4772' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4169' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4169' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.13, offset=3.72), time=2105.00.
Warning: Teleporting vehicle 'veh4644'; collision with vehicle 'veh4641', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=2106.00, stage=move.
Warning: Vehicle 'veh4644' ends teleporting on edge 'E_PNK_W_WZM_T', time=2107.00.
Warning: Vehicle 'veh4279' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2109.00.
Warning: Teleporting vehicle 'veh4603'; collision with vehicle 'veh4734', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=2109.00, stage=move.
Warning: Vehicle 'veh4603' ends teleporting on edge 'E_PNK_W_WZM_T', time=2109.00.
Warning: Vehicle 'veh5033' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2113.00.
Warning: Vehicle 'veh5033' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.17, offset=6.31), time=2113.00.
Warning: Vehicle 'veh5029' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2113.00.
Warning: Vehicle 'veh4062' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2113.00.
Warning: Vehicle 'veh4062' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-11.31, offset=2.07), time=2113.00.
Warning: Teleporting vehicle 'veh4741'; collision with vehicle 'veh4735', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=2113.00, stage=move.
Warning: Vehicle 'veh4741' ends teleporting on edge 'E_PNK_W_WZM_T', time=2116.00.
Warning: Teleporting vehicle 'veh4761'; collision with vehicle 'veh4756', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=2118.00, stage=move.
Warning: Vehicle 'veh4761' ends teleporting on edge 'E_PNK_W_WZM_T', time=2118.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4817'; collision with vehicle 'veh4208', lane='E_GOR_W_NMR_H_s_1', gap=-5.27, time=2159.00, stage=move.
Warning: Vehicle 'veh4817' ends teleporting on edge 'E_PNK_W_WZM_T', time=2159.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh4973' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh4902' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh4902' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-19.85, offset=1.35), time=2160.00.
Warning: Vehicle 'veh5029' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2184.00.
Warning: Vehicle 'veh5029' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-18.16, offset=7.28), time=2184.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4976'; collision with vehicle 'veh4906', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=2190.00, stage=move.
Warning: Vehicle 'veh4976' ends teleporting on edge 'E_PNK_W_WZM', time=2193.00.
Warning: Vehicle 'veh4393' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2195.00.
Warning: Vehicle 'veh4393' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-20.43, offset=10.40), time=2195.00.
Warning: Teleporting vehicle 'veh5009'; collision with vehicle 'veh4393', lane='E_HLC_W_AYA_H_s_0', gap=-4.27, time=2195.00, stage=move.
Warning: Vehicle 'veh5009' ends teleporting on edge 'E_GOR_W_NMR', time=2195.00.
INFO:TrafficSimulator:Step 2200: 649 vehicles active
Warning: Vehicle 'veh4178' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2203.00.
Warning: Vehicle 'veh4178' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-20.74, offset=8.80), time=2203.00.
Warning: Teleporting vehicle 'veh5053'; collision with vehicle 'veh5052', lane='E_GOR_W_NMR_H_s_1', gap=-4.79, time=2203.00, stage=move.
Warning: Vehicle 'veh5053' ends teleporting on edge 'E_PNK_W_WZM_T', time=2204.00.
Warning: Teleporting vehicle 'veh4951'; collision with vehicle 'veh4940', lane='E_GOR_W_NMR_H_s_1', gap=-4.28, time=2207.00, stage=move.
Warning: Vehicle 'veh4951' ends teleporting on edge 'E_PNK_W_WZM_T', time=2207.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5153'; collision with vehicle 'veh5132', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=2283.00, stage=move.
Warning: Vehicle 'veh4651' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2285.00.
Warning: Vehicle 'veh4651' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.27, offset=5.38), time=2285.00.
Warning: Vehicle 'veh5153' ends teleporting on edge 'E_PNK_W_WZM_T', time=2285.00.
Warning: Vehicle 'veh5457' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2293.00.
Warning: Vehicle 'veh5457' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.53, offset=0.70), time=2293.00.
Warning: Vehicle 'veh5492' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2299.00.
Warning: Vehicle 'veh5492' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.90, offset=0.52), time=2299.00.
Warning: Vehicle 'veh5085' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2299.00.
Warning: Vehicle 'veh5085' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-20.38, offset=4.19), time=2299.00.
INFO:TrafficSimulator:Step 2300: 613 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh1829' performs emergency braking on lane ':cluster_J11_J14_1_0' with decel=9.00, wished=4.50, severity=1.00, time=2310.00.
Warning: Vehicle 'veh5518' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2310.00.
Warning: Teleporting vehicle 'veh5388'; collision with vehicle 'veh5447', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=2320.00, stage=move.
Warning: Vehicle 'veh5388' ends teleporting on edge 'E_PNK_W_WZM_T', time=2320.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5406'; collision with vehicle 'veh5397', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=2350.00, stage=move.
Warning: Vehicle 'veh5406' ends teleporting on edge 'E_PNK_W_WZM_T', time=2350.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5423'; collision with vehicle 'veh5435', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=2370.00, stage=move.
Warning: Vehicle 'veh5423' ends teleporting on edge 'E_PNK_W_WZM_T', time=2370.00.
Warning: Teleporting vehicle 'veh5309'; collision with vehicle 'veh5347', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=2373.00, stage=move.
Warning: Vehicle 'veh5309' ends teleporting on edge 'E_PNK_W_WZM_T', time=2373.00.
Warning: Teleporting vehicle 'veh5366'; collision with vehicle 'veh5324', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=2375.00, stage=move.
Warning: Vehicle 'veh5366' ends teleporting on edge 'E_PNK_W_WZM_T', time=2375.00.
Warning: Teleporting vehicle 'veh5367'; collision with vehicle 'veh5390', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=2377.00, stage=move.
Warning: Vehicle 'veh5367' ends teleporting on edge 'E_PNK_W_WZM_T', time=2377.00.
Warning: Vehicle 'veh5716' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2389.00.
Warning: Vehicle 'veh5716' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-12.52, offset=1.69), time=2389.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 585 vehicles active
Warning: Teleporting vehicle 'veh5522'; collision with vehicle 'veh5637', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=2411.00, stage=move.
Warning: Vehicle 'veh5522' ends teleporting on edge 'E_PNK_W_WZM_T', time=2412.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh5765' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2454.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh5636' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2460.00.
Warning: Vehicle 'veh5636' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.67, offset=8.51), time=2460.00.
Warning: Teleporting vehicle 'veh5520'; collision with vehicle 'veh5462', lane='E_GOR_W_NMR_H_s_1', gap=-5.46, time=2463.00, stage=move.
Warning: Vehicle 'veh5520' ends teleporting on edge 'E_PNK_W_WZM_T', time=2463.00.
Warning: Vehicle 'veh5803' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Vehicle 'veh4981' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Vehicle 'veh4981' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.40, offset=4.47), time=2465.00.
Warning: Vehicle 'veh5803' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-9.24, offset=0.23), time=2466.00.
Warning: Teleporting vehicle 'veh5741'; collision with vehicle 'veh5744', lane='E_GOR_W_NMR_H_s_1', gap=-1.91, time=2476.00, stage=move.
Warning: Vehicle 'veh5741' ends teleporting on edge 'E_PNK_W_WZM_T', time=2476.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
INFO:TrafficSimulator:Step 2500: 560 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh5951' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=2520.00.
Warning: Vehicle 'veh5951' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.35, offset=0.79), time=2520.00.
Warning: Vehicle 'veh5742' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2520.00.
Warning: Vehicle 'veh5742' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-13.42, offset=3.60), time=2520.00.
Warning: Vehicle 'veh5582' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2534.00.
Warning: Vehicle 'veh6012' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2542.00.
Warning: Vehicle 'veh6012' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.73, offset=4.71), time=2542.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5579'; collision with vehicle 'veh5695', lane='E_GOR_W_NMR_H_s_1', gap=-5.13, time=2553.00, stage=move.
Warning: Vehicle 'veh5579' ends teleporting on edge 'E_PNK_W_WZM_T', time=2554.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
INFO:TrafficSimulator:Step 2600: 587 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh6190' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2634.00.
Warning: Vehicle 'veh6190' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-19.22, offset=6.20), time=2634.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh6386' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2659.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh6408' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2670.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 611 vehicles active
Warning: Vehicle 'veh6445' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2724.00.
Warning: Vehicle 'veh6445' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.61, offset=1.32), time=2724.00.
Warning: Vehicle 'veh5407' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2729.00.
Warning: Vehicle 'veh5407' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.38, offset=3.78), time=2729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6048'; collision with vehicle 'veh6080', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=2734.00, stage=move.
Warning: Vehicle 'veh6387' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2735.00.
Warning: Vehicle 'veh6048' ends teleporting on edge 'E_PNK_W_WZM_T', time=2736.00.
Warning: Teleporting vehicle 'veh6137'; collision with vehicle 'veh6272', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=2739.00, stage=move.
Warning: Vehicle 'veh6137' ends teleporting on edge 'E_PNK_W_WZM_T', time=2739.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6468'; collision with vehicle 'veh6544', lane='E_GOR_W_NMR_H_s_1', gap=-1.85, time=2764.00, stage=move.
Warning: Vehicle 'veh6468' ends teleporting on edge 'E_PNK_W_WZM_T', time=2764.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5374'; collision with vehicle 'veh6327', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=2790.00, stage=move.
Warning: Vehicle 'veh5374' ends teleporting on edge 'E_PNK_W_WZM_T', time=2790.00.
INFO:TrafficSimulator:Step 2800: 639 vehicles active
Warning: Vehicle 'veh5575' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2818.00.
Warning: Vehicle 'veh5575' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.08, offset=0.69), time=2818.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6519' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Vehicle 'veh6519' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.83, offset=9.71), time=2825.00.
Warning: Vehicle 'veh5548' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Teleporting vehicle 'veh6620'; collision with vehicle 'veh6412', lane='E_GOR_W_NMR_H_s_1', gap=-3.51, time=2835.00, stage=move.
Warning: Vehicle 'veh6620' ends teleporting on edge 'E_PNK_W_WZM_T', time=2835.00.
Warning: Vehicle 'veh6238' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2839.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Vehicle 'veh6504' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2879.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6593'; collision with vehicle 'veh6628', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2889.00, stage=move.
Warning: Vehicle 'veh6593' ends teleporting on edge 'E_PNK_W_WZM_T', time=2889.00.
INFO:TrafficSimulator:Step 2900: 640 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh5632' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh6798' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2940.00.
Warning: Vehicle 'veh6798' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-15.79, offset=0.93), time=2940.00.
Warning: Vehicle 'veh7061' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2945.00.
Warning: Vehicle 'veh7061' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.31, offset=0.57), time=2945.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7006'; collision with vehicle 'veh6906', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=3000.00, stage=move.
INFO:TrafficSimulator:Step 3000: 635 vehicles active
Warning: Vehicle 'veh7006' ends teleporting on edge 'E_PNK_W_WZM', time=3003.00.
Warning: Teleporting vehicle 'veh7060'; collision with vehicle 'veh7077', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=3005.00, stage=move.
Warning: Vehicle 'veh7060' ends teleporting on edge 'E_PNK_W_WZM', time=3008.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh7315' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3035.00.
Warning: Vehicle 'veh7315' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-16.92, offset=7.27), time=3035.00.
Warning: Teleporting vehicle 'veh6880'; collision with vehicle 'veh6861', lane='E_GOR_W_NMR_H_s_1', gap=-2.31, time=3057.00, stage=move.
Warning: Vehicle 'veh6880' ends teleporting on edge 'E_PNK_W_WZM_T', time=3057.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6837'; collision with vehicle 'veh6888', lane='E_GOR_W_NMR_H_s_1', gap=-0.27, time=3061.00, stage=move.
Warning: Vehicle 'veh6837' ends teleporting on edge 'E_PNK_W_WZM_T', time=3061.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7159'; collision with vehicle 'veh7250', lane='E_GOR_W_NMR_H_s_1', gap=-4.70, time=3093.00, stage=move.
Warning: Vehicle 'veh7159' ends teleporting on edge 'E_PNK_W_WZM_T', time=3093.00.
Warning: Vehicle 'veh5915' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3095.00.
Warning: Vehicle 'veh5915' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.02, offset=7.18), time=3095.00.
Warning: Teleporting vehicle 'veh7312'; collision with vehicle 'veh7336', lane='E_GOR_W_NMR_H_s_1', gap=-4.90, time=3098.00, stage=move.
INFO:TrafficSimulator:Step 3100: 646 vehicles active
Warning: Vehicle 'veh7312' ends teleporting on edge 'E_PNK_W_WZM', time=3101.00.
Warning: Vehicle 'veh7546' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3109.00.
Warning: Vehicle 'veh7546' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-21.52, offset=7.28), time=3109.00.
Warning: Vehicle 'veh7417' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3119.00.
Warning: Vehicle 'veh7417' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.07, offset=1.70), time=3119.00.
Warning: Vehicle 'veh7315' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3119.00.
Warning: Vehicle 'veh7315' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.50, offset=1.39), time=3119.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Vehicle 'veh7561' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3120.00.
Warning: Vehicle 'veh7561' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.43, offset=9.28), time=3120.00.
Warning: Vehicle 'veh7137' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3149.00.
Warning: Teleporting vehicle 'veh7137'; collision with vehicle 'veh7223', lane='E_GOR_W_NMR_H_s_1', gap=-2.72, time=3149.00, stage=move.
Warning: Vehicle 'veh7137' ends teleporting on edge 'E_PNK_W_WZM_T', time=3149.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh7585' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3173.00.
Warning: Teleporting vehicle 'veh7339'; collision with vehicle 'veh7348', lane='E_GOR_W_NMR_H_s_1', gap=-5.72, time=3179.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh7339' ends teleporting on edge 'E_PNK_W_WZM', time=3182.00.
Warning: Vehicle 'veh6052' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
INFO:TrafficSimulator:Step 3200: 615 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6153'; collision with vehicle 'veh7550', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=3269.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh6153' ends teleporting on edge 'E_PNK_W_WZM_T', time=3270.00.
Warning: Teleporting vehicle 'veh7634'; collision with vehicle 'veh7600', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=3272.00, stage=move.
Warning: Vehicle 'veh7634' ends teleporting on edge 'E_PNK_W_WZM_T', time=3272.00.
Warning: Teleporting vehicle 'veh7618'; collision with vehicle 'veh7624', lane='E_GOR_W_NMR_H_s_1', gap=-5.94, time=3274.00, stage=move.
Warning: Vehicle 'veh7618' ends teleporting on edge 'E_PNK_W_WZM', time=3277.00.
Warning: Vehicle 'veh8008' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3289.00.
Warning: Vehicle 'veh6164' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3289.00.
Warning: Vehicle 'veh8008' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-10.42, offset=0.96), time=3290.00.
Warning: Vehicle 'veh6164' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-10.61, offset=0.42), time=3290.00.
Warning: Vehicle 'veh7735' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3293.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 623 vehicles active
Warning: Vehicle 'veh7658' performs emergency braking on lane 'E_PNK_W_WZM_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3308.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7791'; collision with vehicle 'veh7799', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=3331.00, stage=move.
Warning: Vehicle 'veh7791' ends teleporting on edge 'E_PNK_W_WZM_T', time=3331.00.
Warning: Teleporting vehicle 'veh7854'; collision with vehicle 'veh7898', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=3359.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7729'; collision with vehicle 'veh7671', lane='E_GOR_W_NMR_H_s_1', gap=-4.03, time=3366.00, stage=move.
Warning: Vehicle 'veh7729' ends teleporting on edge 'E_PNK_W_WZM_T', time=3366.00.
Warning: Vehicle 'veh7854' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3371.00.
Warning: Vehicle 'veh8090' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3377.00.
Warning: Vehicle 'veh8090' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.59, offset=8.54), time=3377.00.
Warning: Vehicle 'veh8247' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3379.00.
Warning: Vehicle 'veh8247' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.52, offset=5.70), time=3379.00.
Warning: Vehicle 'veh8045' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3383.00.
Warning: Vehicle 'veh8045' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.22, offset=2.45), time=3383.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
INFO:TrafficSimulator:Step 3400: 615 vehicles active
Warning: Vehicle 'veh8151' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3401.00.
Warning: Vehicle 'veh8244' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3401.00.
Warning: Vehicle 'veh8244' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-13.44, offset=3.36), time=3401.00.
Warning: Vehicle 'veh8172' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3402.00.
Warning: Vehicle 'veh7267' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3402.00.
Warning: Vehicle 'veh7267' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.37, offset=6.66), time=3402.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh8148' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3420.00.
Warning: Vehicle 'veh8148' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-15.14, offset=6.00), time=3420.00.
Warning: Vehicle 'veh7969' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3420.00.
Warning: Vehicle 'veh7969' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.75, offset=1.34), time=3420.00.
Warning: Vehicle 'veh7924' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3420.00.
Warning: Vehicle 'veh7924' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.10, offset=1.00), time=3420.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8203'; collision with vehicle 'veh8172', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=3450.00, stage=move.
Warning: Vehicle 'veh8203' ends teleporting on edge 'E_PNK_W_WZM_T', time=3450.00.
Warning: Teleporting vehicle 'veh8147'; collision with vehicle 'veh8090', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=3454.00, stage=move.
Warning: Vehicle 'veh8147' ends teleporting on edge 'E_PNK_W_WZM_T', time=3454.00.
Warning: Vehicle 'veh8476' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3469.00.
Warning: Vehicle 'veh8476' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.35, offset=3.97), time=3469.00.
Warning: Vehicle 'veh8261' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3470.00.
Warning: Vehicle 'veh8288' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3473.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
Warning: Vehicle 'veh8118' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3491.00.
Warning: Vehicle 'veh8118' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.48, offset=4.81), time=3491.00.
INFO:TrafficSimulator:Step 3500: 601 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh8552' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3538.00.
Warning: Vehicle 'veh8552' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.64, offset=1.00), time=3538.00.
Warning: Vehicle 'veh8554' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3538.00.
Warning: Vehicle 'veh8554' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.34, offset=3.26), time=3538.00.
Warning: Teleporting vehicle 'veh8389'; collision with vehicle 'veh8460', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=3539.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8440'; collision with vehicle 'veh8498', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=3542.00, stage=move.
Warning: Vehicle 'veh8389' ends teleporting on edge 'E_PNK_W_WZM', time=3542.00.
Warning: Vehicle 'veh8440' ends teleporting on edge 'E_PNK_W_WZM_T', time=3542.00.
Warning: Teleporting vehicle 'veh8002'; collision with vehicle 'veh8016', lane='E_GOR_W_NMR_H_s_1', gap=-5.63, time=3546.00, stage=move.
Warning: Vehicle 'veh8002' ends teleporting on edge 'E_PNK_W_WZM_T', time=3548.00.
Warning: Teleporting vehicle 'veh8412'; collision with vehicle 'veh8062', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=3554.00, stage=move.
Warning: Vehicle 'veh8412' ends teleporting on edge 'E_PNK_W_WZM_T', time=3554.00.
Warning: Vehicle 'veh8538' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3567.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh2345' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3570.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
Warning: Vehicle 'veh8303' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
INFO:TrafficSimulator:Step 3600: 621 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8712'; collision with vehicle 'veh8210', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=3630.00, stage=move.
Warning: Vehicle 'veh8712' ends teleporting on edge 'E_PNK_W_WZM_T', time=3631.00.
Warning: Teleporting vehicle 'veh8253'; collision with vehicle 'veh8231', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=3634.00, stage=move.
Warning: Vehicle 'veh8253' ends teleporting on edge 'E_PNK_W_WZM_T', time=3634.00.
Warning: Vehicle 'veh8949' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3649.00.
Warning: Vehicle 'veh8949' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.15, offset=7.06), time=3649.00.
Warning: Vehicle 'veh8737' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=3651.00.
Warning: Vehicle 'veh8737' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-15.82, offset=5.39), time=3651.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8700' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3663.00.
Warning: Vehicle 'veh4618' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3669.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 630 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh8962' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3761.00.
Warning: Vehicle 'veh8962' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.91, offset=7.00), time=3761.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 659 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8571'; collision with vehicle 'veh8585', lane='E_GOR_W_NMR_H_s_1', gap=-4.40, time=3813.00, stage=move.
Warning: Vehicle 'veh8571' ends teleporting on edge 'E_PNK_W_WZM', time=3816.00.
Warning: Vehicle 'veh9429' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3829.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh2724' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3840.00.
Warning: Vehicle 'veh9456' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3840.00.
Warning: Vehicle 'veh8453' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3853.00.
Warning: Vehicle 'veh8453' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-12.17, offset=2.78), time=3853.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh8908' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3870.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 633 vehicles active
Warning: Vehicle 'veh9655' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3919.00.
Warning: Vehicle 'veh9169' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3923.00.
Warning: Vehicle 'veh9169' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.58, offset=0.56), time=3923.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh9437' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3940.00.
Warning: Vehicle 'veh9437' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-14.38, offset=4.63), time=3940.00.
Warning: Vehicle 'veh9633' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3950.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
INFO:TrafficSimulator:Step 4000: 615 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9826'; collision with vehicle 'veh9696', lane='E_GOR_W_NMR_H_s_1', gap=-5.73, time=4057.00, stage=move.
Warning: Vehicle 'veh9826' ends teleporting on edge 'E_PNK_W_WZM_T', time=4057.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9395'; collision with vehicle 'veh9439', lane='E_GOR_W_NMR_H_s_1', gap=-3.33, time=4093.00, stage=move.
Warning: Vehicle 'veh9395' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=4098.00.
Warning: Vehicle 'veh10142' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4099.00.
INFO:TrafficSimulator:Step 4100: 610 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh10019' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4118.00.
Warning: Vehicle 'veh10019' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.04, offset=9.40), time=4118.00.
Warning: Vehicle 'veh5611' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4123.00.
Warning: Vehicle 'veh5611' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.85, offset=2.81), time=4123.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Vehicle 'veh9168' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4171.00.
Warning: Teleporting vehicle 'veh9168'; collision with vehicle 'veh9181', lane='E_GOR_W_NMR_H_s_1', gap=-3.84, time=4173.00, stage=move.
Warning: Vehicle 'veh9168' ends teleporting on edge 'E_PNK_W_WZM_T', time=4174.00.
Warning: Vehicle 'veh10071' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=4180.00.
Warning: Teleporting vehicle 'veh9523'; collision with vehicle 'veh9519', lane='E_GOR_W_NMR_H_s_1', gap=-5.51, time=4183.00, stage=move.
Warning: Vehicle 'veh9523' ends teleporting on edge 'E_PNK_W_WZM_T', time=4183.00.
Warning: Vehicle 'veh10090' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4189.00.
Warning: Vehicle 'veh10370' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4189.00.
Warning: Vehicle 'veh10370' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-16.64, offset=4.18), time=4189.00.
Warning: Teleporting vehicle 'veh10093'; collision with vehicle 'veh10090', lane='E_NMR_N_YMK_H_sr_0', gap=-1.19, time=4190.00, stage=move.
Warning: Vehicle 'veh10093' ends teleporting on edge 'E_HRZ_E', time=4190.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 612 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh9443' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh9443' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.86, offset=2.67), time=4230.00.
Warning: Vehicle 'veh10376' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4253.00.
Warning: Vehicle 'veh10376' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-19.79, offset=9.81), time=4253.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh6223' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4297.00.
Warning: Vehicle 'veh6223' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.92, offset=9.34), time=4297.00.
INFO:TrafficSimulator:Step 4300: 615 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
Warning: Vehicle 'veh10677' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=4320.00.
Warning: Vehicle 'veh10677' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-14.80, offset=1.84), time=4320.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh9993' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4353.00.
Warning: Vehicle 'veh9993' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.61, offset=1.14), time=4353.00.
Warning: Teleporting vehicle 'veh9566'; collision with vehicle 'veh9648', lane='E_GOR_W_NMR_H_s_1', gap=-1.51, time=4354.00, stage=move.
Warning: Vehicle 'veh9566' ends teleporting on edge 'E_PNK_W_WZM_T', time=4354.00.
Warning: Vehicle 'veh10281' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4369.00.
Warning: Vehicle 'veh10281' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-9.60, offset=0.23), time=4370.00.
Warning: Vehicle 'veh9966' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4371.00.
Warning: Vehicle 'veh9967' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4373.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
INFO:TrafficSimulator:Step 4400: 634 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10674'; collision with vehicle 'veh10656', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=4410.00, stage=move.
Warning: Vehicle 'veh10674' ends teleporting on edge 'E_PNK_W_WZM_T', time=4410.00.
Warning: Vehicle 'veh10899' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4433.00.
Warning: Teleporting vehicle 'veh10820'; collision with vehicle 'veh10864', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4439.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Vehicle 'veh10820' ends teleporting on edge 'E_PNK_W_WZM', time=4442.00.
Warning: Vehicle 'veh10337' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4452.00.
Warning: Vehicle 'veh10337' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.36, offset=1.04), time=4452.00.
Warning: Teleporting vehicle 'veh10149'; collision with vehicle 'veh10150', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=4455.00, stage=move.
Warning: Vehicle 'veh10149' ends teleporting on edge 'E_PNK_W_WZM', time=4458.00.
Warning: Vehicle 'veh10209' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4463.00.
Warning: Vehicle 'veh10209' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.38, offset=1.02), time=4463.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh11131' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4489.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
INFO:TrafficSimulator:Step 4500: 676 vehicles active
Warning: Vehicle 'veh11126' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4523.00.
Warning: Vehicle 'veh11109' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4523.00.
Warning: Teleporting vehicle 'veh10522'; collision with vehicle 'veh10515', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=4529.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Vehicle 'veh10522' ends teleporting on edge 'E_PNK_W_WZM_T', time=4531.00.
Warning: Vehicle 'veh10896' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4553.00.
Warning: Teleporting vehicle 'veh10599'; collision with vehicle 'veh10660', lane='E_GOR_W_NMR_H_s_1', gap=-3.68, time=4557.00, stage=move.
Warning: Vehicle 'veh10599' ends teleporting on edge 'E_PNK_W_WZM_T', time=4557.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh11342' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4560.00.
Warning: Vehicle 'veh11342' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.45, offset=1.17), time=4560.00.
Warning: Vehicle 'veh10888' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4568.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh11425' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
INFO:TrafficSimulator:Step 4600: 744 vehicles active
Warning: Vehicle 'veh11361' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4613.00.
Warning: Teleporting vehicle 'veh10779'; collision with vehicle 'veh10764', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=4619.00, stage=move.
Warning: Vehicle 'veh10779' ends teleporting on edge 'E_PNK_W_WZM_T', time=4619.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10783'; collision with vehicle 'veh10869', lane='E_GOR_W_NMR_H_s_1', gap=-6.10, time=4622.00, stage=move.
Warning: Vehicle 'veh10783' ends teleporting on edge 'E_PNK_W_WZM_T', time=4622.00.
Warning: Vehicle 'veh11570' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4637.00.
Warning: Vehicle 'veh11570' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.05, offset=6.27), time=4637.00.
Warning: Teleporting vehicle 'veh10896'; collision with vehicle 'veh10913', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=4639.00, stage=move.
Warning: Vehicle 'veh10896' ends teleporting on edge 'E_PNK_W_WZM_T', time=4641.00.
Warning: Vehicle 'veh10994' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4643.00.
Warning: Vehicle 'veh10994' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.55, offset=8.27), time=4643.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh11351' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4653.00.
Warning: Vehicle 'veh11351' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.40, offset=4.54), time=4653.00.
Warning: Vehicle 'veh11271' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4664.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11094'; collision with vehicle 'veh11174', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=4680.00, stage=move.
Warning: Vehicle 'veh11094' ends teleporting on edge 'E_PNK_W_WZM_T', time=4680.00.
INFO:TrafficSimulator:Step 4700: 795 vehicles active
Warning: Teleporting vehicle 'veh11467'; collision with vehicle 'veh11183', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=4709.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11287'; collision with vehicle 'veh11255', lane='E_GOR_W_NMR_H_s_1', gap=-6.17, time=4712.00, stage=move.
Warning: Vehicle 'veh11287' ends teleporting on edge 'E_PNK_W_WZM_T', time=4712.00.
Warning: Vehicle 'veh11467' ends teleporting on edge 'E_PNK_W_WZM', time=4712.00.
Warning: Vehicle 'veh11818' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4727.00.
Warning: Vehicle 'veh11472' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4737.00.
Warning: Vehicle 'veh11472' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.33, offset=3.58), time=4737.00.
Warning: Vehicle 'veh11695' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4738.00.
Warning: Vehicle 'veh11695' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.90, offset=1.50), time=4738.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh4745' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4740.00.
Warning: Teleporting vehicle 'veh11620'; collision with vehicle 'veh11102', lane='E_GOR_W_NMR_H_s_1', gap=-3.37, time=4744.00, stage=move.
Warning: Vehicle 'veh11620' ends teleporting on edge 'E_PNK_W_WZM_T', time=4744.00.
Warning: Vehicle 'veh11756' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4749.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh10883' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh10883' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-16.40, offset=3.70), time=4770.00.
Warning: Teleporting vehicle 'veh11732'; collision with vehicle 'veh11680', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=4791.00, stage=move.
Warning: Teleporting vehicle 'veh11657'; collision with vehicle 'veh11663', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=4793.00, stage=move.
Warning: Vehicle 'veh11657' ends teleporting on edge 'E_PNK_W_WZM_T', time=4793.00.
Warning: Vehicle 'veh11732' ends teleporting on edge 'E_PNK_W_WZM', time=4794.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
INFO:TrafficSimulator:Step 4800: 786 vehicles active
Warning: Vehicle 'veh11901' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4823.00.
Warning: Vehicle 'veh11901' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.51, offset=3.17), time=4823.00.
Warning: Vehicle 'veh11756' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4823.00.
Warning: Vehicle 'veh11756' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-10.04, offset=0.47), time=4823.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh11839' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4831.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Vehicle 'veh11391' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4860.00.
Warning: Vehicle 'veh11391' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-18.19, offset=0.47), time=4860.00.
Warning: Vehicle 'veh12069' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4875.00.
Warning: Vehicle 'veh12069' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.83, offset=8.03), time=4875.00.
Warning: Teleporting vehicle 'veh11932'; collision with vehicle 'veh11901', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=4881.00, stage=move.
Warning: Vehicle 'veh11932' ends teleporting on edge 'E_PNK_W_WZM', time=4884.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
INFO:TrafficSimulator:Step 4900: 779 vehicles active
Warning: Vehicle 'veh12290' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4907.00.
Warning: Vehicle 'veh12290' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-16.06, offset=6.16), time=4907.00.
Warning: Vehicle 'veh12284' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4907.00.
Warning: Vehicle 'veh12284' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-10.07, offset=1.02), time=4907.00.
Warning: Vehicle 'veh8537' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4908.00.
Warning: Teleporting vehicle 'veh12060'; collision with vehicle 'veh12048', lane='E_GOR_W_NMR_H_s_1', gap=-4.31, time=4913.00, stage=move.
Warning: Vehicle 'veh12060' ends teleporting on edge 'E_PNK_W_WZM_T', time=4913.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12065'; collision with vehicle 'veh12056', lane='E_GOR_W_NMR_H_s_1', gap=-3.90, time=4930.00, stage=move.
Warning: Vehicle 'veh12065' ends teleporting on edge 'E_PNK_W_WZM_T', time=4930.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh11685' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12099'; collision with vehicle 'veh12123', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=4986.00, stage=move.
Warning: Vehicle 'veh12099' ends teleporting on edge 'E_PNK_W_WZM_T', time=4986.00.
Warning: Vehicle 'veh12530' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4997.00.
Warning: Vehicle 'veh12528' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4997.00.
Warning: Vehicle 'veh12528' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-10.89, offset=1.22), time=4997.00.
INFO:TrafficSimulator:Step 5000: 772 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12453'; collision with vehicle 'veh12317', lane='E_GOR_W_NMR_H_s_1', gap=-3.32, time=5019.00, stage=move.
Warning: Vehicle 'veh12453' ends teleporting on edge 'E_PNK_W_WZM_T', time=5019.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Vehicle 'veh8838' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5070.00.
Warning: Vehicle 'veh8838' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.59, offset=1.33), time=5070.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 765 vehicles active
Warning: Teleporting vehicle 'veh12510'; collision with vehicle 'veh12543', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=5110.00, stage=move.
Warning: Vehicle 'veh12510' ends teleporting on edge 'E_PNK_W_WZM_T', time=5110.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh11864' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
Warning: Vehicle 'veh11864' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.16, offset=1.92), time=5130.00.
Warning: Teleporting vehicle 'veh12783'; collision with vehicle 'veh12791', lane='E_NMR_S_PNK_0', gap=-0.74, time=5151.00, stage=move.
Warning: Vehicle 'veh12783' ends teleporting on edge 'E_NMR_S_PNK_H_r', time=5151.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh12784' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5161.00.
Warning: Vehicle 'veh12784' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.81, offset=1.98), time=5161.00.
Warning: Vehicle 'veh13015' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5177.00.
Warning: Vehicle 'veh10528' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5177.00.
Warning: Vehicle 'veh10528' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.83, offset=3.93), time=5177.00.
Warning: Vehicle 'veh12640' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5180.00.
Warning: Vehicle 'veh12728' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5183.00.
Warning: Vehicle 'veh12728' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-10.59, offset=0.92), time=5183.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
Warning: Vehicle 'veh12297' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5190.00.
INFO:TrafficSimulator:Step 5200: 757 vehicles active
Warning: Vehicle 'veh12467' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5208.00.
Warning: Vehicle 'veh12467' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.35, offset=1.79), time=5208.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Vehicle 'veh12942' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5251.00.
Warning: Vehicle 'veh12942' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.92, offset=1.39), time=5251.00.
Warning: Teleporting vehicle 'veh12834'; collision with vehicle 'veh12856', lane='E_GOR_W_NMR_H_s_1', gap=-4.78, time=5263.00, stage=move.
Warning: Vehicle 'veh12834' ends teleporting on edge 'E_PNK_W_WZM_T', time=5264.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Vehicle 'veh12877' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5281.00.
Warning: Vehicle 'veh12465' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5298.00.
INFO:TrafficSimulator:Step 5300: 729 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh10870' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
Warning: Vehicle 'veh12389' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh13201' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5358.00.
Warning: Vehicle 'veh13201' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.36, offset=6.96), time=5358.00.
Warning: Vehicle 'veh13185' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5358.00.
Warning: Vehicle 'veh13185' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.18, offset=0.72), time=5358.00.
Warning: Vehicle 'veh13115' performs emergency braking on lane 'E_GOR_W_NMR_2' with decel=9.00, wished=4.50, severity=1.00, time=5358.00.
Warning: Teleporting vehicle 'veh9053'; collision with vehicle 'veh13201', lane='E_GOR_E_AYA_H_s_1', gap=-1.03, time=5358.00, stage=move.
Warning: Vehicle 'veh9053' ends teleporting on edge 'E_HLC_E_AYA', time=5359.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh13151' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5371.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
INFO:TrafficSimulator:Step 5400: 729 vehicles active
Warning: Teleporting vehicle 'veh13507'; collision with vehicle 'veh13512', lane='E_NMR_S_PNK_0', gap=-0.69, time=5421.00, stage=move.
Warning: Vehicle 'veh13507' ends teleporting on edge 'E_NMR_S_PNK_H_s', time=5421.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh13093' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5430.00.
Warning: Vehicle 'veh12372' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5447.00.
Warning: Vehicle 'veh13753' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5447.00.
Warning: Vehicle 'veh9383' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5448.00.
Warning: Vehicle 'veh9383' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.63, offset=10.19), time=5448.00.
Warning: Vehicle 'veh13453' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5448.00.
Warning: Vehicle 'veh13453' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-14.47, offset=2.63), time=5448.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh13281' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5478.00.
Warning: Vehicle 'veh13281' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.73, offset=0.22), time=5478.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
INFO:TrafficSimulator:Step 5500: 789 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13514'; collision with vehicle 'veh13490', lane='E_GOR_W_NMR_H_s_1', gap=-1.03, time=5530.00, stage=move.
Warning: Vehicle 'veh13514' ends teleporting on edge 'E_PNK_W_WZM_T', time=5530.00.
Warning: Teleporting vehicle 'veh13545'; collision with vehicle 'veh13518', lane='E_GOR_W_NMR_H_s_1', gap=-0.26, time=5534.00, stage=move.
Warning: Vehicle 'veh14011' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5537.00.
Warning: Vehicle 'veh14011' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.51, offset=8.36), time=5537.00.
Warning: Vehicle 'veh13545' ends teleporting on edge 'E_PNK_W_WZM', time=5537.00.
Warning: Vehicle 'veh13760' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5538.00.
Warning: Vehicle 'veh13751' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5538.00.
Warning: Vehicle 'veh9501' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5547.00.
Warning: Vehicle 'veh9501' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-19.51, offset=6.22), time=5547.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
Warning: Vehicle 'veh13835' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5561.00.
Warning: Vehicle 'veh13845' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5562.00.
Warning: Vehicle 'veh13692' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5568.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
Warning: Vehicle 'veh13947' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5595.00.
Warning: Vehicle 'veh13947' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-17.04, offset=7.22), time=5595.00.
INFO:TrafficSimulator:Step 5600: 795 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh14276' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5627.00.
Warning: Vehicle 'veh14276' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.79, offset=4.63), time=5627.00.
Warning: Vehicle 'veh9672' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5628.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh13821' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5658.00.
Warning: Vehicle 'veh13821' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.88, offset=0.66), time=5658.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh11130' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh11130' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.29, offset=0.30), time=5670.00.
Warning: Vehicle 'veh14283' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5685.00.
Warning: Vehicle 'veh14283' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-17.77, offset=6.00), time=5685.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 812 vehicles active
Warning: Vehicle 'veh14294' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5706.00.
Warning: Vehicle 'veh14294' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.39, offset=0.82), time=5706.00.
Warning: Teleporting vehicle 'veh14031'; collision with vehicle 'veh14063', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=5709.00, stage=move.
Warning: Vehicle 'veh14031' ends teleporting on edge 'E_PNK_W_WZM_T', time=5709.00.
Warning: Vehicle 'veh14086' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5712.00.
Warning: Vehicle 'veh14172' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5718.00.
Warning: Vehicle 'veh14172' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.85, offset=0.17), time=5718.00.
Warning: Vehicle 'veh14288' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5718.00.
Warning: Vehicle 'veh14288' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-10.72, offset=0.89), time=5719.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh14539' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Teleporting vehicle 'veh6541'; collision with vehicle 'veh6672', lane='E_PNK_E_NMR_T_0', gap=-0.27, time=5736.00, stage=move.
Warning: Vehicle 'veh6541' ends teleporting on edge 'E_PNK_E_NMR', time=5736.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh14744' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5790.00.
Warning: Vehicle 'veh14744' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-11.08, offset=0.80), time=5790.00.
INFO:TrafficSimulator:Step 5800: 832 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh14763' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5824.00.
Warning: Teleporting vehicle 'veh14731'; collision with vehicle 'veh14653', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=5835.00, stage=move.
Warning: Vehicle 'veh14731' ends teleporting on edge 'E_PNK_W_WZM_T', time=5835.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14532'; collision with vehicle 'veh14774', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=5871.00, stage=move.
Warning: Vehicle 'veh14532' ends teleporting on edge 'E_PNK_W_WZM_T', time=5871.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh15067' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5897.00.
INFO:TrafficSimulator:Step 5900: 815 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14985'; collision with vehicle 'veh14976', lane='E_GOR_W_NMR_H_s_1', gap=-4.82, time=5987.00, stage=move.
Warning: Vehicle 'veh14985' ends teleporting on edge 'E_PNK_W_WZM_T', time=5987.00.
Warning: Vehicle 'veh10309' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5988.00.
Warning: Vehicle 'veh10309' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.74, offset=1.45), time=5988.00.
Warning: Vehicle 'veh15155' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5997.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 807 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh6908' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6090.00.
Warning: Vehicle 'veh6908' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.62, offset=6.61), time=6090.00.
INFO:TrafficSimulator:Step 6100: 796 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh15711' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6120.00.
Warning: Vehicle 'veh15532' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6135.00.
Warning: Vehicle 'veh15532' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.63, offset=5.43), time=6135.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Vehicle 'veh11453' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6165.00.
Warning: Vehicle 'veh10713' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6168.00.
Warning: Vehicle 'veh10713' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-20.28, offset=6.10), time=6168.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
INFO:TrafficSimulator:Step 6200: 768 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh15882' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6225.00.
Warning: Vehicle 'veh15882' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-9.87, offset=0.18), time=6226.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh11343' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6255.00.
Warning: Vehicle 'veh11343' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-21.03, offset=4.49), time=6255.00.
Warning: Vehicle 'veh10920' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6258.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh7078' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6270.00.
Warning: Vehicle 'veh15762' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6288.00.
Warning: Vehicle 'veh15762' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.08, offset=4.64), time=6288.00.
Warning: Vehicle 'veh15441' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6288.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
Warning: Vehicle 'veh16253' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6300.00.
INFO:TrafficSimulator:Step 6300: 778 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Vehicle 'veh16373' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6345.00.
Warning: Vehicle 'veh16373' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.34, offset=1.91), time=6345.00.
Warning: Vehicle 'veh16375' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6345.00.
Warning: Vehicle 'veh16375' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.68, offset=1.50), time=6345.00.
Warning: Vehicle 'veh16311' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6357.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh16414' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh16414' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-11.80, offset=1.48), time=6361.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh16497' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh16497' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_2' because of a red traffic light (decel=-14.46, offset=0.08), time=6390.00.
INFO:TrafficSimulator:Step 6400: 754 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh16482' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6447.00.
Warning: Vehicle 'veh16482' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-14.60, offset=2.37), time=6447.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh16378' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6468.00.
Warning: Vehicle 'veh16378' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.64, offset=5.53), time=6468.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
Warning: Vehicle 'veh11808' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6480.00.
Warning: Vehicle 'veh11808' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-9.48, offset=0.14), time=6480.00.
Warning: Vehicle 'veh16499' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6495.00.
INFO:TrafficSimulator:Step 6500: 749 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16653' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6537.00.
Warning: Vehicle 'veh16653' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.42, offset=0.63), time=6537.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Vehicle 'veh16644' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6570.00.
Warning: Vehicle 'veh16644' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-21.27, offset=11.20), time=6570.00.
Warning: Vehicle 'veh16597' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6570.00.
Warning: Vehicle 'veh16597' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-16.52, offset=7.30), time=6570.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 724 vehicles active
Warning: Vehicle 'veh16964' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6621.00.
Warning: Vehicle 'veh16964' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-11.99, offset=1.62), time=6622.00.
Warning: Vehicle 'veh11444' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6627.00.
Warning: Vehicle 'veh11444' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.11, offset=5.18), time=6627.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh17167' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6630.00.
Warning: Vehicle 'veh17136' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=6633.00.
Warning: Vehicle 'veh17136' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-17.70, offset=1.90), time=6633.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh17260' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh17260' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.77, offset=1.30), time=6660.00.
Warning: Vehicle 'veh17158' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6675.00.
Warning: Vehicle 'veh17158' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.41, offset=8.47), time=6675.00.
Warning: Vehicle 'veh17149' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6675.00.
Warning: Vehicle 'veh17149' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-19.67, offset=2.63), time=6675.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
INFO:TrafficSimulator:Step 6700: 744 vehicles active
Warning: Vehicle 'veh17211' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6711.00.
Warning: Vehicle 'veh17211' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.53, offset=5.35), time=6711.00.
Warning: Vehicle 'veh17226' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6711.00.
Warning: Vehicle 'veh17226' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-18.14, offset=0.34), time=6711.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh17136' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6734.00.
Warning: Teleporting vehicle 'veh17136'; collision with vehicle 'veh17178', lane='E_GOR_W_NMR_H_s_1', gap=-0.31, time=6734.00, stage=move.
Warning: Vehicle 'veh17136' ends teleporting on edge 'E_PNK_W_WZM_T', time=6734.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
Warning: Vehicle 'veh17139' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6750.00.
Warning: Vehicle 'veh17139' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-14.45, offset=4.75), time=6750.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Vehicle 'veh17641' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6795.00.
INFO:TrafficSimulator:Step 6800: 741 vehicles active
Warning: Vehicle 'veh17387' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6801.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh17462' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6855.00.
Warning: Teleporting vehicle 'veh17447'; collision with vehicle 'veh17513', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=6861.00, stage=move.
Warning: Vehicle 'veh17447' ends teleporting on edge 'E_PNK_W_WZM', time=6864.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh11994' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6891.00.
Warning: Vehicle 'veh11994' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.01, offset=8.33), time=6891.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
Warning: Vehicle 'veh8402' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6900.00.
INFO:TrafficSimulator:Step 6900: 749 vehicles active
Warning: Vehicle 'veh8402' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-11.55, offset=0.24), time=6901.00.
Warning: Teleporting vehicle 'veh17685'; collision with vehicle 'veh17659', lane='E_GOR_W_NMR_H_s_1', gap=-2.11, time=6913.00, stage=move.
Warning: Vehicle 'veh17685' ends teleporting on edge 'E_PNK_W_WZM_T', time=6913.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh18138' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6975.00.
Warning: Teleporting vehicle 'veh17937'; collision with vehicle 'veh17954', lane='E_GOR_W_NMR_H_s_1', gap=-2.87, time=6976.00, stage=move.
Warning: Vehicle 'veh17937' ends teleporting on edge 'E_PNK_W_WZM_T', time=6976.00.
Warning: Vehicle 'veh18047' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6985.00.
Warning: Vehicle 'veh18047' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.77, offset=0.09), time=6985.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8947'; junction collision with vehicle 'veh9045', lane=':J_WZM_PNK_12_0', gap=-0.39, time=6992.00, stage=move.
Warning: Vehicle 'veh8947' ends teleporting on edge 'E_PNK_E_NMR_T', time=6992.00.
Warning: Vehicle 'veh18147' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=6993.00.
INFO:TrafficSimulator:Step 7000: 761 vehicles active
Warning: Teleporting vehicle 'veh17912'; collision with vehicle 'veh17931', lane='E_GOR_W_NMR_H_s_1', gap=-3.01, time=7002.00, stage=move.
Warning: Vehicle 'veh17912' ends teleporting on edge 'E_PNK_W_WZM_T', time=7002.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh18224' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=7035.00.
Warning: Vehicle 'veh18029' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7035.00.
Warning: Vehicle 'veh18029' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.83, offset=5.83), time=7035.00.
Warning: Vehicle 'veh18224' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.36, offset=1.77), time=7036.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12079'; collision with vehicle 'veh12059', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=7050.00, stage=move.
Warning: Vehicle 'veh12079' ends teleporting on edge 'E_PNK_W_WZM_T', time=7050.00.
Warning: Vehicle 'veh18246' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7075.00.
Warning: Vehicle 'veh18246' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.03, offset=4.48), time=7075.00.
Warning: Vehicle 'veh18256' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7076.00.
Warning: Teleporting vehicle 'veh18256'; collision with vehicle 'veh18246', lane='E_GOR_W_NMR_H_s_1', gap=-0.09, time=7076.00, stage=move.
Warning: Vehicle 'veh18256' ends teleporting on edge 'E_PNK_W_WZM_T', time=7076.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
INFO:TrafficSimulator:Step 7100: 779 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh18432' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7125.00.
Warning: Vehicle 'veh18432' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.66, offset=8.66), time=7125.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Vehicle 'veh18604' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7144.00.
Warning: Vehicle 'veh18604' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-14.05, offset=0.16), time=7144.00.
Warning: Vehicle 'veh18592' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7144.00.
Warning: Vehicle 'veh18592' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.31, offset=1.19), time=7144.00.
Warning: Vehicle 'veh18462' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=7157.00.
Warning: Vehicle 'veh18365' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7161.00.
Warning: Vehicle 'veh18365' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.72, offset=3.43), time=7161.00.
Warning: Vehicle 'veh18485' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7165.00.
Warning: Vehicle 'veh18485' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.37, offset=6.23), time=7165.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
INFO:TrafficSimulator:Step 7200: 762 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Vehicle 'veh18743' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7255.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh9381' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7260.00.
Warning: Vehicle 'veh9381' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.24, offset=4.28), time=7260.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 832
INFO:TrafficSimulator:Completed vehicles: 250
INFO:TrafficSimulator:Completion rate: 30.0%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16472
INFO:TreeMethodController:Vehicle total time: 4370049
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16472
INFO:TreeMethodController:Tree Method - Total driving time: 4370049
INFO:TreeMethodController:Tree Method - Average duration: 265.30 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16472
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 76.78s
 TraCI-Duration: 55.68s
 Real time factor: 95.0731
 UPS: 60951.981558
Vehicles:
 Inserted: 16991 (Loaded: 18825)
 Running: 582
 Waiting: 1834
 Teleports: 160 (Collisions: 160)
 Emergency Stops: 189
 Emergency Braking: 321
Statistics (avg of 16409):
 RouteLength: 1418.29
 Speed: 7.16
 Duration: 266.35
 WaitingTime: 106.64
 TimeLoss: 164.64
 DepartDelay: 174.90
DijkstraRouter answered 97797 queries and explored 15.84 edges on average.
DijkstraRouter spent 0.12s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 832
INFO:SamplePipeline:completed_vehicles: 250
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 30.048076923076923
INFO:__main__:Pipeline execution completed successfully
