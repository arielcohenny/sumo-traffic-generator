INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment3-realistic-moderate-load/13
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 65039 ***
Loading net-file from 'workspace/grid.net.xml' ... done (27ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 2 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
Warning: Vehicle 'veh6' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=85.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
INFO:TrafficSimulator:Step 100: 209 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh230' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh230' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.35, offset=0.07), time=125.00.
Warning: Vehicle 'veh147' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh147' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.41, offset=8.84), time=125.00.
Warning: Vehicle 'veh258' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh258' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.75, offset=2.24), time=130.00.
Warning: Vehicle 'veh48' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=132.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh259' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=155.00.
Warning: Vehicle 'veh259' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-14.64, offset=3.84), time=155.00.
Warning: Teleporting vehicle 'veh181'; collision with vehicle 'veh175', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=179.00, stage=move.
Warning: Vehicle 'veh181' ends teleporting on edge 'E_PNK_W_WZM_T', time=179.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
Warning: Vehicle 'veh269' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=180.00.
Warning: Vehicle 'veh269' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-15.20, offset=1.17), time=181.00.
INFO:TrafficSimulator:Step 200: 380 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh376' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh376' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.68, offset=7.22), time=215.00.
Warning: Teleporting vehicle 'veh118'; collision with vehicle 'veh191', lane='E_GOR_W_NMR_H_s_1', gap=-5.54, time=222.00, stage=move.
Warning: Vehicle 'veh118' ends teleporting on edge 'E_PNK_W_WZM', time=225.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh301' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh301' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-17.65, offset=7.31), time=240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Vehicle 'veh443' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=270.00.
Warning: Vehicle 'veh443' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-22.37, offset=4.18), time=270.00.
Warning: Vehicle 'veh373' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=271.00.
Warning: Teleporting vehicle 'veh373'; collision with vehicle 'veh414', lane='E_GOR_W_NMR_H_s_1', gap=-0.10, time=271.00, stage=move.
Warning: Vehicle 'veh373' ends teleporting on edge 'E_PNK_W_WZM_T', time=271.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 422 vehicles active
Warning: Vehicle 'veh437' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh559' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh593' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh593' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.84, offset=0.86), time=305.00.
Warning: Teleporting vehicle 'veh378'; collision with vehicle 'veh374', lane='E_GOR_W_NMR_H_s_1', gap=-6.37, time=311.00, stage=move.
Warning: Teleporting vehicle 'veh411'; collision with vehicle 'veh377', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=314.00, stage=move.
Warning: Vehicle 'veh378' ends teleporting on edge 'E_PNK_W_WZM', time=314.00.
Warning: Vehicle 'veh411' ends teleporting on edge 'E_PNK_W_WZM_T', time=314.00.
Warning: Teleporting vehicle 'veh464'; collision with vehicle 'veh460', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=318.00, stage=move.
Warning: Teleporting vehicle 'veh473'; collision with vehicle 'veh434', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=320.00, stage=move.
Warning: Vehicle 'veh464' ends teleporting on edge 'E_PNK_W_WZM', time=322.00.
Warning: Vehicle 'veh473' ends teleporting on edge 'E_PNK_W_WZM', time=324.00.
Warning: Vehicle 'veh372' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=325.00.
Warning: Vehicle 'veh372' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.51, offset=5.42), time=325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh507' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh507' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-11.32, offset=1.37), time=330.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
Warning: Vehicle 'veh731' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
Warning: Teleporting vehicle 'veh627'; collision with vehicle 'veh628', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=361.00, stage=move.
Warning: Vehicle 'veh627' ends teleporting on edge 'E_PNK_W_WZM_T', time=361.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh768' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh768' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.87, offset=5.54), time=395.00.
Warning: Vehicle 'veh505' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=400.00.
INFO:TrafficSimulator:Step 400: 445 vehicles active
Warning: Teleporting vehicle 'veh623'; collision with vehicle 'veh535', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=401.00, stage=move.
Warning: Vehicle 'veh623' ends teleporting on edge 'E_PNK_W_WZM_T', time=402.00.
Warning: Teleporting vehicle 'veh662'; collision with vehicle 'veh657', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=404.00, stage=move.
Warning: Vehicle 'veh662' ends teleporting on edge 'E_PNK_W_WZM', time=407.00.
Warning: Teleporting vehicle 'veh693'; collision with vehicle 'veh678', lane='E_GOR_W_NMR_H_s_1', gap=-6.15, time=414.00, stage=move.
Warning: Vehicle 'veh693' ends teleporting on edge 'E_PNK_W_WZM_T', time=416.00.
Warning: Teleporting vehicle 'veh716'; collision with vehicle 'veh727', lane='E_GOR_W_NMR_H_s_1', gap=-4.38, time=419.00, stage=move.
Warning: Vehicle 'veh716' ends teleporting on edge 'E_PNK_W_WZM_T', time=419.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh721' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=421.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh787' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh787' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.76, offset=3.59), time=485.00.
Warning: Vehicle 'veh997' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=485.00.
Warning: Vehicle 'veh997' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.88, offset=2.30), time=485.00.
Warning: Teleporting vehicle 'veh731'; collision with vehicle 'veh873', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=491.00, stage=move.
Warning: Vehicle 'veh731' ends teleporting on edge 'E_PNK_W_WZM_T', time=491.00.
Warning: Teleporting vehicle 'veh870'; collision with vehicle 'veh859', lane='E_GOR_W_NMR_H_s_1', gap=-4.54, time=499.00, stage=move.
Warning: Vehicle 'veh870' ends teleporting on edge 'E_PNK_W_WZM_T', time=499.00.
INFO:TrafficSimulator:Step 500: 458 vehicles active
Warning: Teleporting vehicle 'veh884'; collision with vehicle 'veh888', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=503.00, stage=move.
Warning: Vehicle 'veh884' ends teleporting on edge 'E_PNK_W_WZM', time=506.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1089' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=515.00.
Warning: Vehicle 'veh1089' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-18.66, offset=3.74), time=515.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1209' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1171' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1171' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.31, offset=2.87), time=575.00.
Warning: Vehicle 'veh1209' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-10.61, offset=0.76), time=576.00.
Warning: Teleporting vehicle 'veh1019'; collision with vehicle 'veh1011', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=581.00, stage=move.
Warning: Vehicle 'veh1019' ends teleporting on edge 'E_PNK_W_WZM_T', time=581.00.
Warning: Teleporting vehicle 'veh1039'; collision with vehicle 'veh967', lane='E_GOR_W_NMR_H_s_1', gap=-5.35, time=586.00, stage=move.
Warning: Vehicle 'veh1039' ends teleporting on edge 'E_PNK_W_WZM', time=589.00.
Warning: Teleporting vehicle 'veh1061'; collision with vehicle 'veh1038', lane='E_GOR_W_NMR_H_s_1', gap=-4.85, time=594.00, stage=move.
Warning: Vehicle 'veh1061' ends teleporting on edge 'E_PNK_W_WZM_T', time=594.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
Warning: Vehicle 'veh1089' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=600.00.
Warning: Vehicle 'veh1089' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-16.37, offset=6.56), time=600.00.
INFO:TrafficSimulator:Step 600: 475 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1355' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=665.00.
Warning: Teleporting vehicle 'veh1263'; collision with vehicle 'veh1171', lane='E_GOR_W_NMR_H_s_1', gap=-5.93, time=669.00, stage=move.
Warning: Vehicle 'veh1263' ends teleporting on edge 'E_PNK_W_WZM_T', time=671.00.
Warning: Teleporting vehicle 'veh1236'; collision with vehicle 'veh1253', lane='E_GOR_W_NMR_H_s_1', gap=-5.99, time=677.00, stage=move.
Warning: Vehicle 'veh1236' ends teleporting on edge 'E_PNK_W_WZM', time=680.00.
Warning: Teleporting vehicle 'veh1256'; collision with vehicle 'veh1311', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=682.00, stage=move.
Warning: Vehicle 'veh1256' ends teleporting on edge 'E_PNK_W_WZM_T', time=683.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh1342' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=690.00.
Warning: Vehicle 'veh1436' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=693.00.
Warning: Vehicle 'veh1436' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.82, offset=5.21), time=693.00.
Warning: Teleporting vehicle 'veh1386'; collision with vehicle 'veh1353', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=693.00, stage=move.
Warning: Vehicle 'veh1386' ends teleporting on edge 'E_PNK_W_WZM_T', time=693.00.
INFO:TrafficSimulator:Step 700: 481 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1451' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=720.00.
Warning: Vehicle 'veh1451' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-17.61, offset=2.29), time=720.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1534' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Vehicle 'veh1534' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.32, offset=6.10), time=755.00.
Warning: Teleporting vehicle 'veh1300'; collision with vehicle 'veh1325', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=758.00, stage=move.
Warning: Vehicle 'veh1371' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
Warning: Teleporting vehicle 'veh1323'; collision with vehicle 'veh1408', lane='E_GOR_W_NMR_H_s_1', gap=-6.40, time=761.00, stage=move.
Warning: Vehicle 'veh1300' ends teleporting on edge 'E_PNK_W_WZM', time=761.00.
Warning: Vehicle 'veh1323' ends teleporting on edge 'E_PNK_W_WZM', time=764.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
INFO:TrafficSimulator:Step 800: 498 vehicles active
Warning: Vehicle 'veh1534' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=806.00.
Warning: Teleporting vehicle 'veh1534'; collision with vehicle 'veh1553', lane='E_GOR_W_NMR_H_s_1', gap=-0.84, time=806.00, stage=move.
Warning: Vehicle 'veh1534' ends teleporting on edge 'E_PNK_W_WZM_T', time=806.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1694' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=842.00.
Warning: Vehicle 'veh1736' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Vehicle 'veh1739' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Vehicle 'veh1860' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=846.00.
Warning: Vehicle 'veh1860' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.63, offset=3.64), time=846.00.
Warning: Teleporting vehicle 'veh1614'; collision with vehicle 'veh1538', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=848.00, stage=move.
Warning: Teleporting vehicle 'veh1658'; collision with vehicle 'veh1704', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=851.00, stage=move.
Warning: Vehicle 'veh1614' ends teleporting on edge 'E_PNK_W_WZM', time=851.00.
Warning: Vehicle 'veh1658' ends teleporting on edge 'E_PNK_W_WZM_T', time=852.00.
Warning: Teleporting vehicle 'veh1747'; collision with vehicle 'veh1729', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=867.00, stage=move.
Warning: Vehicle 'veh1747' ends teleporting on edge 'E_PNK_W_WZM_T', time=868.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh1818' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=876.00.
Warning: Vehicle 'veh1818' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.31, offset=2.91), time=876.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
Warning: Vehicle 'veh1824' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
INFO:TrafficSimulator:Step 900: 510 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh2060' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=930.00.
Warning: Vehicle 'veh1981' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=935.00.
Warning: Vehicle 'veh1981' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.76, offset=2.89), time=935.00.
Warning: Vehicle 'veh2020' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=936.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh1919' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=960.00.
Warning: Vehicle 'veh1919' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.63, offset=0.40), time=960.00.
Warning: Vehicle 'veh2004' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=965.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 550 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2200' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1023.00.
Warning: Vehicle 'veh2200' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.69, offset=1.67), time=1023.00.
Warning: Vehicle 'veh2206' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1025.00.
Warning: Teleporting vehicle 'veh2002'; collision with vehicle 'veh1951', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=1028.00, stage=move.
Warning: Vehicle 'veh2002' ends teleporting on edge 'E_PNK_W_WZM', time=1031.00.
Warning: Teleporting vehicle 'veh2026'; collision with vehicle 'veh1988', lane='E_GOR_W_NMR_H_s_1', gap=-2.99, time=1035.00, stage=move.
Warning: Teleporting vehicle 'veh2074'; collision with vehicle 'veh2042', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=1037.00, stage=move.
Warning: Vehicle 'veh2026' ends teleporting on edge 'E_PNK_W_WZM', time=1038.00.
Warning: Vehicle 'veh2074' ends teleporting on edge 'E_PNK_W_WZM_T', time=1038.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
INFO:TrafficSimulator:Step 1100: 542 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2420' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1112.00.
Warning: Vehicle 'veh2322' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Teleporting vehicle 'veh2239'; collision with vehicle 'veh2278', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=1118.00, stage=move.
Warning: Vehicle 'veh2239' ends teleporting on edge 'E_PNK_W_WZM_T', time=1118.00.
Warning: Teleporting vehicle 'veh2301'; collision with vehicle 'veh2343', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=1127.00, stage=move.
Warning: Vehicle 'veh2301' ends teleporting on edge 'E_PNK_W_WZM', time=1130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Vehicle 'veh2583' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1140.00.
Warning: Vehicle 'veh2583' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-21.73, offset=0.07), time=1140.00.
Warning: Teleporting vehicle 'veh2350'; collision with vehicle 'veh2309', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=1143.00, stage=move.
Warning: Vehicle 'veh2350' ends teleporting on edge 'E_PNK_W_WZM', time=1146.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2360'; collision with vehicle 'veh2383', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=1176.00, stage=move.
Warning: Vehicle 'veh2360' ends teleporting on edge 'E_PNK_W_WZM_T', time=1176.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 543 vehicles active
Warning: Vehicle 'veh2439' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1205.00.
Warning: Vehicle 'veh2439' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.87, offset=3.28), time=1205.00.
Warning: Teleporting vehicle 'veh2518'; collision with vehicle 'veh2399', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=1208.00, stage=move.
Warning: Vehicle 'veh2379' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1210.00.
Warning: Vehicle 'veh2379' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-21.79, offset=5.97), time=1210.00.
Warning: Vehicle 'veh2562' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1210.00.
Warning: Vehicle 'veh2562' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.91, offset=2.77), time=1210.00.
Warning: Vehicle 'veh2518' ends teleporting on edge 'E_PNK_W_WZM_T', time=1210.00.
Warning: Teleporting vehicle 'veh2539'; collision with vehicle 'veh2480', lane='E_GOR_W_NMR_H_s_1', gap=-2.52, time=1215.00, stage=move.
Warning: Vehicle 'veh2539' ends teleporting on edge 'E_PNK_W_WZM_T', time=1216.00.
Warning: Teleporting vehicle 'veh2556'; collision with vehicle 'veh2568', lane='E_GOR_W_NMR_H_s_1', gap=-5.79, time=1219.00, stage=move.
Warning: Vehicle 'veh2556' ends teleporting on edge 'E_PNK_W_WZM', time=1223.00.
Warning: Vehicle 'veh2709' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1227.00.
Warning: Teleporting vehicle 'veh2574'; collision with vehicle 'veh2609', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=1227.00, stage=move.
Warning: Vehicle 'veh2709' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-10.70, offset=0.06), time=1228.00.
Warning: Vehicle 'veh2574' ends teleporting on edge 'E_PNK_W_WZM_T', time=1229.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Vehicle 'veh2826' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1260.00.
Warning: Vehicle 'veh2826' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.12, offset=1.59), time=1260.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2651' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1290.00.
Warning: Vehicle 'veh2926' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1292.00.
Warning: Vehicle 'veh2926' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-18.96, offset=5.59), time=1292.00.
Warning: Vehicle 'veh2623' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1300.00.
INFO:TrafficSimulator:Step 1300: 551 vehicles active
Warning: Teleporting vehicle 'veh2740'; collision with vehicle 'veh2707', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=1307.00, stage=move.
Warning: Vehicle 'veh2740' ends teleporting on edge 'E_PNK_W_WZM_T', time=1307.00.
Warning: Teleporting vehicle 'veh2719'; collision with vehicle 'veh2811', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=1309.00, stage=move.
Warning: Vehicle 'veh2719' ends teleporting on edge 'E_PNK_W_WZM_T', time=1311.00.
Warning: Vehicle 'veh2792' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1314.00.
Warning: Vehicle 'veh2792' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.58, offset=0.96), time=1314.00.
Warning: Teleporting vehicle 'veh2762'; collision with vehicle 'veh2744', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=1314.00, stage=move.
Warning: Vehicle 'veh2762' ends teleporting on edge 'E_PNK_W_WZM_T', time=1314.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh3140' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh3057' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh3057' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.82, offset=4.31), time=1382.00.
Warning: Vehicle 'veh3113' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh3113' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-19.16, offset=4.10), time=1382.00.
Warning: Vehicle 'veh3085' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Vehicle 'veh3085' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.15, offset=6.08), time=1385.00.
Warning: Teleporting vehicle 'veh2884'; collision with vehicle 'veh2894', lane='E_GOR_W_NMR_H_s_1', gap=-6.37, time=1389.00, stage=move.
Warning: Vehicle 'veh3092' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1390.00.
Warning: Vehicle 'veh3092' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.27, offset=1.59), time=1390.00.
Warning: Vehicle 'veh2884' ends teleporting on edge 'E_PNK_W_WZM', time=1392.00.
Warning: Teleporting vehicle 'veh2947'; collision with vehicle 'veh2935', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=1394.00, stage=move.
Warning: Vehicle 'veh2947' ends teleporting on edge 'E_PNK_W_WZM_T', time=1394.00.
INFO:TrafficSimulator:Step 1400: 550 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh2820' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1415.00.
Warning: Vehicle 'veh2820' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-14.07, offset=0.65), time=1415.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh3305' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1475.00.
Warning: Vehicle 'veh3305' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.90, offset=7.54), time=1475.00.
Warning: Vehicle 'veh3287' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1475.00.
Warning: Vehicle 'veh3287' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-14.14, offset=4.47), time=1475.00.
Warning: Teleporting vehicle 'veh3239'; collision with vehicle 'veh3070', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=1476.00, stage=move.
Warning: Vehicle 'veh3239' ends teleporting on edge 'E_PNK_W_WZM_T', time=1476.00.
Warning: Teleporting vehicle 'veh3195'; collision with vehicle 'veh3132', lane='E_GOR_W_NMR_H_s_1', gap=-5.71, time=1479.00, stage=move.
Warning: Vehicle 'veh3195' ends teleporting on edge 'E_PNK_W_WZM_T', time=1479.00.
Warning: Vehicle 'veh3437' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh3437' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.73, offset=0.64), time=1480.00.
Warning: Vehicle 'veh3444' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh3429' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh3429' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.62, offset=2.19), time=1480.00.
Warning: Teleporting vehicle 'veh3225'; collision with vehicle 'veh3221', lane='E_GOR_W_NMR_H_s_1', gap=-4.32, time=1487.00, stage=move.
Warning: Vehicle 'veh3225' ends teleporting on edge 'E_PNK_W_WZM_T', time=1488.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3268'; collision with vehicle 'veh3247', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=1500.00, stage=move.
Warning: Vehicle 'veh3268' ends teleporting on edge 'E_PNK_W_WZM_T', time=1500.00.
INFO:TrafficSimulator:Step 1500: 571 vehicles active
Warning: Teleporting vehicle 'veh3292'; collision with vehicle 'veh3369', lane='E_GOR_W_NMR_H_s_1', gap=-5.93, time=1504.00, stage=move.
Warning: Vehicle 'veh3292' ends teleporting on edge 'E_PNK_W_WZM_T', time=1504.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh3318' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3318' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-18.46, offset=1.12), time=1530.00.
Warning: Vehicle 'veh3472' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh3472' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.19, offset=0.48), time=1530.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh3562' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3433' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3433' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-19.44, offset=3.48), time=1565.00.
Warning: Teleporting vehicle 'veh3367'; collision with vehicle 'veh3340', lane='E_GOR_W_NMR_H_s_1', gap=-6.38, time=1565.00, stage=move.
Warning: Vehicle 'veh3367' ends teleporting on edge 'E_PNK_W_WZM_T', time=1567.00.
Warning: Teleporting vehicle 'veh3391'; collision with vehicle 'veh3301', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=1568.00, stage=move.
Warning: Vehicle 'veh3391' ends teleporting on edge 'E_PNK_W_WZM_T', time=1569.00.
Warning: Teleporting vehicle 'veh3396'; collision with vehicle 'veh3406', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=1571.00, stage=move.
Warning: Vehicle 'veh3396' ends teleporting on edge 'E_PNK_W_WZM_T', time=1574.00.
Warning: Teleporting vehicle 'veh3442'; collision with vehicle 'veh3466', lane='E_GOR_W_NMR_H_s_1', gap=-5.19, time=1580.00, stage=move.
Warning: Vehicle 'veh3442' ends teleporting on edge 'E_PNK_W_WZM_T', time=1581.00.
Warning: Teleporting vehicle 'veh3473'; collision with vehicle 'veh3199', lane='E_GOR_W_NMR_H_s_1', gap=-5.62, time=1587.00, stage=move.
Warning: Vehicle 'veh3473' ends teleporting on edge 'E_PNK_W_WZM_T', time=1587.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh3675' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1600.00.
INFO:TrafficSimulator:Step 1600: 568 vehicles active
Warning: Vehicle 'veh3675' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-12.51, offset=1.77), time=1601.00.
Warning: Vehicle 'veh3583' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1605.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3702' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1649.00.
Warning: Vehicle 'veh3702' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-13.94, offset=0.13), time=1649.00.
Warning: Vehicle 'veh3877' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1649.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3610'; collision with vehicle 'veh3611', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=1655.00, stage=move.
Warning: Vehicle 'veh3610' ends teleporting on edge 'E_PNK_W_WZM_T', time=1655.00.
Warning: Teleporting vehicle 'veh3472'; collision with vehicle 'veh3482', lane='E_GOR_W_NMR_H_s_1', gap=-4.60, time=1658.00, stage=move.
Warning: Vehicle 'veh3692' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1660.00.
Warning: Vehicle 'veh3692' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-16.03, offset=0.91), time=1660.00.
Warning: Teleporting vehicle 'veh3556'; collision with vehicle 'veh3495', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=1662.00, stage=move.
Warning: Vehicle 'veh3472' ends teleporting on edge 'E_PNK_W_WZM', time=1662.00.
Warning: Vehicle 'veh3556' ends teleporting on edge 'E_PNK_W_WZM_T', time=1663.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh3666' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1691.00.
Warning: Vehicle 'veh3666' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-20.48, offset=5.98), time=1691.00.
INFO:TrafficSimulator:Step 1700: 559 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh3786' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Vehicle 'veh3786' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-18.47, offset=3.94), time=1710.00.
Warning: Teleporting vehicle 'veh3608'; collision with vehicle 'veh3604', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=1726.00, stage=move.
Warning: Vehicle 'veh3608' ends teleporting on edge 'E_PNK_W_WZM_T', time=1726.00.
Warning: Vehicle 'veh3631' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1732.00.
Warning: Vehicle 'veh3627' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1732.00.
Warning: Vehicle 'veh3627' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.97, offset=1.42), time=1732.00.
Warning: Vehicle 'veh3997' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1739.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh4005' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1745.00.
Warning: Vehicle 'veh4005' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-10.23, offset=0.35), time=1746.00.
Warning: Vehicle 'veh4136' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1750.00.
Warning: Vehicle 'veh4136' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-11.98, offset=2.32), time=1750.00.
Warning: Teleporting vehicle 'veh3769'; collision with vehicle 'veh3871', lane='E_GOR_W_NMR_H_s_1', gap=-6.03, time=1752.00, stage=move.
Warning: Vehicle 'veh3769' ends teleporting on edge 'E_PNK_W_WZM_T', time=1752.00.
Warning: Teleporting vehicle 'veh3897'; collision with vehicle 'veh3902', lane='E_GOR_W_NMR_H_s_1', gap=-1.10, time=1756.00, stage=move.
Warning: Vehicle 'veh3897' ends teleporting on edge 'E_PNK_W_WZM_T', time=1757.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 561 vehicles active
Warning: Teleporting vehicle 'veh3844'; collision with vehicle 'veh3882', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=1817.00, stage=move.
Warning: Vehicle 'veh3844' ends teleporting on edge 'E_PNK_W_WZM_T', time=1817.00.
Warning: Vehicle 'veh4160' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1823.00.
Warning: Vehicle 'veh4160' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.55, offset=1.57), time=1823.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4023'; collision with vehicle 'veh3967', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=1838.00, stage=move.
Warning: Vehicle 'veh3798' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1840.00.
Warning: Vehicle 'veh3798' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.65, offset=8.77), time=1840.00.
Warning: Teleporting vehicle 'veh4057'; collision with vehicle 'veh4044', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=1841.00, stage=move.
Warning: Vehicle 'veh4023' ends teleporting on edge 'E_PNK_W_WZM', time=1841.00.
Warning: Vehicle 'veh4057' ends teleporting on edge 'E_PNK_W_WZM_T', time=1843.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
INFO:TrafficSimulator:Step 1900: 608 vehicles active
Warning: Vehicle 'veh4439' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1919.00.
Warning: Vehicle 'veh4439' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.34, offset=6.99), time=1919.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh4265' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1920.00.
Warning: Vehicle 'veh4265' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-18.26, offset=8.12), time=1920.00.
Warning: Vehicle 'veh4301' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Vehicle 'veh4301' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.72, offset=6.42), time=1925.00.
Warning: Vehicle 'veh4289' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Teleporting vehicle 'veh4298'; collision with vehicle 'veh4237', lane='E_GOR_W_NMR_H_s_1', gap=-3.39, time=1927.00, stage=move.
Warning: Vehicle 'veh4298' ends teleporting on edge 'E_PNK_W_WZM_T', time=1928.00.
Warning: Vehicle 'veh4585' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1930.00.
Warning: Vehicle 'veh4585' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.91, offset=1.29), time=1930.00.
Warning: Vehicle 'veh4582' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1930.00.
Warning: Vehicle 'veh4582' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-20.60, offset=10.46), time=1930.00.
Warning: Vehicle 'veh4576' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1930.00.
Warning: Vehicle 'veh4576' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.97, offset=4.74), time=1930.00.
Warning: Teleporting vehicle 'veh4272'; collision with vehicle 'veh4230', lane='E_GOR_W_NMR_H_s_1', gap=-2.61, time=1945.00, stage=move.
Warning: Vehicle 'veh4272' ends teleporting on edge 'E_PNK_W_WZM_T', time=1945.00.
Warning: Teleporting vehicle 'veh4360'; collision with vehicle 'veh4450', lane='E_GOR_W_NMR_H_s_1', gap=-2.96, time=1948.00, stage=move.
Warning: Vehicle 'veh4360' ends teleporting on edge 'E_PNK_W_WZM_T', time=1948.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh4562' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1961.00.
Warning: Vehicle 'veh4330' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1976.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
INFO:TrafficSimulator:Step 2000: 639 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Vehicle 'veh4523' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2015.00.
Warning: Vehicle 'veh4523' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-18.06, offset=6.50), time=2015.00.
Warning: Teleporting vehicle 'veh4353'; collision with vehicle 'veh4460', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=2015.00, stage=move.
Warning: Vehicle 'veh4353' ends teleporting on edge 'E_PNK_W_WZM', time=2018.00.
Warning: Teleporting vehicle 'veh4491'; collision with vehicle 'veh4566', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=2022.00, stage=move.
Warning: Vehicle 'veh4491' ends teleporting on edge 'E_PNK_W_WZM_T', time=2024.00.
Warning: Teleporting vehicle 'veh4619'; collision with vehicle 'veh4517', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=2025.00, stage=move.
Warning: Vehicle 'veh4619' ends teleporting on edge 'E_PNK_W_WZM', time=2028.00.
Warning: Teleporting vehicle 'veh4435'; collision with vehicle 'veh3963', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=2035.00, stage=move.
Warning: Vehicle 'veh4435' ends teleporting on edge 'E_PNK_W_WZM_T', time=2036.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4821' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2045.00.
Warning: Vehicle 'veh4821' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-19.90, offset=3.47), time=2045.00.
Warning: Vehicle 'veh4807' performs emergency braking on lane ':J31_3_2' with decel=9.00, wished=4.50, severity=1.00, time=2050.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4575'; collision with vehicle 'veh4530', lane='E_GOR_W_NMR_H_s_1', gap=-6.76, time=2070.00, stage=move.
Warning: Vehicle 'veh4575' ends teleporting on edge 'E_PNK_W_WZM_T', time=2070.00.
Warning: Teleporting vehicle 'veh4593'; collision with vehicle 'veh4568', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=2073.00, stage=move.
Warning: Vehicle 'veh4593' ends teleporting on edge 'E_PNK_W_WZM_T', time=2073.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 624 vehicles active
Warning: Teleporting vehicle 'veh4651'; collision with vehicle 'veh4614', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=2104.00, stage=move.
Warning: Vehicle 'veh4651' ends teleporting on edge 'E_PNK_W_WZM_T', time=2104.00.
Warning: Vehicle 'veh4827' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4827' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.71, offset=6.01), time=2105.00.
Warning: Vehicle 'veh4181' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4181' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.72, offset=4.57), time=2105.00.
Warning: Teleporting vehicle 'veh4634'; collision with vehicle 'veh4647', lane='E_GOR_W_NMR_H_s_1', gap=-5.37, time=2106.00, stage=move.
Warning: Vehicle 'veh4634' ends teleporting on edge 'E_PNK_W_WZM', time=2110.00.
Warning: Teleporting vehicle 'veh4802'; collision with vehicle 'veh4804', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=2112.00, stage=move.
Warning: Vehicle 'veh4802' ends teleporting on edge 'E_PNK_W_WZM_T', time=2112.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh5064' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2189.00.
Warning: Vehicle 'veh5064' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-15.37, offset=0.76), time=2189.00.
Warning: Vehicle 'veh5102' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2189.00.
Warning: Vehicle 'veh5102' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-19.21, offset=8.49), time=2189.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Vehicle 'veh4348' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2195.00.
Warning: Teleporting vehicle 'veh4891'; collision with vehicle 'veh4864', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=2195.00, stage=move.
Warning: Vehicle 'veh4891' ends teleporting on edge 'E_PNK_W_WZM_T', time=2197.00.
Warning: Teleporting vehicle 'veh4895'; collision with vehicle 'veh4937', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2199.00, stage=move.
Warning: Vehicle 'veh4895' ends teleporting on edge 'E_PNK_W_WZM_T', time=2199.00.
INFO:TrafficSimulator:Step 2200: 635 vehicles active
Warning: Teleporting vehicle 'veh5018'; collision with vehicle 'veh4949', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2201.00, stage=move.
Warning: Vehicle 'veh5018' ends teleporting on edge 'E_PNK_W_WZM', time=2205.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Vehicle 'veh5302' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2279.00.
Warning: Vehicle 'veh5302' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-14.70, offset=0.09), time=2279.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5157'; collision with vehicle 'veh4421', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=2285.00, stage=move.
Warning: Vehicle 'veh5157' ends teleporting on edge 'E_PNK_W_WZM', time=2288.00.
Warning: Teleporting vehicle 'veh5162'; collision with vehicle 'veh5196', lane='E_GOR_W_NMR_H_s_1', gap=-3.48, time=2294.00, stage=move.
Warning: Vehicle 'veh5162' ends teleporting on edge 'E_PNK_W_WZM_T', time=2295.00.
Warning: Teleporting vehicle 'veh5248'; collision with vehicle 'veh5199', lane='E_GOR_W_NMR_H_s_1', gap=-1.87, time=2297.00, stage=move.
Warning: Vehicle 'veh5248' ends teleporting on edge 'E_PNK_W_WZM_T', time=2297.00.
INFO:TrafficSimulator:Step 2300: 621 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh5587' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2375.00.
Warning: Vehicle 'veh5587' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.35, offset=6.13), time=2375.00.
Warning: Teleporting vehicle 'veh5420'; collision with vehicle 'veh5407', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2375.00, stage=move.
Warning: Vehicle 'veh5420' ends teleporting on edge 'E_PNK_W_WZM_T', time=2375.00.
Warning: Teleporting vehicle 'veh5261'; collision with vehicle 'veh5424', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=2378.00, stage=move.
Warning: Vehicle 'veh5261' ends teleporting on edge 'E_PNK_W_WZM_T', time=2378.00.
Warning: Vehicle 'veh4646' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2380.00.
Warning: Teleporting vehicle 'veh5232'; collision with vehicle 'veh5483', lane='E_GOR_W_NMR_H_s_1', gap=-4.60, time=2381.00, stage=move.
Warning: Vehicle 'veh5232' ends teleporting on edge 'E_PNK_W_WZM_T', time=2383.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 586 vehicles active
Warning: Vehicle 'veh5339' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2410.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh5736' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=2430.00.
Warning: Vehicle 'veh5736' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.34, offset=1.04), time=2430.00.
Warning: Vehicle 'veh5817' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh5762' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Vehicle 'veh5762' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.19, offset=5.41), time=2465.00.
Warning: Vehicle 'veh5763' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Vehicle 'veh5763' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-11.13, offset=0.83), time=2466.00.
Warning: Teleporting vehicle 'veh5273'; collision with vehicle 'veh5303', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=2466.00, stage=move.
Warning: Vehicle 'veh5273' ends teleporting on edge 'E_PNK_W_WZM_T', time=2468.00.
Warning: Vehicle 'veh5931' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2470.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
Warning: Vehicle 'veh5949' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2495.00.
Warning: Vehicle 'veh5949' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-20.46, offset=4.58), time=2495.00.
INFO:TrafficSimulator:Step 2500: 585 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh5974' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2544.00.
Warning: Vehicle 'veh5974' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.29, offset=2.65), time=2544.00.
Warning: Vehicle 'veh5520' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2546.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Vehicle 'veh5087' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Vehicle 'veh5087' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.62, offset=5.57), time=2555.00.
Warning: Vehicle 'veh6146' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2560.00.
Warning: Vehicle 'veh6146' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-10.00, offset=0.85), time=2561.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh5684' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2581.00.
Warning: Vehicle 'veh5684' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.37, offset=1.36), time=2581.00.
INFO:TrafficSimulator:Step 2600: 615 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh5996' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2610.00.
Warning: Vehicle 'veh5996' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.07, offset=7.79), time=2610.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5834'; collision with vehicle 'veh5797', lane='E_GOR_W_NMR_H_s_1', gap=-6.08, time=2645.00, stage=move.
Warning: Vehicle 'veh5834' ends teleporting on edge 'E_PNK_W_WZM_T', time=2647.00.
Warning: Teleporting vehicle 'veh5974'; collision with vehicle 'veh5871', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=2650.00, stage=move.
Warning: Vehicle 'veh5974' ends teleporting on edge 'E_PNK_W_WZM', time=2654.00.
Warning: Vehicle 'veh6033' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2655.00.
Warning: Teleporting vehicle 'veh6059'; collision with vehicle 'veh6071', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=2658.00, stage=move.
Warning: Vehicle 'veh6059' ends teleporting on edge 'E_PNK_W_WZM', time=2661.00.
Warning: Vehicle 'veh6266' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2669.00.
Warning: Vehicle 'veh6266' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.43, offset=3.04), time=2669.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh6267' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2680.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 629 vehicles active
Warning: Vehicle 'veh6453' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2729.00.
Warning: Vehicle 'veh6453' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.52, offset=0.14), time=2729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6038' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2730.00.
Warning: Vehicle 'veh6038' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-15.39, offset=2.65), time=2730.00.
Warning: Teleporting vehicle 'veh6020'; collision with vehicle 'veh5969', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=2735.00, stage=move.
Warning: Vehicle 'veh6020' ends teleporting on edge 'E_PNK_W_WZM', time=2738.00.
Warning: Vehicle 'veh6604' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2743.00.
Warning: Vehicle 'veh6156' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2755.00.
Warning: Vehicle 'veh6156' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.06, offset=0.33), time=2755.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
INFO:TrafficSimulator:Step 2800: 636 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6568' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2829.00.
Warning: Vehicle 'veh6568' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.65, offset=2.32), time=2829.00.
Warning: Teleporting vehicle 'veh6388'; collision with vehicle 'veh6276', lane='E_GOR_W_NMR_H_s_1', gap=-3.49, time=2839.00, stage=move.
Warning: Vehicle 'veh6388' ends teleporting on edge 'E_PNK_W_WZM_T', time=2839.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Vehicle 'veh6834' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2855.00.
Warning: Vehicle 'veh6834' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-12.95, offset=3.04), time=2855.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh6802' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh6953' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh6953' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.59, offset=2.90), time=2880.00.
Warning: Teleporting vehicle 'veh6571'; collision with vehicle 'veh6358', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=2894.00, stage=move.
Warning: Vehicle 'veh6571' ends teleporting on edge 'E_PNK_W_WZM_T', time=2894.00.
INFO:TrafficSimulator:Step 2900: 644 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh6798' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2910.00.
Warning: Vehicle 'veh6798' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-15.56, offset=1.49), time=2910.00.
Warning: Vehicle 'veh6873' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
Warning: Vehicle 'veh6873' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.21, offset=6.50), time=2915.00.
Warning: Teleporting vehicle 'veh6509'; collision with vehicle 'veh6424', lane='E_GOR_W_NMR_H_s_1', gap=-5.82, time=2916.00, stage=move.
Warning: Vehicle 'veh6509' ends teleporting on edge 'E_PNK_W_WZM_T', time=2916.00.
Warning: Teleporting vehicle 'veh6595'; collision with vehicle 'veh6584', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=2921.00, stage=move.
Warning: Vehicle 'veh6595' ends teleporting on edge 'E_PNK_W_WZM_T', time=2921.00.
Warning: Vehicle 'veh5554' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2922.00.
Warning: Vehicle 'veh5554' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-20.46, offset=9.75), time=2922.00.
Warning: Teleporting vehicle 'veh6738'; collision with vehicle 'veh6605', lane='E_GOR_W_NMR_H_s_1', gap=-4.93, time=2927.00, stage=move.
Warning: Vehicle 'veh6738' ends teleporting on edge 'E_PNK_W_WZM_T', time=2927.00.
Warning: Teleporting vehicle 'veh6660'; collision with vehicle 'veh6738', lane='E_PNK_W_WZM_T_0', gap=-1.37, time=2928.00, stage=move.
Warning: Vehicle 'veh6660' ends teleporting on edge 'E_PNK_W_WZM', time=2928.00.
Warning: Teleporting vehicle 'veh6683'; collision with vehicle 'veh6624', lane='E_GOR_W_NMR_H_s_1', gap=-1.33, time=2929.00, stage=move.
Warning: Teleporting vehicle 'veh6629'; collision with vehicle 'veh6649', lane='E_GOR_W_NMR_H_s_1', gap=-3.58, time=2931.00, stage=move.
Warning: Vehicle 'veh6683' ends teleporting on edge 'E_PNK_W_WZM', time=2933.00.
Warning: Teleporting vehicle 'veh6719'; collision with vehicle 'veh6647', lane='E_GOR_W_NMR_H_s_1', gap=-4.07, time=2936.00, stage=move.
Warning: Vehicle 'veh6719' ends teleporting on edge 'E_PNK_W_WZM_T', time=2937.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh7074' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2945.00.
Warning: Vehicle 'veh7074' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-21.28, offset=7.84), time=2945.00.
Warning: Vehicle 'veh6629' ends teleporting on edge 'E_WZM_S', time=2969.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Vehicle 'veh7089' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2970.00.
Warning: Vehicle 'veh7089' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.98, offset=0.41), time=2970.00.
Warning: Teleporting vehicle 'veh6883'; collision with vehicle 'veh6886', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=2987.00, stage=move.
Warning: Vehicle 'veh6883' ends teleporting on edge 'E_PNK_W_WZM_T', time=2987.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Vehicle 'veh6490' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3000.00.
Warning: Vehicle 'veh6490' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-12.58, offset=1.50), time=3000.00.
INFO:TrafficSimulator:Step 3000: 639 vehicles active
Warning: Teleporting vehicle 'veh6903'; collision with vehicle 'veh6794', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=3005.00, stage=move.
Warning: Vehicle 'veh6903' ends teleporting on edge 'E_PNK_W_WZM_T', time=3005.00.
Warning: Vehicle 'veh7153' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3007.00.
Warning: Vehicle 'veh7153' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.79, offset=1.70), time=3007.00.
Warning: Teleporting vehicle 'veh6864'; collision with vehicle 'veh6909', lane='E_GOR_W_NMR_H_s_1', gap=-4.43, time=3011.00, stage=move.
Warning: Vehicle 'veh6864' ends teleporting on edge 'E_PNK_W_WZM_T', time=3011.00.
Warning: Teleporting vehicle 'veh6993'; collision with vehicle 'veh7080', lane='E_GOR_W_NMR_H_s_1', gap=-3.18, time=3017.00, stage=move.
Warning: Vehicle 'veh6993' ends teleporting on edge 'E_PNK_W_WZM_T', time=3017.00.
Warning: Teleporting vehicle 'veh6980'; collision with vehicle 'veh6946', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=3019.00, stage=move.
Warning: Vehicle 'veh6980' ends teleporting on edge 'E_PNK_W_WZM_T', time=3019.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7119'; collision with vehicle 'veh7117', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=3030.00, stage=move.
Warning: Vehicle 'veh7119' ends teleporting on edge 'E_PNK_W_WZM_T', time=3031.00.
Warning: Teleporting vehicle 'veh6998'; collision with vehicle 'veh7066', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=3055.00, stage=move.
Warning: Vehicle 'veh6998' ends teleporting on edge 'E_PNK_W_WZM_T', time=3055.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7178'; collision with vehicle 'veh7089', lane='E_GOR_W_NMR_H_s_1', gap=-4.96, time=3068.00, stage=move.
Warning: Vehicle 'veh7178' ends teleporting on edge 'E_PNK_W_WZM_T', time=3068.00.
Warning: Vehicle 'veh7380' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3089.00.
Warning: Vehicle 'veh7380' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.16, offset=7.22), time=3089.00.
Warning: Vehicle 'veh7353' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3089.00.
Warning: Vehicle 'veh7353' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.13, offset=5.75), time=3089.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Vehicle 'veh7281' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3090.00.
Warning: Vehicle 'veh7281' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.97, offset=4.95), time=3090.00.
Warning: Teleporting vehicle 'veh7271'; collision with vehicle 'veh7299', lane='E_GOR_W_NMR_H_s_1', gap=-4.94, time=3098.00, stage=move.
Warning: Vehicle 'veh7271' ends teleporting on edge 'E_PNK_W_WZM_T', time=3098.00.
INFO:TrafficSimulator:Step 3100: 625 vehicles active
Warning: Vehicle 'veh6154' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3102.00.
Warning: Vehicle 'veh6154' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.29, offset=3.04), time=3102.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh7555' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3150.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7355'; collision with vehicle 'veh7370', lane='E_GOR_W_NMR_H_s_1', gap=-5.69, time=3188.00, stage=move.
Warning: Vehicle 'veh6285' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3191.00.
Warning: Vehicle 'veh6285' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.81, offset=8.18), time=3191.00.
Warning: Vehicle 'veh7599' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3191.00.
Warning: Teleporting vehicle 'veh7354'; collision with vehicle 'veh7364', lane='E_GOR_W_NMR_H_s_1', gap=-1.11, time=3191.00, stage=move.
Warning: Vehicle 'veh7355' ends teleporting on edge 'E_PNK_W_WZM', time=3191.00.
Warning: Vehicle 'veh7354' ends teleporting on edge 'E_PNK_W_WZM', time=3194.00.
Warning: Vehicle 'veh7488' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3195.00.
Warning: Vehicle 'veh7521' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3195.00.
Warning: Vehicle 'veh7770' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3195.00.
Warning: Vehicle 'veh7770' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-9.56, offset=0.53), time=3195.00.
INFO:TrafficSimulator:Step 3200: 631 vehicles active
Warning: Teleporting vehicle 'veh7525'; collision with vehicle 'veh7571', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=3209.00, stage=move.
Warning: Vehicle 'veh7525' ends teleporting on edge 'E_PNK_W_WZM_T', time=3209.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7543'; collision with vehicle 'veh7583', lane='E_GOR_W_NMR_H_s_1', gap=-3.72, time=3211.00, stage=move.
Warning: Vehicle 'veh7543' ends teleporting on edge 'E_PNK_W_WZM_T', time=3211.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh7728' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Vehicle 'veh7728' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.51, offset=0.98), time=3240.00.
Warning: Vehicle 'veh7876' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3269.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7665'; collision with vehicle 'veh7642', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=3275.00, stage=move.
Warning: Vehicle 'veh7665' ends teleporting on edge 'E_PNK_W_WZM_T', time=3275.00.
Warning: Teleporting vehicle 'veh7653'; collision with vehicle 'veh7683', lane='E_GOR_W_NMR_H_s_1', gap=-6.47, time=3278.00, stage=move.
Warning: Vehicle 'veh7653' ends teleporting on edge 'E_PNK_W_WZM_T', time=3280.00.
Warning: Teleporting vehicle 'veh7627'; collision with vehicle 'veh7677', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=3283.00, stage=move.
Warning: Vehicle 'veh8002' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3285.00.
Warning: Teleporting vehicle 'veh7643'; collision with vehicle 'veh7630', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=3285.00, stage=move.
Warning: Vehicle 'veh8002' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-10.37, offset=0.72), time=3286.00.
Warning: Vehicle 'veh7627' ends teleporting on edge 'E_PNK_W_WZM', time=3287.00.
Warning: Vehicle 'veh7643' ends teleporting on edge 'E_PNK_W_WZM_T', time=3287.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 621 vehicles active
Warning: Vehicle 'veh7957' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3310.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7961'; collision with vehicle 'veh7929', lane='E_GOR_W_NMR_H_s_1', gap=-4.76, time=3336.00, stage=move.
Warning: Vehicle 'veh7961' ends teleporting on edge 'E_PNK_W_WZM_T', time=3336.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh8041' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3373.00.
Warning: Vehicle 'veh8038' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=3386.00.
Warning: Vehicle 'veh8038' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-10.63, offset=0.08), time=3386.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Vehicle 'veh8044' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3390.00.
Warning: Vehicle 'veh8044' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.99, offset=0.08), time=3390.00.
INFO:TrafficSimulator:Step 3400: 601 vehicles active
Warning: Teleporting vehicle 'veh8222'; collision with vehicle 'veh8123', lane='E_GOR_W_NMR_H_s_1', gap=-6.21, time=3410.00, stage=move.
Warning: Vehicle 'veh8222' ends teleporting on edge 'E_PNK_W_WZM_T', time=3410.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh8330' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3449.00.
Warning: Vehicle 'veh8330' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.09, offset=1.64), time=3449.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Vehicle 'veh8213' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3450.00.
Warning: Teleporting vehicle 'veh7965'; collision with vehicle 'veh7944', lane='E_GOR_W_NMR_H_s_1', gap=-6.03, time=3458.00, stage=move.
Warning: Vehicle 'veh7965' ends teleporting on edge 'E_PNK_W_WZM', time=3461.00.
Warning: Teleporting vehicle 'veh8183'; collision with vehicle 'veh8202', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=3465.00, stage=move.
Warning: Vehicle 'veh8183' ends teleporting on edge 'E_PNK_W_WZM_T', time=3466.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
INFO:TrafficSimulator:Step 3500: 612 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh8252' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3510.00.
Warning: Teleporting vehicle 'veh8306'; collision with vehicle 'veh8356', lane='E_GOR_W_NMR_H_s_1', gap=-0.02, time=3510.00, stage=move.
Warning: Vehicle 'veh8306' ends teleporting on edge 'E_PNK_W_WZM_T', time=3510.00.
Warning: Vehicle 'veh6911' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3532.00.
Warning: Teleporting vehicle 'veh8055'; collision with vehicle 'veh8110', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3537.00, stage=move.
Warning: Vehicle 'veh8055' ends teleporting on edge 'E_PNK_W_WZM_T', time=3537.00.
Warning: Vehicle 'veh8476' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3539.00.
Warning: Vehicle 'veh8476' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-14.10, offset=2.29), time=3539.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh8254' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3576.00.
Warning: Vehicle 'veh8254' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.57, offset=3.73), time=3576.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
INFO:TrafficSimulator:Step 3600: 639 vehicles active
Warning: Teleporting vehicle 'veh8507'; collision with vehicle 'veh8556', lane='E_GOR_W_NMR_H_s_1', gap=-4.89, time=3608.00, stage=move.
Warning: Vehicle 'veh8507' ends teleporting on edge 'E_PNK_W_WZM_T', time=3608.00.
Warning: Vehicle 'veh8755' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3629.00.
Warning: Vehicle 'veh8755' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.55, offset=1.94), time=3629.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Vehicle 'veh8922' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3645.00.
Warning: Vehicle 'veh8922' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.06, offset=5.89), time=3645.00.
Warning: Teleporting vehicle 'veh8479'; collision with vehicle 'veh8539', lane='E_GOR_W_NMR_H_s_1', gap=-4.22, time=3649.00, stage=move.
Warning: Vehicle 'veh8479' ends teleporting on edge 'E_PNK_W_WZM_T', time=3649.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh8943' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3660.00.
Warning: Vehicle 'veh8943' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-20.49, offset=5.64), time=3660.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 634 vehicles active
Warning: Vehicle 'veh8662' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3707.00.
Warning: Vehicle 'veh8662' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.87, offset=2.48), time=3707.00.
Warning: Vehicle 'veh8973' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3719.00.
Warning: Vehicle 'veh8964' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3719.00.
Warning: Vehicle 'veh8964' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-15.96, offset=3.73), time=3719.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8626'; collision with vehicle 'veh8629', lane='E_GOR_W_NMR_H_s_1', gap=-3.23, time=3727.00, stage=move.
Warning: Vehicle 'veh8626' ends teleporting on edge 'E_PNK_W_WZM_T', time=3728.00.
Warning: Vehicle 'veh8422' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3735.00.
Warning: Vehicle 'veh8422' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.46, offset=7.16), time=3735.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh8732' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3757.00.
Warning: Vehicle 'veh8732' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-19.01, offset=2.56), time=3757.00.
Warning: Vehicle 'veh9023' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3760.00.
Warning: Vehicle 'veh9023' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-12.42, offset=3.26), time=3760.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 644 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8719'; collision with vehicle 'veh8720', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=3816.00, stage=move.
Warning: Vehicle 'veh8719' ends teleporting on edge 'E_PNK_W_WZM', time=3819.00.
Warning: Teleporting vehicle 'veh8738'; collision with vehicle 'veh8832', lane='E_GOR_W_NMR_H_s_1', gap=-5.75, time=3821.00, stage=move.
Warning: Vehicle 'veh8738' ends teleporting on edge 'E_PNK_W_WZM_T', time=3821.00.
Warning: Teleporting vehicle 'veh8842'; collision with vehicle 'veh8756', lane='E_GOR_W_NMR_H_s_1', gap=-0.96, time=3823.00, stage=move.
Warning: Vehicle 'veh8842' ends teleporting on edge 'E_PNK_W_WZM_T', time=3825.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh9041' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3870.00.
Warning: Vehicle 'veh9041' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.88, offset=0.52), time=3870.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8965'; collision with vehicle 'veh8982', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=3900.00, stage=move.
Warning: Vehicle 'veh8965' ends teleporting on edge 'E_PNK_W_WZM_T', time=3900.00.
INFO:TrafficSimulator:Step 3900: 629 vehicles active
Warning: Vehicle 'veh9206' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3915.00.
Warning: Vehicle 'veh9206' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.92, offset=1.51), time=3915.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh9472' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3930.00.
Warning: Vehicle 'veh9472' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-19.65, offset=7.52), time=3930.00.
Warning: Vehicle 'veh8978' performs emergency braking on lane 'E_PNK_W_WZM_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3945.00.
Warning: Vehicle 'veh9508' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3950.00.
Warning: Vehicle 'veh9508' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-9.49, offset=0.44), time=3950.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Vehicle 'veh9449' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3960.00.
Warning: Vehicle 'veh9449' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-16.83, offset=6.94), time=3960.00.
Warning: Vehicle 'veh9724' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3989.00.
Warning: Vehicle 'veh9724' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-15.91, offset=3.55), time=3989.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
INFO:TrafficSimulator:Step 4000: 597 vehicles active
Warning: Teleporting vehicle 'veh8926'; collision with vehicle 'veh9130', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=4001.00, stage=move.
Warning: Vehicle 'veh9677' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=4002.00.
Warning: Vehicle 'veh9677' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-13.24, offset=1.95), time=4002.00.
Warning: Vehicle 'veh8926' ends teleporting on edge 'E_PNK_W_WZM', time=4004.00.
Warning: Vehicle 'veh9747' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4005.00.
Warning: Vehicle 'veh9747' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.59, offset=3.55), time=4005.00.
Warning: Vehicle 'veh9584' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4005.00.
Warning: Vehicle 'veh9584' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.47, offset=0.65), time=4005.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh9720' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4029.00.
Warning: Vehicle 'veh9720' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.71, offset=4.42), time=4029.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh9442' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Vehicle 'veh9442' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.70, offset=1.39), time=4050.00.
Warning: Teleporting vehicle 'veh9548'; collision with vehicle 'veh9547', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4053.00, stage=move.
Warning: Vehicle 'veh9548' ends teleporting on edge 'E_PNK_W_WZM_T', time=4053.00.
Warning: Vehicle 'veh9923' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4079.00.
Warning: Vehicle 'veh9923' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-15.45, offset=6.20), time=4079.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Vehicle 'veh9337' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4095.00.
Warning: Vehicle 'veh10128' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4095.00.
Warning: Vehicle 'veh10128' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.59, offset=2.57), time=4095.00.
Warning: Vehicle 'veh9337' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-14.17, offset=1.06), time=4096.00.
INFO:TrafficSimulator:Step 4100: 596 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh9904' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4118.00.
Warning: Vehicle 'veh4047' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=4120.00.
Warning: Vehicle 'veh4047' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_1' because of a red traffic light (decel=-12.90, offset=1.50), time=4120.00.
Warning: Vehicle 'veh5718' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=4120.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh9469' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
Warning: Teleporting vehicle 'veh9705'; collision with vehicle 'veh9778', lane='E_GOR_W_NMR_H_s_1', gap=-0.22, time=4142.00, stage=move.
Warning: Vehicle 'veh9705' ends teleporting on edge 'E_PNK_W_WZM_T', time=4142.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Vehicle 'veh9800' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4170.00.
Warning: Vehicle 'veh9800' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-13.16, offset=3.25), time=4170.00.
Warning: Teleporting vehicle 'veh9382'; collision with vehicle 'veh9501', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4171.00, stage=move.
Warning: Vehicle 'veh10054' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=4174.00.
Warning: Vehicle 'veh10054' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-13.14, offset=2.09), time=4174.00.
Warning: Vehicle 'veh9382' ends teleporting on edge 'E_PNK_W_WZM', time=4174.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 592 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh9663' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh9663' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.65, offset=0.31), time=4230.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9381'; collision with vehicle 'veh9314', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=4268.00, stage=move.
Warning: Vehicle 'veh9381' ends teleporting on edge 'E_PNK_W_WZM_T', time=4268.00.
Warning: Vehicle 'veh9507' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4275.00.
Warning: Vehicle 'veh9507' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.50, offset=2.33), time=4275.00.
Warning: Vehicle 'veh9502' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4275.00.
Warning: Vehicle 'veh9502' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-19.63, offset=5.24), time=4275.00.
Warning: Teleporting vehicle 'veh9493'; collision with vehicle 'veh9467', lane='E_GOR_W_NMR_H_s_1', gap=-6.29, time=4278.00, stage=move.
Warning: Vehicle 'veh9493' ends teleporting on edge 'E_PNK_W_WZM_T', time=4278.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh5879' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4290.00.
Warning: Vehicle 'veh5879' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.53, offset=1.30), time=4290.00.
Warning: Vehicle 'veh10383' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4298.00.
Warning: Vehicle 'veh10383' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-17.61, offset=1.66), time=4298.00.
Warning: Vehicle 'veh10338' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4298.00.
Warning: Vehicle 'veh10338' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.44, offset=2.23), time=4298.00.
Warning: Vehicle 'veh6693' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=4299.00.
Warning: Vehicle 'veh5092' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=4300.00.
Warning: Vehicle 'veh5092' performs emergency stop at the end of lane 'E_PNK_E_WZM_H_slr_0' because of a red traffic light (decel=-11.47, offset=2.29), time=4300.00.
INFO:TrafficSimulator:Step 4300: 615 vehicles active
Warning: Vehicle 'veh10640' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4309.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
Warning: Vehicle 'veh10612' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4341.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9822'; collision with vehicle 'veh9700', lane='E_GOR_W_NMR_H_s_1', gap=-3.51, time=4380.00, stage=move.
Warning: Vehicle 'veh9822' ends teleporting on edge 'E_PNK_W_WZM_T', time=4380.00.
INFO:TrafficSimulator:Step 4400: 654 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Vehicle 'veh7739' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4447.00.
Warning: Vehicle 'veh7739' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.60, offset=2.15), time=4447.00.
Warning: Vehicle 'veh10765' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4455.00.
Warning: Vehicle 'veh10731' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4455.00.
Warning: Vehicle 'veh10731' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.62, offset=3.85), time=4455.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10081'; collision with vehicle 'veh10020', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=4473.00, stage=move.
Warning: Vehicle 'veh10081' ends teleporting on edge 'E_PNK_W_WZM_T', time=4473.00.
Warning: Vehicle 'veh10900' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4478.00.
Warning: Vehicle 'veh10900' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.28, offset=5.19), time=4478.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh10978' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh10978' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.22, offset=2.99), time=4500.00.
Warning: Vehicle 'veh10397' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
INFO:TrafficSimulator:Step 4500: 708 vehicles active
Warning: Teleporting vehicle 'veh10867'; collision with vehicle 'veh10882', lane='E_GOR_W_NMR_H_s_1', gap=-2.47, time=4503.00, stage=move.
Warning: Vehicle 'veh10867' ends teleporting on edge 'E_PNK_W_WZM_T', time=4503.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Vehicle 'veh10953' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4545.00.
Warning: Vehicle 'veh10953' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-10.39, offset=0.94), time=4545.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh5630' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4560.00.
Warning: Vehicle 'veh11180' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4565.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
INFO:TrafficSimulator:Step 4600: 752 vehicles active
Warning: Teleporting vehicle 'veh11225'; collision with vehicle 'veh11349', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=4614.00, stage=move.
Warning: Vehicle 'veh11225' ends teleporting on edge 'E_PNK_W_WZM_T', time=4614.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Vehicle 'veh10566' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4628.00.
Warning: Vehicle 'veh10566' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.46, offset=0.26), time=4628.00.
Warning: Vehicle 'veh10842' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4630.00.
Warning: Vehicle 'veh11574' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4638.00.
Warning: Vehicle 'veh11574' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-19.41, offset=2.47), time=4638.00.
Warning: Vehicle 'veh11565' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4638.00.
Warning: Vehicle 'veh11565' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-17.78, offset=5.06), time=4638.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh5796' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4650.00.
Warning: Vehicle 'veh11589' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=4659.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Vehicle 'veh11664' performs emergency braking on lane 'E_YMK_E_WZM_H_slr_0' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh11664' performs emergency stop at the end of lane 'E_YMK_E_WZM_H_slr_0' because of a red traffic light (decel=-9.59, offset=0.03), time=4680.00.
INFO:TrafficSimulator:Step 4700: 773 vehicles active
Warning: Teleporting vehicle 'veh10802'; collision with vehicle 'veh10881', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=4709.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10848'; collision with vehicle 'veh11010', lane='E_GOR_W_NMR_H_s_1', gap=-5.81, time=4712.00, stage=move.
Warning: Vehicle 'veh10848' ends teleporting on edge 'E_PNK_W_WZM_T', time=4712.00.
Warning: Vehicle 'veh10802' ends teleporting on edge 'E_PNK_W_WZM', time=4713.00.
Warning: Teleporting vehicle 'veh10830'; collision with vehicle 'veh10854', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=4728.00, stage=move.
Warning: Vehicle 'veh10830' ends teleporting on edge 'E_PNK_W_WZM_T', time=4728.00.
Warning: Vehicle 'veh11073' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4732.00.
Warning: Vehicle 'veh11670' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4732.00.
Warning: Vehicle 'veh11670' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.56, offset=2.43), time=4732.00.
Warning: Teleporting vehicle 'veh10856'; collision with vehicle 'veh10826', lane='E_GOR_W_NMR_H_s_1', gap=-6.36, time=4732.00, stage=move.
Warning: Teleporting vehicle 'veh10928'; collision with vehicle 'veh10908', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=4735.00, stage=move.
Warning: Vehicle 'veh10856' ends teleporting on edge 'E_PNK_W_WZM_T', time=4736.00.
Warning: Vehicle 'veh10928' ends teleporting on edge 'E_PNK_W_WZM_T', time=4736.00.
Warning: Teleporting vehicle 'veh10930'; collision with vehicle 'veh10944', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=4739.00, stage=move.
Warning: Vehicle 'veh10930' ends teleporting on edge 'E_PNK_W_WZM_T', time=4739.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh6094' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4740.00.
Warning: Vehicle 'veh6094' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-21.66, offset=5.47), time=4740.00.
Warning: Vehicle 'veh11798' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=4742.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh10795' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Teleporting vehicle 'veh10973'; collision with vehicle 'veh11039', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=4790.00, stage=move.
Warning: Teleporting vehicle 'veh11589'; collision with vehicle 'veh11089', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=4793.00, stage=move.
Warning: Vehicle 'veh10973' ends teleporting on edge 'E_PNK_W_WZM', time=4793.00.
Warning: Vehicle 'veh11589' ends teleporting on edge 'E_PNK_W_WZM', time=4796.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
Warning: Vehicle 'veh11725' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4800.00.
Warning: Vehicle 'veh11725' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-12.37, offset=2.96), time=4800.00.
INFO:TrafficSimulator:Step 4800: 759 vehicles active
Warning: Vehicle 'veh11192' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4804.00.
Warning: Teleporting vehicle 'veh11342'; collision with vehicle 'veh11338', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=4807.00, stage=move.
Warning: Vehicle 'veh11342' ends teleporting on edge 'E_PNK_W_WZM_T', time=4808.00.
Warning: Teleporting vehicle 'veh11146'; collision with vehicle 'veh11162', lane='E_GOR_W_NMR_H_s_1', gap=-4.58, time=4814.00, stage=move.
Warning: Vehicle 'veh11146' ends teleporting on edge 'E_PNK_W_WZM_T', time=4817.00.
Warning: Vehicle 'veh11804' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4823.00.
Warning: Vehicle 'veh11804' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.87, offset=1.92), time=4823.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh6293' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4830.00.
Warning: Teleporting vehicle 'veh11286'; collision with vehicle 'veh11064', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=4834.00, stage=move.
Warning: Vehicle 'veh11286' ends teleporting on edge 'E_PNK_W_WZM_T', time=4834.00.
Warning: Teleporting vehicle 'veh11324'; collision with vehicle 'veh11318', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=4840.00, stage=move.
Warning: Vehicle 'veh11324' ends teleporting on edge 'E_PNK_W_WZM_T', time=4840.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11282'; collision with vehicle 'veh11331', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=4880.00, stage=move.
Warning: Vehicle 'veh11282' ends teleporting on edge 'E_PNK_W_WZM_T', time=4880.00.
Warning: Teleporting vehicle 'veh11961'; collision with vehicle 'veh11798', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=4883.00, stage=move.
Warning: Vehicle 'veh11961' ends teleporting on edge 'E_PNK_W_WZM', time=4887.00.
Warning: Teleporting vehicle 'veh11454'; collision with vehicle 'veh11515', lane='E_GOR_W_NMR_H_s_1', gap=-4.60, time=4889.00, stage=move.
Warning: Vehicle 'veh11454' ends teleporting on edge 'E_PNK_W_WZM_T', time=4889.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Vehicle 'veh8307' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4891.00.
Warning: Vehicle 'veh8307' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.61, offset=2.55), time=4891.00.
Warning: Vehicle 'veh11337' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4898.00.
Warning: Teleporting vehicle 'veh11337'; collision with vehicle 'veh11450', lane='E_GOR_W_NMR_H_s_1', gap=-4.43, time=4898.00, stage=move.
Warning: Vehicle 'veh11337' ends teleporting on edge 'E_PNK_W_WZM_T', time=4898.00.
INFO:TrafficSimulator:Step 4900: 760 vehicles active
Warning: Teleporting vehicle 'veh11361'; collision with vehicle 'veh11365', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=4901.00, stage=move.
Warning: Vehicle 'veh11361' ends teleporting on edge 'E_PNK_W_WZM_T', time=4901.00.
Warning: Vehicle 'veh12297' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4908.00.
Warning: Vehicle 'veh12297' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.19, offset=5.76), time=4908.00.
Warning: Teleporting vehicle 'veh11366'; collision with vehicle 'veh11472', lane='E_GOR_W_NMR_H_s_1', gap=-2.68, time=4908.00, stage=move.
Warning: Vehicle 'veh11366' ends teleporting on edge 'E_PNK_W_WZM_T', time=4908.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh11794' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4932.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh11726' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Teleporting vehicle 'veh11554'; collision with vehicle 'veh11524', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=4970.00, stage=move.
Warning: Vehicle 'veh11554' ends teleporting on edge 'E_PNK_W_WZM_T', time=4971.00.
Warning: Teleporting vehicle 'veh11648'; collision with vehicle 'veh11669', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=4972.00, stage=move.
Warning: Vehicle 'veh11648' ends teleporting on edge 'E_PNK_W_WZM_T', time=4974.00.
Warning: Teleporting vehicle 'veh12056'; collision with vehicle 'veh12076', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=4975.00, stage=move.
Warning: Vehicle 'veh12056' ends teleporting on edge 'E_PNK_W_WZM_T', time=4976.00.
Warning: Teleporting vehicle 'veh12184'; collision with vehicle 'veh12255', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=4977.00, stage=move.
Warning: Vehicle 'veh12184' ends teleporting on edge 'E_PNK_W_WZM_T', time=4978.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh11783' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4980.00.
Warning: Vehicle 'veh11783' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.50, offset=1.45), time=4980.00.
Warning: Teleporting vehicle 'veh11746'; collision with vehicle 'veh11697', lane='E_GOR_W_NMR_H_s_1', gap=-5.47, time=4994.00, stage=move.
Warning: Vehicle 'veh11746' ends teleporting on edge 'E_PNK_W_WZM_T', time=4994.00.
Warning: Vehicle 'veh12537' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4998.00.
INFO:TrafficSimulator:Step 5000: 751 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh12128' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5025.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Vehicle 'veh11782' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5040.00.
Warning: Vehicle 'veh11782' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-10.04, offset=0.23), time=5040.00.
Warning: Teleporting vehicle 'veh11881'; collision with vehicle 'veh11845', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=5058.00, stage=move.
Warning: Vehicle 'veh11881' ends teleporting on edge 'E_PNK_W_WZM_T', time=5058.00.
Warning: Teleporting vehicle 'veh11926'; collision with vehicle 'veh12343', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=5061.00, stage=move.
Warning: Vehicle 'veh11926' ends teleporting on edge 'E_PNK_W_WZM_T', time=5061.00.
Warning: Teleporting vehicle 'veh12390'; collision with vehicle 'veh12406', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=5064.00, stage=move.
Warning: Vehicle 'veh12390' ends teleporting on edge 'E_PNK_W_WZM_T', time=5064.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Vehicle 'veh11726' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5088.00.
Warning: Vehicle 'veh11726' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.81, offset=3.83), time=5088.00.
Warning: Teleporting vehicle 'veh12051'; collision with vehicle 'veh12014', lane='E_GOR_W_NMR_H_s_1', gap=-5.35, time=5091.00, stage=move.
Warning: Vehicle 'veh12051' ends teleporting on edge 'E_PNK_W_WZM_T', time=5091.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 743 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12779' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
Warning: Vehicle 'veh12779' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.27, offset=3.62), time=5130.00.
Warning: Vehicle 'veh11986' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
Warning: Vehicle 'veh11986' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.87, offset=0.50), time=5130.00.
Warning: Teleporting vehicle 'veh12215'; collision with vehicle 'veh12660', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=5152.00, stage=move.
Warning: Vehicle 'veh12215' ends teleporting on edge 'E_PNK_W_WZM_T', time=5152.00.
Warning: Teleporting vehicle 'veh11828'; collision with vehicle 'veh12781', lane='E_GOR_W_NMR_H_s_1', gap=-5.55, time=5159.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11877'; collision with vehicle 'veh11869', lane='E_GOR_W_NMR_H_s_1', gap=-3.36, time=5163.00, stage=move.
Warning: Vehicle 'veh11828' ends teleporting on edge 'E_PNK_W_WZM', time=5163.00.
Warning: Vehicle 'veh11877' ends teleporting on edge 'E_PNK_W_WZM_T', time=5163.00.
Warning: Vehicle 'veh12660' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5188.00.
Warning: Vehicle 'veh12660' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.89, offset=2.36), time=5188.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 757 vehicles active
Warning: Vehicle 'veh12596' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5206.00.
Warning: Vehicle 'veh12353' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5206.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Vehicle 'veh13003' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5250.00.
Warning: Vehicle 'veh13003' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.44, offset=0.64), time=5250.00.
Warning: Teleporting vehicle 'veh12626'; collision with vehicle 'veh12630', lane='E_GOR_W_NMR_H_s_1', gap=-2.68, time=5274.00, stage=move.
Warning: Vehicle 'veh12626' ends teleporting on edge 'E_PNK_W_WZM_T', time=5274.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
INFO:TrafficSimulator:Step 5300: 742 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh13122' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5322.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh13497' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5358.00.
Warning: Vehicle 'veh13497' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.29, offset=4.96), time=5358.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh13348' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5374.00.
Warning: Vehicle 'veh13348' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.71, offset=0.39), time=5374.00.
Warning: Vehicle 'veh13520' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5384.00.
Warning: Vehicle 'veh13520' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-16.39, offset=7.23), time=5384.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Vehicle 'veh12520' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
INFO:TrafficSimulator:Step 5400: 728 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh13507' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13720'; collision with vehicle 'veh13682', lane='E_GOR_W_NMR_H_s_1', gap=-4.48, time=5486.00, stage=move.
Warning: Vehicle 'veh13720' ends teleporting on edge 'E_PNK_W_WZM_T', time=5486.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
Warning: Vehicle 'veh13557' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5490.00.
INFO:TrafficSimulator:Step 5500: 724 vehicles active
Warning: Vehicle 'veh13186' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5512.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Vehicle 'veh14019' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5538.00.
Warning: Vehicle 'veh14019' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-20.14, offset=2.94), time=5538.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 731 vehicles active
Warning: Vehicle 'veh12290' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5605.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh13857' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5628.00.
Warning: Vehicle 'veh13857' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-13.17, offset=3.45), time=5628.00.
Warning: Teleporting vehicle 'veh13399'; collision with vehicle 'veh13363', lane='E_GOR_W_NMR_H_s_1', gap=-2.00, time=5638.00, stage=move.
Warning: Vehicle 'veh13399' ends teleporting on edge 'E_PNK_W_WZM_T', time=5638.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh14187' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5656.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12524'; collision with vehicle 'veh12527', lane='E_GOR_W_NMR_H_s_1', gap=-3.03, time=5691.00, stage=move.
Warning: Vehicle 'veh12524' ends teleporting on edge 'E_PNK_W_WZM_T', time=5693.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 728 vehicles active
Warning: Vehicle 'veh9081' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5706.00.
Warning: Vehicle 'veh9081' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-14.26, offset=3.55), time=5706.00.
Warning: Vehicle 'veh14272' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5729.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14365'; collision with vehicle 'veh14307', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=5748.00, stage=move.
Warning: Vehicle 'veh14365' ends teleporting on edge 'E_PNK_W_WZM_T', time=5748.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
INFO:TrafficSimulator:Step 5800: 750 vehicles active
Warning: Vehicle 'veh14799' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5808.00.
Warning: Vehicle 'veh14799' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.31, offset=2.80), time=5808.00.
Warning: Teleporting vehicle 'veh13959'; collision with vehicle 'veh13972', lane='E_GOR_W_NMR_H_s_1', gap=-5.33, time=5816.00, stage=move.
Warning: Vehicle 'veh13959' ends teleporting on edge 'E_PNK_W_WZM_T', time=5816.00.
Warning: Vehicle 'veh14505' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5819.00.
Warning: Vehicle 'veh14505' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.48, offset=2.54), time=5819.00.
Warning: Vehicle 'veh9265' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5819.00.
Warning: Vehicle 'veh9265' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.97, offset=3.90), time=5819.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh14825' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5820.00.
Warning: Vehicle 'veh14825' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.60, offset=5.02), time=5820.00.
Warning: Vehicle 'veh14688' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5825.00.
Warning: Vehicle 'veh14688' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-14.37, offset=2.06), time=5825.00.
Warning: Vehicle 'veh14018' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5825.00.
Warning: Vehicle 'veh14018' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.67, offset=5.78), time=5825.00.
Warning: Vehicle 'veh11401' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5837.00.
Warning: Vehicle 'veh11401' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.70, offset=0.53), time=5837.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh14132' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5850.00.
Warning: Vehicle 'veh14132' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-15.21, offset=4.55), time=5850.00.
Warning: Vehicle 'veh14678' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5862.00.
Warning: Vehicle 'veh14678' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-11.27, offset=0.39), time=5862.00.
Warning: Teleporting vehicle 'veh14735'; collision with vehicle 'veh14782', lane='E_GOR_W_NMR_H_s_1', gap=-6.22, time=5869.00, stage=move.
Warning: Vehicle 'veh14735' ends teleporting on edge 'E_PNK_W_WZM', time=5873.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14238'; collision with vehicle 'veh14236', lane='E_GOR_W_NMR_H_s_1', gap=-3.77, time=5890.00, stage=move.
Warning: Vehicle 'veh14238' ends teleporting on edge 'E_PNK_W_WZM_T', time=5890.00.
Warning: Vehicle 'veh15068' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5898.00.
Warning: Vehicle 'veh15068' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.09, offset=7.97), time=5898.00.
INFO:TrafficSimulator:Step 5900: 792 vehicles active
Warning: Vehicle 'veh14731' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5902.00.
Warning: Vehicle 'veh14731' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.34, offset=0.28), time=5902.00.
Warning: Vehicle 'veh14667' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5902.00.
Warning: Vehicle 'veh14667' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.58, offset=1.57), time=5902.00.
Warning: Vehicle 'veh9386' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5909.00.
Warning: Vehicle 'veh9386' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.14, offset=4.90), time=5909.00.
Warning: Vehicle 'veh14628' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5909.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14518'; collision with vehicle 'veh14511', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=5910.00, stage=move.
Warning: Vehicle 'veh14518' ends teleporting on edge 'E_PNK_W_WZM_T', time=5910.00.
Warning: Vehicle 'veh11708' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5927.00.
Warning: Vehicle 'veh11708' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.27, offset=2.26), time=5927.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh13615' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5940.00.
Warning: Vehicle 'veh13615' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.82, offset=0.70), time=5940.00.
Warning: Teleporting vehicle 'veh14937'; collision with vehicle 'veh14899', lane='E_GOR_W_NMR_H_s_1', gap=-3.04, time=5947.00, stage=move.
Warning: Vehicle 'veh14937' ends teleporting on edge 'E_PNK_W_WZM_T', time=5947.00.
Warning: Teleporting vehicle 'veh14659'; collision with vehicle 'veh14721', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=5958.00, stage=move.
Warning: Vehicle 'veh14659' ends teleporting on edge 'E_PNK_W_WZM_T', time=5958.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Vehicle 'veh13674' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5988.00.
Warning: Vehicle 'veh15327' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5988.00.
Warning: Vehicle 'veh15327' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-17.93, offset=8.45), time=5988.00.
Warning: Vehicle 'veh15137' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5999.00.
Warning: Vehicle 'veh15137' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.33, offset=4.88), time=5999.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 819 vehicles active
Warning: Teleporting vehicle 'veh8007'; junction collision with vehicle 'veh7861', lane=':J_WZM_PNK_12_0', gap=-0.46, time=6008.00, stage=move.
Warning: Vehicle 'veh8007' ends teleporting on edge 'E_PNK_E_NMR_T', time=6008.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh14840' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh14840' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-11.49, offset=2.21), time=6030.00.
Warning: Teleporting vehicle 'veh15132'; collision with vehicle 'veh15230', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=6048.00, stage=move.
Warning: Vehicle 'veh15132' ends teleporting on edge 'E_PNK_W_WZM_T', time=6048.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Vehicle 'veh15546' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6060.00.
Warning: Vehicle 'veh15546' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-11.10, offset=0.02), time=6060.00.
Warning: Vehicle 'veh15602' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6078.00.
Warning: Vehicle 'veh15602' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-21.30, offset=8.04), time=6078.00.
Warning: Vehicle 'veh15595' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6078.00.
Warning: Vehicle 'veh15595' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-14.98, offset=3.77), time=6078.00.
Warning: Vehicle 'veh15597' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6078.00.
Warning: Vehicle 'veh15597' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.17, offset=7.02), time=6078.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh7861' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6090.00.
Warning: Vehicle 'veh7861' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-22.78, offset=5.53), time=6090.00.
INFO:TrafficSimulator:Step 6100: 820 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh15704' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6120.00.
Warning: Vehicle 'veh15704' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_1' because of a red traffic light (decel=-12.74, offset=0.58), time=6120.00.
Warning: Vehicle 'veh15575' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6132.00.
Warning: Vehicle 'veh15575' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-11.40, offset=0.81), time=6132.00.
Warning: Teleporting vehicle 'veh15510'; collision with vehicle 'veh15370', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=6138.00, stage=move.
Warning: Vehicle 'veh15510' ends teleporting on edge 'E_PNK_W_WZM_T', time=6140.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15719'; collision with vehicle 'veh15692', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=6170.00, stage=move.
Warning: Vehicle 'veh15719' ends teleporting on edge 'E_PNK_W_WZM_T', time=6170.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
INFO:TrafficSimulator:Step 6200: 824 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh15809' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6210.00.
Warning: Vehicle 'veh15809' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-15.68, offset=2.50), time=6210.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16017'; collision with vehicle 'veh15935', lane='E_GOR_W_NMR_H_s_1', gap=-2.55, time=6265.00, stage=move.
Warning: Vehicle 'veh16017' ends teleporting on edge 'E_PNK_W_WZM_T', time=6265.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh8160' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6270.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 812 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh16414' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh16414' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.58, offset=3.14), time=6360.00.
Warning: Teleporting vehicle 'veh16253'; collision with vehicle 'veh16221', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=6373.00, stage=move.
Warning: Vehicle 'veh16253' ends teleporting on edge 'E_PNK_W_WZM_T', time=6373.00.
Warning: Vehicle 'veh16096' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6377.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
INFO:TrafficSimulator:Step 6400: 795 vehicles active
Warning: Vehicle 'veh16420' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6402.00.
Warning: Vehicle 'veh16289' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6402.00.
Warning: Vehicle 'veh16409' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6414.00.
Warning: Vehicle 'veh16409' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.35, offset=1.37), time=6414.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh15877' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6420.00.
Warning: Vehicle 'veh15877' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-13.40, offset=0.33), time=6420.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 815 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16708' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6527.00.
Warning: Vehicle 'veh16708' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-15.15, offset=3.02), time=6527.00.
Warning: Vehicle 'veh16560' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6527.00.
Warning: Vehicle 'veh16560' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.69, offset=3.20), time=6527.00.
Warning: Teleporting vehicle 'veh16556'; collision with vehicle 'veh16463', lane='E_GOR_W_NMR_H_s_1', gap=-0.92, time=6536.00, stage=move.
Warning: Vehicle 'veh16556' ends teleporting on edge 'E_PNK_W_WZM_T', time=6536.00.
Warning: Vehicle 'veh16880' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6539.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
Warning: Vehicle 'veh16587' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6545.00.
Warning: Vehicle 'veh16587' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.65, offset=6.03), time=6545.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Vehicle 'veh16588' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6570.00.
Warning: Vehicle 'veh16588' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.21, offset=0.63), time=6570.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
Warning: Vehicle 'veh16897' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6600.00.
Warning: Vehicle 'veh16897' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-19.72, offset=8.46), time=6600.00.
INFO:TrafficSimulator:Step 6600: 790 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh16855' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6632.00.
Warning: Vehicle 'veh16855' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.15, offset=4.87), time=6632.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh17262' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh13433' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6687.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
INFO:TrafficSimulator:Step 6700: 754 vehicles active
Warning: Vehicle 'veh10790' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6707.00.
Warning: Vehicle 'veh13020' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6708.00.
Warning: Vehicle 'veh13020' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-18.09, offset=1.33), time=6708.00.
Warning: Teleporting vehicle 'veh17119'; collision with vehicle 'veh17101', lane='E_GOR_W_NMR_H_s_1', gap=-4.64, time=6716.00, stage=move.
Warning: Vehicle 'veh17119' ends teleporting on edge 'E_PNK_W_WZM_T', time=6716.00.
Warning: Vehicle 'veh17374' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6719.00.
Warning: Vehicle 'veh17374' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-14.62, offset=5.11), time=6719.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Vehicle 'veh17463' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6797.00.
Warning: Vehicle 'veh17463' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.01, offset=0.44), time=6797.00.
INFO:TrafficSimulator:Step 6800: 740 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17591'; collision with vehicle 'veh17554', lane='E_GOR_W_NMR_H_s_1', gap=-4.30, time=6836.00, stage=move.
Warning: Vehicle 'veh17591' ends teleporting on edge 'E_PNK_W_WZM_T', time=6836.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh15182' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6888.00.
Warning: Vehicle 'veh15182' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-17.88, offset=0.64), time=6888.00.
Warning: Vehicle 'veh14880' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6888.00.
Warning: Vehicle 'veh14880' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.01, offset=8.75), time=6888.00.
Warning: Vehicle 'veh17715' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6891.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
Warning: Vehicle 'veh8687' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6900.00.
INFO:TrafficSimulator:Step 6900: 725 vehicles active
Warning: Vehicle 'veh17826' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6902.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh17887' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6943.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh18095' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6960.00.
Warning: Vehicle 'veh18095' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.49, offset=1.45), time=6960.00.
Warning: Vehicle 'veh11452' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6972.00.
Warning: Vehicle 'veh11452' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.80, offset=1.75), time=6972.00.
Warning: Vehicle 'veh18139' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6977.00.
Warning: Vehicle 'veh18139' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-15.86, offset=1.89), time=6977.00.
Warning: Vehicle 'veh18077' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6977.00.
Warning: Vehicle 'veh18077' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.62, offset=9.30), time=6977.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
INFO:TrafficSimulator:Step 7000: 739 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh14545' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh18344' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh18344' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-10.46, offset=1.17), time=7050.00.
Warning: Vehicle 'veh18410' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=7066.00.
Warning: Vehicle 'veh18410' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.76, offset=9.00), time=7066.00.
Warning: Vehicle 'veh18142' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7067.00.
Warning: Vehicle 'veh18142' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.40, offset=8.07), time=7067.00.
Warning: Vehicle 'veh18337' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7067.00.
Warning: Vehicle 'veh18337' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.27, offset=2.40), time=7067.00.
Warning: Teleporting vehicle 'veh18315'; collision with vehicle 'veh18171', lane='E_GOR_W_NMR_H_s_1', gap=-3.99, time=7073.00, stage=move.
Warning: Vehicle 'veh18315' ends teleporting on edge 'E_PNK_W_WZM_T', time=7073.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
Warning: Vehicle 'veh18297' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7082.00.
Warning: Vehicle 'veh18297' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-16.33, offset=2.76), time=7082.00.
Warning: Vehicle 'veh18224' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7082.00.
Warning: Vehicle 'veh18224' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.09, offset=8.16), time=7082.00.
INFO:TrafficSimulator:Step 7100: 722 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18235'; collision with vehicle 'veh18337', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=7130.00, stage=move.
Warning: Vehicle 'veh18235' ends teleporting on edge 'E_PNK_W_WZM_T', time=7130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Vehicle 'veh11733' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7142.00.
Warning: Vehicle 'veh11733' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.66, offset=0.80), time=7142.00.
Warning: Vehicle 'veh11737' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7157.00.
Warning: Vehicle 'veh11737' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.25, offset=4.13), time=7157.00.
Warning: Vehicle 'veh11743' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7157.00.
Warning: Vehicle 'veh11743' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.01, offset=0.88), time=7157.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh18554' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7170.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh18765' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
INFO:TrafficSimulator:Step 7200: 715 vehicles active
Warning: Vehicle 'veh18613' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7213.00.
Warning: Vehicle 'veh18611' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=7213.00.
Warning: Vehicle 'veh18611' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-11.02, offset=0.80), time=7213.00.
Warning: Teleporting vehicle 'veh18591'; collision with vehicle 'veh18611', lane='E_NMR_N_PNK_H_s_3', gap=-1.03, time=7213.00, stage=move.
Warning: Vehicle 'veh18591' ends teleporting on edge 'E_NMR_N_YMK_T', time=7213.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Vehicle 'veh14756' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=7246.00.
Warning: Teleporting vehicle 'veh18692'; collision with vehicle 'veh18696', lane='E_GOR_W_NMR_H_s_1', gap=-4.79, time=7249.00, stage=move.
Warning: Vehicle 'veh18692' ends teleporting on edge 'E_PNK_W_WZM_T', time=7250.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 824
INFO:TrafficSimulator:Completed vehicles: 266
INFO:TrafficSimulator:Completion rate: 32.3%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16481
INFO:TreeMethodController:Vehicle total time: 4364714
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16481
INFO:TreeMethodController:Tree Method - Total driving time: 4364714
INFO:TreeMethodController:Tree Method - Average duration: 264.83 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16481
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 75.44s
 TraCI-Duration: 54.01s
 Real time factor: 96.7695
 UPS: 61831.196893
Vehicles:
 Inserted: 16954 (Loaded: 18825)
 Running: 558
 Waiting: 1871
 Teleports: 192 (Collisions: 192)
 Emergency Stops: 220
 Emergency Braking: 329
Statistics (avg of 16396):
 RouteLength: 1433.06
 Speed: 7.17
 Duration: 266.24
 WaitingTime: 105.22
 TimeLoss: 163.37
 DepartDelay: 163.07
DijkstraRouter answered 97641 queries and explored 15.39 edges on average.
DijkstraRouter spent 0.14s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 824
INFO:SamplePipeline:completed_vehicles: 266
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 32.28155339805826
INFO:__main__:Pipeline execution completed successfully
