INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment3-realistic-moderate-load/17
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 49411 ***
Loading net-file from 'workspace/grid.net.xml' ... done (27ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 0 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
INFO:TrafficSimulator:Step 100: 209 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh231' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh231' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.41, offset=2.88), time=125.00.
Warning: Vehicle 'veh59' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh59' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.41, offset=8.44), time=130.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh226' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh226' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.75, offset=8.01), time=150.00.
Warning: Vehicle 'veh118' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh118' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.69, offset=8.22), time=150.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
Warning: Vehicle 'veh148' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=180.00.
Warning: Vehicle 'veh364' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=180.00.
Warning: Vehicle 'veh364' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.45, offset=0.84), time=180.00.
INFO:TrafficSimulator:Step 200: 369 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh453' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=220.00.
Warning: Vehicle 'veh453' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.95, offset=1.76), time=220.00.
Warning: Vehicle 'veh452' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=220.00.
Warning: Vehicle 'veh452' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.94, offset=6.76), time=220.00.
Warning: Teleporting vehicle 'veh242'; collision with vehicle 'veh211', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=221.00, stage=move.
Warning: Teleporting vehicle 'veh256'; collision with vehicle 'veh246', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=224.00, stage=move.
Warning: Vehicle 'veh242' ends teleporting on edge 'E_PNK_W_WZM', time=224.00.
Warning: Vehicle 'veh256' ends teleporting on edge 'E_PNK_W_WZM', time=227.00.
Warning: Teleporting vehicle 'veh295'; collision with vehicle 'veh270', lane='E_GOR_W_NMR_H_s_1', gap=-5.44, time=232.00, stage=move.
Warning: Vehicle 'veh295' ends teleporting on edge 'E_PNK_W_WZM_T', time=233.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh392' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Vehicle 'veh392' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.46, offset=5.10), time=240.00.
Warning: Vehicle 'veh284' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Vehicle 'veh403' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=270.00.
Warning: Vehicle 'veh403' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-20.23, offset=5.64), time=270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
Warning: Vehicle 'veh632' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=300.00.
INFO:TrafficSimulator:Step 300: 418 vehicles active
Warning: Vehicle 'veh530' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh530' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-22.22, offset=4.09), time=305.00.
Warning: Vehicle 'veh623' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh623' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-15.46, offset=0.34), time=305.00.
Warning: Vehicle 'veh316' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=310.00.
Warning: Vehicle 'veh316' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-17.81, offset=1.73), time=310.00.
Warning: Teleporting vehicle 'veh390'; collision with vehicle 'veh301', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=313.00, stage=move.
Warning: Teleporting vehicle 'veh387'; collision with vehicle 'veh374', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=316.00, stage=move.
Warning: Vehicle 'veh390' ends teleporting on edge 'E_PNK_W_WZM', time=316.00.
Warning: Vehicle 'veh387' ends teleporting on edge 'E_PNK_W_WZM', time=320.00.
Warning: Teleporting vehicle 'veh498'; collision with vehicle 'veh458', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=321.00, stage=move.
Warning: Vehicle 'veh498' ends teleporting on edge 'E_PNK_W_WZM', time=324.00.
Warning: Teleporting vehicle 'veh489'; collision with vehicle 'veh480', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=325.00, stage=move.
Warning: Teleporting vehicle 'veh506'; collision with vehicle 'veh501', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=327.00, stage=move.
Warning: Vehicle 'veh489' ends teleporting on edge 'E_PNK_W_WZM', time=328.00.
Warning: Vehicle 'veh506' ends teleporting on edge 'E_PNK_W_WZM_T', time=329.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh698' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh698' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-23.14, offset=5.72), time=330.00.
Warning: Vehicle 'veh505' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
Warning: Vehicle 'veh550' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh748' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
INFO:TrafficSimulator:Step 400: 430 vehicles active
Warning: Teleporting vehicle 'veh600'; collision with vehicle 'veh522', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=401.00, stage=move.
Warning: Vehicle 'veh600' ends teleporting on edge 'E_PNK_W_WZM', time=404.00.
Warning: Teleporting vehicle 'veh621'; collision with vehicle 'veh560', lane='E_GOR_W_NMR_H_s_1', gap=-5.30, time=407.00, stage=move.
Warning: Vehicle 'veh621' ends teleporting on edge 'E_PNK_W_WZM', time=410.00.
Warning: Vehicle 'veh643' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=415.00.
Warning: Vehicle 'veh643' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.44, offset=2.27), time=415.00.
Warning: Teleporting vehicle 'veh679'; collision with vehicle 'veh736', lane='E_GOR_W_NMR_H_s_1', gap=-0.95, time=419.00, stage=move.
Warning: Vehicle 'veh679' ends teleporting on edge 'E_PNK_W_WZM_T', time=419.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Teleporting vehicle 'veh787'; collision with vehicle 'veh763', lane='E_GOR_W_NMR_H_s_1', gap=-2.70, time=421.00, stage=move.
Warning: Vehicle 'veh787' ends teleporting on edge 'E_PNK_W_WZM_T', time=424.00.
Warning: Vehicle 'veh872' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=425.00.
Warning: Vehicle 'veh872' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-12.59, offset=2.46), time=425.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
Warning: Teleporting vehicle 'veh827'; collision with vehicle 'veh772', lane='E_GOR_W_NMR_H_s_1', gap=-6.86, time=454.00, stage=move.
Warning: Vehicle 'veh827' ends teleporting on edge 'E_PNK_W_WZM_T', time=454.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh743' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=490.00.
Warning: Vehicle 'veh743' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.39, offset=0.63), time=490.00.
Warning: Teleporting vehicle 'veh790'; collision with vehicle 'veh818', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=490.00, stage=move.
Warning: Vehicle 'veh790' ends teleporting on edge 'E_PNK_W_WZM_T', time=490.00.
INFO:TrafficSimulator:Step 500: 452 vehicles active
Warning: Teleporting vehicle 'veh898'; collision with vehicle 'veh953', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=508.00, stage=move.
Warning: Vehicle 'veh898' ends teleporting on edge 'E_PNK_W_WZM_T', time=509.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Teleporting vehicle 'veh872'; collision with vehicle 'veh929', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=510.00, stage=move.
Warning: Vehicle 'veh872' ends teleporting on edge 'E_PNK_W_WZM_T', time=511.00.
Warning: Vehicle 'veh964' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=512.00.
Warning: Vehicle 'veh964' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-13.58, offset=0.66), time=512.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh1067' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=540.00.
Warning: Vehicle 'veh1067' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-19.54, offset=9.12), time=540.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Teleporting vehicle 'veh956'; collision with vehicle 'veh1081', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=580.00, stage=move.
Warning: Teleporting vehicle 'veh934'; collision with vehicle 'veh1066', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=583.00, stage=move.
Warning: Vehicle 'veh956' ends teleporting on edge 'E_PNK_W_WZM', time=583.00.
Warning: Vehicle 'veh934' ends teleporting on edge 'E_PNK_W_WZM', time=586.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 468 vehicles active
Warning: Vehicle 'veh1144' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=602.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1170' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=660.00.
Warning: Vehicle 'veh1363' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=665.00.
Warning: Vehicle 'veh1363' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-18.82, offset=5.80), time=665.00.
Warning: Teleporting vehicle 'veh1263'; collision with vehicle 'veh1146', lane='E_GOR_W_NMR_H_s_1', gap=-3.75, time=675.00, stage=move.
Warning: Vehicle 'veh1263' ends teleporting on edge 'E_PNK_W_WZM', time=678.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh1368' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=692.00.
Warning: Vehicle 'veh1368' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-14.33, offset=3.16), time=692.00.
Warning: Vehicle 'veh1329' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=692.00.
Warning: Vehicle 'veh1329' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.41, offset=5.37), time=692.00.
INFO:TrafficSimulator:Step 700: 490 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1569' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=754.00.
Warning: Vehicle 'veh1569' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-17.15, offset=2.57), time=754.00.
Warning: Vehicle 'veh1589' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=755.00.
Warning: Teleporting vehicle 'veh1486'; collision with vehicle 'veh1345', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=760.00, stage=move.
Warning: Vehicle 'veh1486' ends teleporting on edge 'E_PNK_W_WZM_T', time=762.00.
Warning: Teleporting vehicle 'veh1379'; collision with vehicle 'veh1472', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=763.00, stage=move.
Warning: Vehicle 'veh1379' ends teleporting on edge 'E_PNK_W_WZM_T', time=764.00.
Warning: Teleporting vehicle 'veh1442'; collision with vehicle 'veh1513', lane='E_GOR_W_NMR_H_s_1', gap=-6.03, time=767.00, stage=move.
Warning: Vehicle 'veh1442' ends teleporting on edge 'E_PNK_W_WZM', time=771.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh1505' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=780.00.
Warning: Vehicle 'veh1505' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.28, offset=0.18), time=780.00.
Warning: Vehicle 'veh1580' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=782.00.
Warning: Vehicle 'veh1152' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=782.00.
Warning: Vehicle 'veh1152' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-11.36, offset=0.81), time=782.00.
INFO:TrafficSimulator:Step 800: 511 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh1650' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
Warning: Vehicle 'veh1650' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-19.87, offset=9.74), time=810.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh1688' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=845.00.
Warning: Vehicle 'veh1688' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.68, offset=0.73), time=845.00.
Warning: Teleporting vehicle 'veh1602'; collision with vehicle 'veh1645', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=850.00, stage=move.
Warning: Vehicle 'veh1602' ends teleporting on edge 'E_PNK_W_WZM_T', time=852.00.
Warning: Teleporting vehicle 'veh1664'; collision with vehicle 'veh1640', lane='E_GOR_W_NMR_H_s_1', gap=-4.60, time=855.00, stage=move.
Warning: Vehicle 'veh1664' ends teleporting on edge 'E_PNK_W_WZM_T', time=857.00.
Warning: Teleporting vehicle 'veh1646'; collision with vehicle 'veh1677', lane='E_GOR_W_NMR_H_s_1', gap=-1.85, time=859.00, stage=move.
Warning: Vehicle 'veh1646' ends teleporting on edge 'E_PNK_W_WZM_T', time=859.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1764'; collision with vehicle 'veh1696', lane='E_GOR_W_NMR_H_s_1', gap=-5.90, time=871.00, stage=move.
Warning: Vehicle 'veh1807' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=872.00.
Warning: Vehicle 'veh1807' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.83, offset=0.87), time=872.00.
Warning: Vehicle 'veh1764' ends teleporting on edge 'E_PNK_W_WZM_T', time=873.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
INFO:TrafficSimulator:Step 900: 506 vehicles active
Warning: Vehicle 'veh2031' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=928.00.
Warning: Vehicle 'veh2031' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.00, offset=2.38), time=928.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh1913' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=934.00.
Warning: Vehicle 'veh1993' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=934.00.
Warning: Vehicle 'veh1993' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.23, offset=6.19), time=934.00.
Warning: Vehicle 'veh1913' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.67, offset=1.78), time=935.00.
Warning: Vehicle 'veh2095' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=940.00.
Warning: Vehicle 'veh2095' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.31, offset=4.24), time=940.00.
Warning: Teleporting vehicle 'veh1804'; collision with vehicle 'veh1853', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=940.00, stage=move.
Warning: Vehicle 'veh1804' ends teleporting on edge 'E_PNK_W_WZM_T', time=940.00.
Warning: Teleporting vehicle 'veh1879'; collision with vehicle 'veh1904', lane='E_GOR_W_NMR_H_s_1', gap=-3.21, time=945.00, stage=move.
Warning: Vehicle 'veh1879' ends teleporting on edge 'E_PNK_W_WZM', time=949.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Vehicle 'veh2033' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=962.00.
Warning: Vehicle 'veh2033' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.13, offset=1.05), time=962.00.
Warning: Vehicle 'veh2083' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=972.00.
Warning: Vehicle 'veh2083' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.09, offset=7.32), time=972.00.
Warning: Vehicle 'veh2080' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=972.00.
Warning: Vehicle 'veh2080' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.63, offset=3.37), time=972.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
Warning: Vehicle 'veh2039' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=990.00.
Warning: Vehicle 'veh2039' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.30, offset=0.68), time=990.00.
Warning: Vehicle 'veh2063' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=990.00.
INFO:TrafficSimulator:Step 1000: 509 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2053' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1025.00.
Warning: Vehicle 'veh2053' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.69, offset=6.66), time=1025.00.
Warning: Teleporting vehicle 'veh1978'; collision with vehicle 'veh1928', lane='E_GOR_W_NMR_H_s_1', gap=-6.12, time=1030.00, stage=move.
Warning: Vehicle 'veh1978' ends teleporting on edge 'E_PNK_W_WZM_T', time=1030.00.
Warning: Teleporting vehicle 'veh2038'; collision with vehicle 'veh2031', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=1035.00, stage=move.
Warning: Vehicle 'veh2038' ends teleporting on edge 'E_PNK_W_WZM_T', time=1038.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh2288' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1052.00.
Warning: Vehicle 'veh2288' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.38, offset=2.38), time=1052.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
INFO:TrafficSimulator:Step 1100: 553 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Vehicle 'veh2371' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2303' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2303' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.00, offset=4.32), time=1115.00.
Warning: Vehicle 'veh2250' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1115.00.
Warning: Vehicle 'veh2547' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1120.00.
Warning: Teleporting vehicle 'veh2116'; collision with vehicle 'veh2045', lane='E_GOR_W_NMR_H_s_1', gap=-6.25, time=1120.00, stage=move.
Warning: Teleporting vehicle 'veh2098'; collision with vehicle 'veh2104', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=1123.00, stage=move.
Warning: Vehicle 'veh2116' ends teleporting on edge 'E_PNK_W_WZM', time=1123.00.
Warning: Vehicle 'veh2098' ends teleporting on edge 'E_PNK_W_WZM_T', time=1124.00.
Warning: Teleporting vehicle 'veh2139'; collision with vehicle 'veh2249', lane='E_GOR_W_NMR_H_s_1', gap=-5.50, time=1125.00, stage=move.
Warning: Vehicle 'veh2139' ends teleporting on edge 'E_PNK_W_WZM', time=1129.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2403' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2403' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.11, offset=2.44), time=1170.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 550 vehicles active
Warning: Teleporting vehicle 'veh2200'; collision with vehicle 'veh2220', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=1212.00, stage=move.
Warning: Vehicle 'veh2200' ends teleporting on edge 'E_PNK_W_WZM_T', time=1214.00.
Warning: Teleporting vehicle 'veh2315'; collision with vehicle 'veh2261', lane='E_GOR_W_NMR_H_s_1', gap=-4.42, time=1215.00, stage=move.
Warning: Vehicle 'veh2315' ends teleporting on edge 'E_PNK_W_WZM_T', time=1216.00.
Warning: Teleporting vehicle 'veh2406'; collision with vehicle 'veh2343', lane='E_GOR_W_NMR_H_s_1', gap=-5.70, time=1219.00, stage=move.
Warning: Teleporting vehicle 'veh2441'; collision with vehicle 'veh2471', lane='E_GOR_W_NMR_H_s_1', gap=-1.55, time=1223.00, stage=move.
Warning: Vehicle 'veh2406' ends teleporting on edge 'E_PNK_W_WZM', time=1223.00.
Warning: Vehicle 'veh2441' ends teleporting on edge 'E_PNK_W_WZM_T', time=1224.00.
Warning: Teleporting vehicle 'veh2490'; collision with vehicle 'veh2370', lane='E_GOR_W_NMR_H_s_1', gap=-2.31, time=1225.00, stage=move.
Warning: Vehicle 'veh2490' ends teleporting on edge 'E_PNK_W_WZM_T', time=1226.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Vehicle 'veh2579' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1232.00.
Warning: Vehicle 'veh2579' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-12.96, offset=2.76), time=1232.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2511'; collision with vehicle 'veh2536', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=1266.00, stage=move.
Warning: Vehicle 'veh2511' ends teleporting on edge 'E_PNK_W_WZM_T', time=1266.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Vehicle 'veh2878' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1294.00.
Warning: Vehicle 'veh2878' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-14.34, offset=1.72), time=1294.00.
Warning: Vehicle 'veh2787' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1295.00.
Warning: Vehicle 'veh2787' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-22.58, offset=8.78), time=1295.00.
Warning: Vehicle 'veh2578' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1295.00.
Warning: Vehicle 'veh2578' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.34, offset=6.93), time=1295.00.
Warning: Vehicle 'veh2434' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1300.00.
Warning: Vehicle 'veh2434' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.11, offset=0.43), time=1300.00.
INFO:TrafficSimulator:Step 1300: 543 vehicles active
Warning: Teleporting vehicle 'veh2611'; collision with vehicle 'veh2567', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=1304.00, stage=move.
Warning: Vehicle 'veh2611' ends teleporting on edge 'E_PNK_W_WZM_T', time=1304.00.
Warning: Teleporting vehicle 'veh2646'; collision with vehicle 'veh2644', lane='E_GOR_W_NMR_H_s_1', gap=-1.66, time=1314.00, stage=move.
Warning: Vehicle 'veh2646' ends teleporting on edge 'E_PNK_W_WZM_T', time=1314.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
Warning: Vehicle 'veh2870' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1320.00.
Warning: Vehicle 'veh2669' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1322.00.
Warning: Vehicle 'veh2669' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.16, offset=4.82), time=1322.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Vehicle 'veh3141' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh3141' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-17.44, offset=0.32), time=1382.00.
Warning: Vehicle 'veh2993' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1382.00.
Warning: Vehicle 'veh2808' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1385.00.
Warning: Vehicle 'veh2808' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.78, offset=10.47), time=1385.00.
Warning: Teleporting vehicle 'veh2976'; collision with vehicle 'veh2766', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=1389.00, stage=move.
Warning: Vehicle 'veh2976' ends teleporting on edge 'E_PNK_W_WZM', time=1392.00.
Warning: Teleporting vehicle 'veh2623'; collision with vehicle 'veh2825', lane='E_GOR_W_NMR_H_s_1', gap=-2.61, time=1396.00, stage=move.
Warning: Vehicle 'veh2623' ends teleporting on edge 'E_PNK_W_WZM_T', time=1397.00.
Warning: Teleporting vehicle 'veh2628'; collision with vehicle 'veh2841', lane='E_GOR_W_NMR_H_s_1', gap=-0.13, time=1400.00, stage=move.
Warning: Vehicle 'veh2628' ends teleporting on edge 'E_PNK_W_WZM_T', time=1400.00.
INFO:TrafficSimulator:Step 1400: 589 vehicles active
Warning: Teleporting vehicle 'veh2856'; collision with vehicle 'veh2628', lane='E_PNK_W_WZM_T_0', gap=-2.96, time=1401.00, stage=move.
Warning: Vehicle 'veh2856' ends teleporting on edge 'E_PNK_W_WZM', time=1401.00.
Warning: Vehicle 'veh2889' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1405.00.
Warning: Vehicle 'veh2889' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.01, offset=3.69), time=1405.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh3085' performs emergency braking on lane 'E_NMR_S_JBT_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1410.00.
Warning: Vehicle 'veh3085' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_2' because of a red traffic light (decel=-21.03, offset=9.40), time=1410.00.
Warning: Teleporting vehicle 'veh2981'; collision with vehicle 'veh3038', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=1413.00, stage=move.
Warning: Vehicle 'veh2981' ends teleporting on edge 'E_PNK_W_WZM_T', time=1413.00.
Warning: Vehicle 'veh3247' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=1415.00.
Warning: Vehicle 'veh3247' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-14.69, offset=5.47), time=1415.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3025'; collision with vehicle 'veh2969', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=1474.00, stage=move.
Warning: Vehicle 'veh3025' ends teleporting on edge 'E_PNK_W_WZM_T', time=1476.00.
Warning: Vehicle 'veh3454' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh3454' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.48, offset=4.78), time=1480.00.
Warning: Teleporting vehicle 'veh3077'; collision with vehicle 'veh3051', lane='E_GOR_W_NMR_H_s_1', gap=-3.09, time=1481.00, stage=move.
Warning: Vehicle 'veh3077' ends teleporting on edge 'E_PNK_W_WZM_T', time=1483.00.
Warning: Vehicle 'veh3058' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1486.00.
Warning: Teleporting vehicle 'veh3058'; collision with vehicle 'veh3064', lane='E_GOR_W_NMR_H_s_1', gap=-0.74, time=1486.00, stage=move.
Warning: Teleporting vehicle 'veh3124'; collision with vehicle 'veh3103', lane='E_GOR_W_NMR_H_s_1', gap=-4.28, time=1488.00, stage=move.
Warning: Vehicle 'veh3058' ends teleporting on edge 'E_PNK_W_WZM', time=1489.00.
Warning: Vehicle 'veh3124' ends teleporting on edge 'E_PNK_W_WZM_T', time=1489.00.
Warning: Teleporting vehicle 'veh3127'; collision with vehicle 'veh3094', lane='E_GOR_W_NMR_H_s_1', gap=-2.71, time=1494.00, stage=move.
Warning: Vehicle 'veh3127' ends teleporting on edge 'E_PNK_W_WZM_T', time=1495.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 611 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3257'; collision with vehicle 'veh3261', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=1560.00, stage=move.
Warning: Vehicle 'veh3257' ends teleporting on edge 'E_PNK_W_WZM_T', time=1562.00.
Warning: Teleporting vehicle 'veh3345'; collision with vehicle 'veh3301', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=1563.00, stage=move.
Warning: Vehicle 'veh3345' ends teleporting on edge 'E_PNK_W_WZM_T', time=1564.00.
Warning: Vehicle 'veh3485' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1565.00.
Warning: Vehicle 'veh3485' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.19, offset=4.74), time=1565.00.
Warning: Teleporting vehicle 'veh3315'; collision with vehicle 'veh3397', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=1565.00, stage=move.
Warning: Vehicle 'veh3315' ends teleporting on edge 'E_PNK_W_WZM', time=1569.00.
Warning: Vehicle 'veh3654' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1570.00.
Warning: Vehicle 'veh3654' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-14.50, offset=3.16), time=1570.00.
Warning: Vehicle 'veh3351' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1570.00.
Warning: Vehicle 'veh3351' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.57, offset=9.16), time=1570.00.
Warning: Teleporting vehicle 'veh3367'; collision with vehicle 'veh3396', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=1574.00, stage=move.
Warning: Vehicle 'veh3367' ends teleporting on edge 'E_PNK_W_WZM_T', time=1575.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
INFO:TrafficSimulator:Step 1600: 599 vehicles active
Warning: Vehicle 'veh3577' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1603.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh3804' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
Warning: Teleporting vehicle 'veh3549'; collision with vehicle 'veh3529', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=1648.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh3617' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1650.00.
Warning: Vehicle 'veh3549' ends teleporting on edge 'E_PNK_W_WZM', time=1651.00.
Warning: Teleporting vehicle 'veh3637'; collision with vehicle 'veh3603', lane='E_GOR_W_NMR_H_s_1', gap=-5.78, time=1655.00, stage=move.
Warning: Vehicle 'veh3637' ends teleporting on edge 'E_PNK_W_WZM_T', time=1655.00.
Warning: Vehicle 'veh3658' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1658.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh3448' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1697.00.
Warning: Vehicle 'veh3448' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.37, offset=8.40), time=1697.00.
INFO:TrafficSimulator:Step 1700: 600 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh3806' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Teleporting vehicle 'veh3734'; collision with vehicle 'veh3764', lane='E_GOR_W_NMR_H_s_1', gap=-5.83, time=1711.00, stage=move.
Warning: Vehicle 'veh3734' ends teleporting on edge 'E_PNK_W_WZM_T', time=1711.00.
Warning: Vehicle 'veh3685' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1738.00.
Warning: Vehicle 'veh3685' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-16.65, offset=0.80), time=1738.00.
Warning: Teleporting vehicle 'veh3881'; collision with vehicle 'veh3707', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=1738.00, stage=move.
Warning: Vehicle 'veh3881' ends teleporting on edge 'E_PNK_W_WZM_T', time=1738.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh3627' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1745.00.
Warning: Teleporting vehicle 'veh3920'; collision with vehicle 'veh3902', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=1751.00, stage=move.
Warning: Vehicle 'veh3920' ends teleporting on edge 'E_PNK_W_WZM_T', time=1751.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh3797' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1780.00.
Warning: Vehicle 'veh3797' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.42, offset=0.99), time=1780.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
Warning: Vehicle 'veh4064' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1800.00.
Warning: Vehicle 'veh4064' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.23, offset=0.42), time=1800.00.
Warning: Vehicle 'veh4021' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1800.00.
Warning: Vehicle 'veh4021' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.51, offset=1.41), time=1800.00.
INFO:TrafficSimulator:Step 1800: 590 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh4375' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1865.00.
Warning: Vehicle 'veh4375' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-19.13, offset=7.59), time=1865.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
Warning: Vehicle 'veh4439' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh4439' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-10.47, offset=1.37), time=1890.00.
INFO:TrafficSimulator:Step 1900: 597 vehicles active
Warning: Vehicle 'veh4393' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1912.00.
Warning: Vehicle 'veh4393' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.17, offset=6.39), time=1912.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh4312' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1920.00.
Warning: Vehicle 'veh4312' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-20.19, offset=8.88), time=1920.00.
Warning: Teleporting vehicle 'veh4166'; collision with vehicle 'veh4252', lane='E_GOR_W_NMR_H_s_1', gap=-4.63, time=1923.00, stage=move.
Warning: Vehicle 'veh4166' ends teleporting on edge 'E_PNK_W_WZM_T', time=1924.00.
Warning: Vehicle 'veh3835' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1925.00.
Warning: Vehicle 'veh3835' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.81, offset=3.79), time=1925.00.
Warning: Vehicle 'veh4154' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1936.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4380'; collision with vehicle 'veh4389', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=1994.00, stage=move.
Warning: Vehicle 'veh4380' ends teleporting on edge 'E_PNK_W_WZM_T', time=1994.00.
INFO:TrafficSimulator:Step 2000: 603 vehicles active
Warning: Vehicle 'veh3956' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2006.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Vehicle 'veh4500' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2010.00.
Warning: Vehicle 'veh4500' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-18.45, offset=8.41), time=2010.00.
Warning: Vehicle 'veh4460' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2015.00.
Warning: Vehicle 'veh4508' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2026.00.
Warning: Vehicle 'veh4805' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2026.00.
Warning: Vehicle 'veh4805' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.21, offset=6.78), time=2026.00.
Warning: Vehicle 'veh4666' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2029.00.
Warning: Vehicle 'veh4666' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-18.83, offset=4.83), time=2029.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh4738' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2050.00.
Warning: Vehicle 'veh4738' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-15.77, offset=1.78), time=2050.00.
Warning: Teleporting vehicle 'veh4460'; collision with vehicle 'veh4450', lane='E_GOR_W_NMR_H_s_1', gap=-0.80, time=2066.00, stage=move.
Warning: Vehicle 'veh4460' ends teleporting on edge 'E_PNK_W_WZM_T', time=2066.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Vehicle 'veh4828' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2092.00.
Warning: Teleporting vehicle 'veh4678'; collision with vehicle 'veh4659', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=2098.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 609 vehicles active
Warning: Vehicle 'veh4678' ends teleporting on edge 'E_PNK_W_WZM', time=2101.00.
Warning: Vehicle 'veh4100' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2105.00.
Warning: Vehicle 'veh4100' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.15, offset=5.62), time=2105.00.
Warning: Vehicle 'veh4599' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2123.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4637'; collision with vehicle 'veh4653', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=2176.00, stage=move.
Warning: Vehicle 'veh4637' ends teleporting on edge 'E_PNK_W_WZM_T', time=2176.00.
Warning: Teleporting vehicle 'veh4844'; collision with vehicle 'veh4725', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=2183.00, stage=move.
Warning: Vehicle 'veh4844' ends teleporting on edge 'E_PNK_W_WZM_T', time=2183.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Vehicle 'veh5045' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2195.00.
Warning: Vehicle 'veh4814' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2195.00.
Warning: Vehicle 'veh4814' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-19.33, offset=5.62), time=2195.00.
INFO:TrafficSimulator:Step 2200: 595 vehicles active
Warning: Teleporting vehicle 'veh4996'; collision with vehicle 'veh5010', lane='E_GOR_W_NMR_H_s_1', gap=-5.89, time=2201.00, stage=move.
Warning: Vehicle 'veh4996' ends teleporting on edge 'E_PNK_W_WZM_T', time=2201.00.
Warning: Teleporting vehicle 'veh5002'; collision with vehicle 'veh5040', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=2204.00, stage=move.
Warning: Vehicle 'veh5002' ends teleporting on edge 'E_PNK_W_WZM_T', time=2204.00.
Warning: Teleporting vehicle 'veh4693'; collision with vehicle 'veh4712', lane='E_GOR_W_NMR_H_s_1', gap=-5.50, time=2208.00, stage=move.
Warning: Vehicle 'veh4693' ends teleporting on edge 'E_PNK_W_WZM_T', time=2208.00.
Warning: Teleporting vehicle 'veh4748'; collision with vehicle 'veh4797', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=2210.00, stage=move.
Warning: Vehicle 'veh4748' ends teleporting on edge 'E_PNK_W_WZM_T', time=2210.00.
Warning: Vehicle 'veh5028' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2217.00.
Warning: Vehicle 'veh5028' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.68, offset=2.70), time=2217.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Vehicle 'veh1795' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2220.00.
Warning: Vehicle 'veh1795' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-11.80, offset=0.70), time=2221.00.
Warning: Teleporting vehicle 'veh5196'; collision with vehicle 'veh5066', lane='E_GOR_W_NMR_H_s_1', gap=-3.11, time=2222.00, stage=move.
Warning: Vehicle 'veh5196' ends teleporting on edge 'E_PNK_W_WZM_T', time=2222.00.
Warning: Vehicle 'veh5245' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2225.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Vehicle 'veh4822' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2250.00.
Warning: Vehicle 'veh4822' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.95, offset=3.89), time=2250.00.
Warning: Vehicle 'veh5332' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2250.00.
Warning: Vehicle 'veh5332' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-12.95, offset=3.78), time=2250.00.
Warning: Teleporting vehicle 'veh4946'; collision with vehicle 'veh4929', lane='E_GOR_W_NMR_H_s_1', gap=-5.35, time=2278.00, stage=move.
Warning: Vehicle 'veh4946' ends teleporting on edge 'E_PNK_W_WZM_T', time=2278.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Vehicle 'veh5442' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2280.00.
Warning: Vehicle 'veh5442' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-11.88, offset=1.37), time=2280.00.
Warning: Teleporting vehicle 'veh4952'; collision with vehicle 'veh5042', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=2281.00, stage=move.
Warning: Vehicle 'veh4952' ends teleporting on edge 'E_PNK_W_WZM_T', time=2281.00.
Warning: Vehicle 'veh5109' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2296.00.
Warning: Vehicle 'veh4275' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2296.00.
Warning: Vehicle 'veh4275' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.74, offset=7.22), time=2296.00.
Warning: Vehicle 'veh4217' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2296.00.
Warning: Vehicle 'veh4217' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-9.50, offset=0.37), time=2296.00.
Warning: Teleporting vehicle 'veh5120'; collision with vehicle 'veh5268', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=2300.00, stage=move.
Warning: Vehicle 'veh5120' ends teleporting on edge 'E_PNK_W_WZM_T', time=2300.00.
INFO:TrafficSimulator:Step 2300: 594 vehicles active
Warning: Teleporting vehicle 'veh5097'; collision with vehicle 'veh5134', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=2303.00, stage=move.
Warning: Teleporting vehicle 'veh5173'; collision with vehicle 'veh5112', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=2305.00, stage=move.
Warning: Vehicle 'veh5097' ends teleporting on edge 'E_PNK_W_WZM_T', time=2307.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh5173' ends teleporting on edge 'E_PNK_W_WZM', time=2310.00.
Warning: Vehicle 'veh4894' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2317.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh5506' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2362.00.
Warning: Vehicle 'veh5506' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-21.10, offset=7.20), time=2362.00.
Warning: Teleporting vehicle 'veh5256'; collision with vehicle 'veh4458', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=2368.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh5256' ends teleporting on edge 'E_PNK_W_WZM_T', time=2370.00.
Warning: Teleporting vehicle 'veh5445'; collision with vehicle 'veh5430', lane='E_GOR_W_NMR_H_s_1', gap=-5.73, time=2379.00, stage=move.
Warning: Vehicle 'veh5445' ends teleporting on edge 'E_PNK_W_WZM_T', time=2379.00.
Warning: Teleporting vehicle 'veh5487'; collision with vehicle 'veh5476', lane='E_GOR_W_NMR_H_s_1', gap=-3.53, time=2385.00, stage=move.
Warning: Vehicle 'veh5487' ends teleporting on edge 'E_PNK_W_WZM_T', time=2385.00.
Warning: Vehicle 'veh5331' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2386.00.
Warning: Vehicle 'veh4421' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2386.00.
Warning: Vehicle 'veh4421' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.27, offset=4.16), time=2386.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 578 vehicles active
Warning: Vehicle 'veh5272' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2417.00.
Warning: Vehicle 'veh5272' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.35, offset=6.62), time=2417.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5594'; collision with vehicle 'veh4657', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=2458.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh5594' ends teleporting on edge 'E_PNK_W_WZM_T', time=2460.00.
Warning: Teleporting vehicle 'veh5634'; collision with vehicle 'veh5689', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=2461.00, stage=move.
Warning: Vehicle 'veh5634' ends teleporting on edge 'E_PNK_W_WZM_T', time=2462.00.
Warning: Vehicle 'veh4840' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2465.00.
Warning: Teleporting vehicle 'veh5530'; collision with vehicle 'veh5549', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=2469.00, stage=move.
Warning: Vehicle 'veh5530' ends teleporting on edge 'E_PNK_W_WZM_T', time=2469.00.
Warning: Vehicle 'veh4704' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2476.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
Warning: Vehicle 'veh5892' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2500.00.
Warning: Vehicle 'veh5892' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.68, offset=0.00), time=2500.00.
INFO:TrafficSimulator:Step 2500: 569 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh5721' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2520.00.
Warning: Vehicle 'veh5721' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.58, offset=2.83), time=2520.00.
Warning: Vehicle 'veh5955' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2542.00.
Warning: Vehicle 'veh5955' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-19.67, offset=9.46), time=2542.00.
Warning: Vehicle 'veh5671' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2549.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Vehicle 'veh5959' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Vehicle 'veh4975' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2555.00.
Warning: Teleporting vehicle 'veh5713'; collision with vehicle 'veh5911', lane='E_GOR_W_NMR_H_s_1', gap=-5.36, time=2558.00, stage=move.
Warning: Vehicle 'veh5713' ends teleporting on edge 'E_PNK_W_WZM_T', time=2558.00.
Warning: Vehicle 'veh5627' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2566.00.
Warning: Vehicle 'veh5627' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-18.74, offset=0.86), time=2566.00.
Warning: Vehicle 'veh6160' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2566.00.
Warning: Vehicle 'veh6160' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-9.84, offset=0.82), time=2566.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
INFO:TrafficSimulator:Step 2600: 587 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5722'; collision with vehicle 'veh5726', lane='E_GOR_W_NMR_H_s_1', gap=-6.17, time=2639.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh6120' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2640.00.
Warning: Vehicle 'veh6120' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-14.61, offset=5.35), time=2640.00.
Warning: Vehicle 'veh5722' ends teleporting on edge 'E_PNK_W_WZM_T', time=2641.00.
Warning: Teleporting vehicle 'veh5805'; collision with vehicle 'veh5882', lane='E_GOR_W_NMR_H_s_1', gap=-5.10, time=2644.00, stage=move.
Warning: Vehicle 'veh6216' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2645.00.
Warning: Vehicle 'veh5155' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2645.00.
Warning: Vehicle 'veh5155' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.93, offset=4.78), time=2645.00.
Warning: Vehicle 'veh6216' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-11.65, offset=2.12), time=2646.00.
Warning: Teleporting vehicle 'veh5891'; collision with vehicle 'veh5886', lane='E_GOR_W_NMR_H_s_1', gap=-5.97, time=2646.00, stage=move.
Warning: Vehicle 'veh5891' ends teleporting on edge 'E_PNK_W_WZM_T', time=2648.00.
Warning: Teleporting vehicle 'veh6095'; collision with vehicle 'veh5884', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=2650.00, stage=move.
Warning: Vehicle 'veh6095' ends teleporting on edge 'E_PNK_W_WZM_T', time=2650.00.
Warning: Vehicle 'veh5026' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2656.00.
Warning: Vehicle 'veh5026' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-17.77, offset=4.59), time=2656.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh6389' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2675.00.
Warning: Vehicle 'veh6389' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.50, offset=4.92), time=2675.00.
Warning: Teleporting vehicle 'veh6209'; collision with vehicle 'veh6212', lane='E_GOR_W_NMR_H_s_1', gap=-1.93, time=2697.00, stage=move.
Warning: Vehicle 'veh6209' ends teleporting on edge 'E_PNK_W_WZM_T', time=2697.00.
Warning: Vehicle 'veh5805' ends teleporting on edge 'E_WZM_S', time=2698.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
Warning: Vehicle 'veh6173' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2700.00.
INFO:TrafficSimulator:Step 2700: 595 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh5299' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2735.00.
Warning: Vehicle 'veh5299' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-15.92, offset=1.30), time=2735.00.
Warning: Vehicle 'veh6221' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2756.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
INFO:TrafficSimulator:Step 2800: 616 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6290'; collision with vehicle 'veh6302', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=2823.00, stage=move.
Warning: Vehicle 'veh6290' ends teleporting on edge 'E_PNK_W_WZM_T', time=2823.00.
Warning: Vehicle 'veh6550' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Vehicle 'veh6550' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.89, offset=2.19), time=2825.00.
Warning: Vehicle 'veh5408' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Teleporting vehicle 'veh6360'; collision with vehicle 'veh6348', lane='E_GOR_W_NMR_H_s_1', gap=-4.27, time=2828.00, stage=move.
Warning: Vehicle 'veh6360' ends teleporting on edge 'E_PNK_W_WZM_T', time=2829.00.
Warning: Vehicle 'veh5322' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2831.00.
Warning: Teleporting vehicle 'veh6423'; collision with vehicle 'veh6387', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2833.00, stage=move.
Warning: Vehicle 'veh6423' ends teleporting on edge 'E_PNK_W_WZM_T', time=2833.00.
Warning: Vehicle 'veh6188' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2836.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6576'; collision with vehicle 'veh6550', lane='E_GOR_W_NMR_H_s_1', gap=-5.97, time=2877.00, stage=move.
Warning: Vehicle 'veh6576' ends teleporting on edge 'E_PNK_W_WZM_T', time=2877.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
INFO:TrafficSimulator:Step 2900: 649 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6442'; collision with vehicle 'veh6476', lane='E_GOR_W_NMR_H_s_1', gap=-5.50, time=2912.00, stage=move.
Warning: Vehicle 'veh6442' ends teleporting on edge 'E_PNK_W_WZM_T', time=2912.00.
Warning: Vehicle 'veh6774' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2915.00.
Warning: Vehicle 'veh6774' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-19.60, offset=0.57), time=2915.00.
Warning: Teleporting vehicle 'veh6522'; collision with vehicle 'veh6674', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=2916.00, stage=move.
Warning: Vehicle 'veh6522' ends teleporting on edge 'E_PNK_W_WZM', time=2920.00.
Warning: Vehicle 'veh7076' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2926.00.
Warning: Vehicle 'veh6756' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2930.00.
Warning: Vehicle 'veh6843' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2936.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh2394' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2940.00.
Warning: Vehicle 'veh2394' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.88, offset=1.00), time=2940.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Vehicle 'veh7114' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2970.00.
Warning: Vehicle 'veh7114' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-13.06, offset=0.87), time=2970.00.
Warning: Teleporting vehicle 'veh6816'; collision with vehicle 'veh6815', lane='E_GOR_W_NMR_H_s_1', gap=-6.47, time=2999.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Vehicle 'veh6973' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3000.00.
Warning: Vehicle 'veh6973' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-12.05, offset=1.84), time=3000.00.
Warning: Vehicle 'veh6816' ends teleporting on edge 'E_PNK_W_WZM_T', time=3000.00.
INFO:TrafficSimulator:Step 3000: 627 vehicles active
Warning: Teleporting vehicle 'veh7048'; collision with vehicle 'veh6878', lane='E_GOR_W_NMR_H_s_1', gap=-5.96, time=3010.00, stage=move.
Warning: Vehicle 'veh7048' ends teleporting on edge 'E_PNK_W_WZM', time=3014.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh7333' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3030.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7290'; collision with vehicle 'veh7233', lane='E_GOR_W_NMR_H_s_1', gap=-6.60, time=3088.00, stage=move.
Warning: Vehicle 'veh7290' ends teleporting on edge 'E_PNK_W_WZM_T', time=3088.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7268'; collision with vehicle 'veh7318', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=3091.00, stage=move.
Warning: Vehicle 'veh7222' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3095.00.
Warning: Vehicle 'veh7222' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.78, offset=0.06), time=3095.00.
Warning: Vehicle 'veh7268' ends teleporting on edge 'E_PNK_W_WZM', time=3095.00.
INFO:TrafficSimulator:Step 3100: 605 vehicles active
Warning: Vehicle 'veh7543' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3106.00.
Warning: Vehicle 'veh7543' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.46, offset=3.20), time=3106.00.
Warning: Vehicle 'veh5796' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3106.00.
Warning: Vehicle 'veh5796' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-9.99, offset=0.22), time=3107.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh7586' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3150.00.
Warning: Vehicle 'veh7586' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-13.14, offset=3.04), time=3150.00.
Warning: Vehicle 'veh7570' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3172.00.
Warning: Vehicle 'veh7596' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3172.00.
Warning: Vehicle 'veh7570' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-12.35, offset=2.75), time=3173.00.
Warning: Teleporting vehicle 'veh7301'; collision with vehicle 'veh7381', lane='E_GOR_W_NMR_H_s_1', gap=-5.87, time=3178.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh7301' ends teleporting on edge 'E_PNK_W_WZM_T', time=3180.00.
Warning: Teleporting vehicle 'veh7427'; collision with vehicle 'veh7403', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=3181.00, stage=move.
Warning: Vehicle 'veh7427' ends teleporting on edge 'E_PNK_W_WZM_T', time=3182.00.
Warning: Vehicle 'veh7453' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
Warning: Vehicle 'veh7453' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.12, offset=3.08), time=3185.00.
Warning: Vehicle 'veh6071' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3185.00.
Warning: Vehicle 'veh6071' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-15.96, offset=1.61), time=3185.00.
Warning: Teleporting vehicle 'veh7329'; collision with vehicle 'veh7535', lane='E_GOR_W_NMR_H_s_1', gap=-3.00, time=3187.00, stage=move.
Warning: Vehicle 'veh6176' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3196.00.
INFO:TrafficSimulator:Step 3200: 621 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh7468' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3224.00.
Warning: Vehicle 'veh7468' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.26, offset=4.78), time=3224.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh7700' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Vehicle 'veh7700' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.97, offset=0.21), time=3240.00.
Warning: Vehicle 'veh7329' ends teleporting on edge 'E_WZM_S', time=3240.00.
Warning: Teleporting vehicle 'veh7521'; collision with vehicle 'veh7523', lane='E_GOR_W_NMR_H_s_1', gap=-5.30, time=3241.00, stage=move.
Warning: Vehicle 'veh7521' ends teleporting on edge 'E_PNK_W_WZM_T', time=3241.00.
Warning: Teleporting vehicle 'veh6135'; collision with vehicle 'veh7544', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=3244.00, stage=move.
Warning: Vehicle 'veh6135' ends teleporting on edge 'E_PNK_W_WZM_T', time=3244.00.
Warning: Teleporting vehicle 'veh7564'; collision with vehicle 'veh7637', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=3253.00, stage=move.
Warning: Vehicle 'veh7564' ends teleporting on edge 'E_PNK_W_WZM_T', time=3253.00.
Warning: Vehicle 'veh7804' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3262.00.
Warning: Teleporting vehicle 'veh7647'; collision with vehicle 'veh7593', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3268.00, stage=move.
Warning: Vehicle 'veh7647' ends teleporting on edge 'E_PNK_W_WZM_T', time=3268.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7586'; collision with vehicle 'veh7641', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=3271.00, stage=move.
Warning: Vehicle 'veh7586' ends teleporting on edge 'E_PNK_W_WZM_T', time=3271.00.
Warning: Vehicle 'veh6289' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3281.00.
Warning: Vehicle 'veh6289' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.86, offset=5.39), time=3281.00.
Warning: Vehicle 'veh6151' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3286.00.
Warning: Vehicle 'veh6402' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3289.00.
Warning: Vehicle 'veh6402' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.07, offset=3.93), time=3289.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 623 vehicles active
Warning: Vehicle 'veh7971' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3308.00.
Warning: Vehicle 'veh7823' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3308.00.
Warning: Vehicle 'veh7823' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-14.69, offset=0.77), time=3308.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7919'; collision with vehicle 'veh7995', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=3347.00, stage=move.
Warning: Vehicle 'veh7919' ends teleporting on edge 'E_PNK_W_WZM_T', time=3347.00.
Warning: Vehicle 'veh8086' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3352.00.
Warning: Vehicle 'veh8048' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3352.00.
Warning: Vehicle 'veh8048' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-21.66, offset=3.48), time=3352.00.
Warning: Teleporting vehicle 'veh7946'; collision with vehicle 'veh7709', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=3358.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh7946' ends teleporting on edge 'E_PNK_W_WZM', time=3361.00.
Warning: Vehicle 'veh6307' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3376.00.
Warning: Vehicle 'veh6307' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.42, offset=2.98), time=3376.00.
Warning: Vehicle 'veh8166' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3379.00.
Warning: Vehicle 'veh8166' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-16.59, offset=6.16), time=3379.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Vehicle 'veh8139' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3398.00.
Warning: Vehicle 'veh8139' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.68, offset=4.05), time=3398.00.
INFO:TrafficSimulator:Step 3400: 617 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh8285' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3442.00.
Warning: Vehicle 'veh8285' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.78, offset=5.01), time=3442.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8221'; collision with vehicle 'veh8230', lane='E_GOR_W_NMR_H_s_1', gap=-2.30, time=3462.00, stage=move.
Warning: Vehicle 'veh8221' ends teleporting on edge 'E_PNK_W_WZM_T', time=3464.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
INFO:TrafficSimulator:Step 3500: 596 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh8251' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3510.00.
Warning: Vehicle 'veh8251' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-17.33, offset=1.17), time=3510.00.
Warning: Vehicle 'veh8577' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3534.00.
Warning: Vehicle 'veh8577' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.02, offset=1.96), time=3534.00.
Warning: Teleporting vehicle 'veh8047'; collision with vehicle 'veh8078', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=3538.00, stage=move.
Warning: Vehicle 'veh8047' ends teleporting on edge 'E_PNK_W_WZM_T', time=3538.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Vehicle 'veh8432' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3578.00.
Warning: Vehicle 'veh8432' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.18, offset=3.71), time=3578.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
INFO:TrafficSimulator:Step 3600: 592 vehicles active
Warning: Teleporting vehicle 'veh8246'; collision with vehicle 'veh8215', lane='E_GOR_W_NMR_H_s_1', gap=-2.09, time=3618.00, stage=move.
Warning: Vehicle 'veh8246' ends teleporting on edge 'E_PNK_W_WZM_T', time=3618.00.
Warning: Vehicle 'veh6962' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3622.00.
Warning: Vehicle 'veh6962' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.81, offset=3.78), time=3622.00.
Warning: Teleporting vehicle 'veh8298'; collision with vehicle 'veh8284', lane='E_GOR_W_NMR_H_s_1', gap=-1.54, time=3629.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Vehicle 'veh8298' ends teleporting on edge 'E_PNK_W_WZM_T', time=3631.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8770'; collision with vehicle 'veh8865', lane='E_GOR_W_NMR_H_s_1', gap=-2.02, time=3694.00, stage=move.
Warning: Vehicle 'veh8770' ends teleporting on edge 'E_PNK_W_WZM_T', time=3694.00.
INFO:TrafficSimulator:Step 3700: 629 vehicles active
Warning: Vehicle 'veh8886' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3713.00.
Warning: Vehicle 'veh8886' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.86, offset=0.28), time=3713.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8522'; collision with vehicle 'veh8560', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=3721.00, stage=move.
Warning: Vehicle 'veh8522' ends teleporting on edge 'E_PNK_W_WZM', time=3724.00.
Warning: Vehicle 'veh8747' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3732.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh2928' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3750.00.
Warning: Vehicle 'veh2928' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-19.89, offset=9.09), time=3750.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 635 vehicles active
Warning: Vehicle 'veh7192' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3802.00.
Warning: Vehicle 'veh9013' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3802.00.
Warning: Vehicle 'veh9013' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.93, offset=0.20), time=3802.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8690'; collision with vehicle 'veh8635', lane='E_GOR_W_NMR_H_s_1', gap=-6.04, time=3811.00, stage=move.
Warning: Vehicle 'veh8690' ends teleporting on edge 'E_PNK_W_WZM_T', time=3813.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Vehicle 'veh9430' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3877.00.
Warning: Vehicle 'veh7266' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3891.00.
Warning: Vehicle 'veh7266' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.35, offset=2.37), time=3891.00.
Warning: Vehicle 'veh9093' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3891.00.
Warning: Vehicle 'veh9093' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.87, offset=3.64), time=3891.00.
Warning: Vehicle 'veh9441' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3892.00.
Warning: Vehicle 'veh9441' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.91, offset=12.01), time=3892.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 616 vehicles active
Warning: Teleporting vehicle 'veh9203'; collision with vehicle 'veh9164', lane='E_GOR_W_NMR_H_s_1', gap=-5.54, time=3917.00, stage=move.
Warning: Vehicle 'veh9203' ends teleporting on edge 'E_PNK_W_WZM_T', time=3917.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh3065' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3930.00.
Warning: Vehicle 'veh3065' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-20.40, offset=5.44), time=3930.00.
Warning: Vehicle 'veh9675' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3930.00.
Warning: Vehicle 'veh9675' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.83, offset=5.11), time=3930.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Vehicle 'veh9771' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=3960.00.
Warning: Vehicle 'veh9771' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-16.15, offset=6.99), time=3960.00.
Warning: Vehicle 'veh9477' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3962.00.
Warning: Vehicle 'veh7372' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3980.00.
Warning: Vehicle 'veh7372' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-15.51, offset=1.15), time=3980.00.
Warning: Teleporting vehicle 'veh8924'; collision with vehicle 'veh9023', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=3985.00, stage=move.
Warning: Vehicle 'veh8924' ends teleporting on edge 'E_PNK_W_WZM_T', time=3985.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
INFO:TrafficSimulator:Step 4000: 614 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh9923' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4020.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh9261' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Vehicle 'veh9261' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.22, offset=0.66), time=4050.00.
Warning: Vehicle 'veh9962' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4072.00.
Warning: Vehicle 'veh9944' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4072.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Vehicle 'veh9033' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4096.00.
Warning: Vehicle 'veh9033' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.61, offset=4.78), time=4096.00.
INFO:TrafficSimulator:Step 4100: 590 vehicles active
Warning: Teleporting vehicle 'veh3873'; collision with vehicle 'veh3875', lane='E_PNK_E_WZM_H_slr_1', gap=-1.19, time=4108.00, stage=move.
Warning: Vehicle 'veh3873' ends teleporting on edge 'E_PNK_E_NMR_T', time=4108.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh9124' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4119.00.
Warning: Vehicle 'veh9124' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.85, offset=5.08), time=4119.00.
Warning: Vehicle 'veh9900' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4119.00.
Warning: Vehicle 'veh9900' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-14.99, offset=5.96), time=4119.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10083'; collision with vehicle 'veh10040', lane='E_GOR_W_NMR_H_s_1', gap=-4.25, time=4143.00, stage=move.
Warning: Vehicle 'veh10083' ends teleporting on edge 'E_PNK_W_WZM_T', time=4143.00.
Warning: Vehicle 'veh10203' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4162.00.
Warning: Vehicle 'veh10203' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.41, offset=11.18), time=4162.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Vehicle 'veh10373' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4186.00.
Warning: Vehicle 'veh10378' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4186.00.
Warning: Teleporting vehicle 'veh9712'; collision with vehicle 'veh9684', lane='E_GOR_W_NMR_H_s_1', gap=-0.24, time=4190.00, stage=move.
Warning: Vehicle 'veh9712' ends teleporting on edge 'E_PNK_W_WZM_T', time=4190.00.
Warning: Teleporting vehicle 'veh9619'; collision with vehicle 'veh9764', lane='E_GOR_W_NMR_H_s_1', gap=-3.88, time=4196.00, stage=move.
Warning: Vehicle 'veh9619' ends teleporting on edge 'E_PNK_W_WZM_T', time=4197.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 603 vehicles active
Warning: Vehicle 'veh6331' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4206.00.
Warning: Vehicle 'veh6331' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-15.98, offset=2.07), time=4206.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh10378' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4252.00.
Warning: Vehicle 'veh10378' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-21.18, offset=6.51), time=4252.00.
Warning: Teleporting vehicle 'veh9413'; collision with vehicle 'veh9381', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=4258.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Vehicle 'veh9413' ends teleporting on edge 'E_PNK_W_WZM', time=4261.00.
Warning: Vehicle 'veh10599' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4276.00.
Warning: Vehicle 'veh10599' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.52, offset=5.56), time=4276.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh10401' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4295.00.
Warning: Vehicle 'veh10401' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.70, offset=1.56), time=4295.00.
INFO:TrafficSimulator:Step 4300: 618 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
Warning: Vehicle 'veh10530' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4320.00.
Warning: Vehicle 'veh10530' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.23, offset=1.76), time=4320.00.
Warning: Vehicle 'veh10668' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4342.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh9516' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4366.00.
Warning: Vehicle 'veh9516' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-19.52, offset=8.51), time=4366.00.
Warning: Vehicle 'veh10838' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4366.00.
Warning: Vehicle 'veh10838' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.90, offset=5.52), time=4366.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
Warning: Vehicle 'veh4306' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4380.00.
Warning: Vehicle 'veh10871' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4380.00.
Warning: Vehicle 'veh10871' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.03, offset=0.56), time=4380.00.
Warning: Vehicle 'veh4306' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-11.76, offset=0.51), time=4381.00.
INFO:TrafficSimulator:Step 4400: 681 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh9967' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4410.00.
Warning: Vehicle 'veh9967' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.31, offset=1.22), time=4410.00.
Warning: Teleporting vehicle 'veh10857'; collision with vehicle 'veh10805', lane='E_GOR_W_NMR_H_s_1', gap=-6.21, time=4438.00, stage=move.
Warning: Vehicle 'veh10857' ends teleporting on edge 'E_PNK_W_WZM_T', time=4438.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9653'; collision with vehicle 'veh9800', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=4441.00, stage=move.
Warning: Vehicle 'veh9653' ends teleporting on edge 'E_PNK_W_WZM', time=4444.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh5078' performs emergency braking on lane ':J_WZM_PNK_12_1' with decel=9.00, wished=4.50, severity=1.00, time=4475.00.
Warning: Vehicle 'veh8479' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_2' with decel=9.00, wished=4.50, severity=1.00, time=4476.00.
Warning: Vehicle 'veh10801' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4478.00.
Warning: Vehicle 'veh10801' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-15.99, offset=4.17), time=4478.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
Warning: Vehicle 'veh10906' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4500.00.
Warning: Vehicle 'veh10906' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.28, offset=0.21), time=4500.00.
INFO:TrafficSimulator:Step 4500: 711 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11097'; collision with vehicle 'veh9910', lane='E_GOR_W_NMR_H_s_1', gap=-4.81, time=4534.00, stage=move.
Warning: Vehicle 'veh11097' ends teleporting on edge 'E_PNK_W_WZM_T', time=4534.00.
Warning: Teleporting vehicle 'veh10601'; collision with vehicle 'veh10635', lane='E_GOR_W_NMR_H_s_1', gap=-2.89, time=4541.00, stage=move.
Warning: Vehicle 'veh10601' ends teleporting on edge 'E_PNK_W_WZM_T', time=4543.00.
Warning: Vehicle 'veh11325' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4546.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh10048' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4562.00.
Warning: Vehicle 'veh10048' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4564.00.
Warning: Vehicle 'veh10048' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-12.94, offset=0.02), time=4564.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
INFO:TrafficSimulator:Step 4600: 789 vehicles active
Warning: Vehicle 'veh11325' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4612.00.
Warning: Vehicle 'veh11325' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.33, offset=3.19), time=4612.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11156'; collision with vehicle 'veh10089', lane='E_GOR_W_NMR_H_s_1', gap=-3.17, time=4621.00, stage=move.
Warning: Vehicle 'veh11156' ends teleporting on edge 'E_PNK_W_WZM_T', time=4621.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh11195' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4654.00.
Warning: Vehicle 'veh11561' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4654.00.
Warning: Vehicle 'veh11561' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-14.63, offset=4.53), time=4654.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Vehicle 'veh10840' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh10840' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-18.28, offset=7.38), time=4680.00.
INFO:TrafficSimulator:Step 4700: 798 vehicles active
Warning: Vehicle 'veh11589' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4702.00.
Warning: Vehicle 'veh11589' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-20.31, offset=5.89), time=4702.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11378'; collision with vehicle 'veh11376', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=4736.00, stage=move.
Warning: Vehicle 'veh11378' ends teleporting on edge 'E_PNK_W_WZM_T', time=4736.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh11433' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4744.00.
Warning: Vehicle 'veh11433' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.07, offset=7.90), time=4744.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11911' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh11307' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh10571' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh10571' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-9.65, offset=0.37), time=4770.00.
Warning: Vehicle 'veh11803' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4792.00.
Warning: Vehicle 'veh11803' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-11.42, offset=1.59), time=4793.00.
Warning: Teleporting vehicle 'veh11498'; collision with vehicle 'veh11515', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=4798.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
Warning: Vehicle 'veh11498' ends teleporting on edge 'E_PNK_W_WZM_T', time=4800.00.
INFO:TrafficSimulator:Step 4800: 784 vehicles active
Warning: Teleporting vehicle 'veh10341'; collision with vehicle 'veh10476', lane='E_GOR_W_NMR_H_s_1', gap=-3.07, time=4804.00, stage=move.
Warning: Vehicle 'veh10341' ends teleporting on edge 'E_PNK_W_WZM_T', time=4804.00.
Warning: Teleporting vehicle 'veh11605'; collision with vehicle 'veh11588', lane='E_GOR_W_NMR_H_s_1', gap=-4.87, time=4810.00, stage=move.
Warning: Vehicle 'veh11605' ends teleporting on edge 'E_PNK_W_WZM_T', time=4811.00.
Warning: Vehicle 'veh12033' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4815.00.
Warning: Vehicle 'veh12033' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.52, offset=7.86), time=4815.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh11957' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4834.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
INFO:TrafficSimulator:Step 4900: 795 vehicles active
Warning: Vehicle 'veh12292' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4904.00.
Warning: Vehicle 'veh12292' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.84, offset=2.30), time=4904.00.
Warning: Vehicle 'veh12065' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4906.00.
Warning: Vehicle 'veh8449' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4906.00.
Warning: Vehicle 'veh8449' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.03, offset=6.21), time=4906.00.
Warning: Teleporting vehicle 'veh11967'; collision with vehicle 'veh11990', lane='E_GOR_W_NMR_H_s_1', gap=-3.44, time=4910.00, stage=move.
Warning: Vehicle 'veh11967' ends teleporting on edge 'E_PNK_W_WZM_T', time=4910.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh12297' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4972.00.
Warning: Vehicle 'veh12297' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-21.03, offset=6.86), time=4972.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh10684' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4980.00.
Warning: Vehicle 'veh12333' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4983.00.
Warning: Teleporting vehicle 'veh12167'; collision with vehicle 'veh12189', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=4993.00, stage=move.
Warning: Vehicle 'veh12167' ends teleporting on edge 'E_PNK_W_WZM_T', time=4993.00.
INFO:TrafficSimulator:Step 5000: 798 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh12310' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5012.00.
Warning: Vehicle 'veh12206' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5029.00.
Warning: Vehicle 'veh12206' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.56, offset=2.49), time=5029.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Vehicle 'veh12634' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5040.00.
Warning: Vehicle 'veh12634' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.58, offset=5.35), time=5040.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Vehicle 'veh12523' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5072.00.
Warning: Vehicle 'veh12523' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.99, offset=1.20), time=5072.00.
Warning: Vehicle 'veh12756' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5084.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
Warning: Vehicle 'veh12797' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5100.00.
Warning: Vehicle 'veh12797' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.35, offset=4.99), time=5100.00.
INFO:TrafficSimulator:Step 5100: 798 vehicles active
Warning: Vehicle 'veh12681' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5120.00.
Warning: Teleporting vehicle 'veh12681'; collision with vehicle 'veh12611', lane='E_GOR_W_NMR_H_s_1', gap=-0.06, time=5120.00, stage=move.
Warning: Vehicle 'veh12681' ends teleporting on edge 'E_PNK_W_WZM_T', time=5120.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Vehicle 'veh12617' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5130.00.
Warning: Vehicle 'veh12617' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.14, offset=3.98), time=5130.00.
Warning: Vehicle 'veh12827' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5152.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh12779' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5162.00.
Warning: Vehicle 'veh12779' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.28, offset=3.99), time=5162.00.
Warning: Vehicle 'veh12738' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5162.00.
Warning: Vehicle 'veh12738' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.66, offset=2.47), time=5162.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
Warning: Vehicle 'veh13022' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5200.00.
INFO:TrafficSimulator:Step 5200: 797 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
Warning: Vehicle 'veh11176' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=5220.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Vehicle 'veh12916' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5252.00.
Warning: Vehicle 'veh12992' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5252.00.
Warning: Vehicle 'veh12992' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-10.93, offset=0.01), time=5252.00.
Warning: Teleporting vehicle 'veh12812'; collision with vehicle 'veh12808', lane='E_GOR_W_NMR_H_s_1', gap=-1.73, time=5259.00, stage=move.
Warning: Vehicle 'veh12812' ends teleporting on edge 'E_PNK_W_WZM_T', time=5259.00.
Warning: Vehicle 'veh11111' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5264.00.
Warning: Vehicle 'veh13254' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5264.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Vehicle 'veh13130' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5280.00.
Warning: Vehicle 'veh13130' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-15.62, offset=5.54), time=5280.00.
Warning: Vehicle 'veh13282' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5280.00.
Warning: Vehicle 'veh13282' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-20.94, offset=2.18), time=5280.00.
Warning: Vehicle 'veh13279' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5280.00.
Warning: Vehicle 'veh12944' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5280.00.
Warning: Vehicle 'veh12944' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-17.53, offset=7.76), time=5280.00.
Warning: Vehicle 'veh13260' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5291.00.
Warning: Vehicle 'veh13260' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-16.12, offset=4.17), time=5291.00.
INFO:TrafficSimulator:Step 5300: 759 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh13132' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
Warning: Vehicle 'veh13132' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-17.68, offset=6.34), time=5310.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh9157' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5343.00.
Warning: Vehicle 'veh9157' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.97, offset=1.09), time=5343.00.
Warning: Vehicle 'veh13201' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5343.00.
Warning: Vehicle 'veh13201' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.01, offset=0.09), time=5343.00.
Warning: Teleporting vehicle 'veh13171'; collision with vehicle 'veh13160', lane='E_GOR_W_NMR_H_s_1', gap=-6.56, time=5363.00, stage=move.
Warning: Vehicle 'veh13171' ends teleporting on edge 'E_PNK_W_WZM_T', time=5363.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13306'; collision with vehicle 'veh13365', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=5400.00, stage=move.
Warning: Vehicle 'veh13306' ends teleporting on edge 'E_PNK_W_WZM_T', time=5400.00.
INFO:TrafficSimulator:Step 5400: 748 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh9308' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5433.00.
Warning: Vehicle 'veh9308' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.95, offset=1.28), time=5433.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
INFO:TrafficSimulator:Step 5500: 768 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Vehicle 'veh13956' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=5520.00.
Warning: Vehicle 'veh13956' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-12.27, offset=3.20), time=5520.00.
Warning: Vehicle 'veh13425' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5520.00.
Warning: Vehicle 'veh13653' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5523.00.
Warning: Vehicle 'veh13653' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.57, offset=1.69), time=5523.00.
Warning: Vehicle 'veh14007' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5534.00.
Warning: Vehicle 'veh14007' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-21.34, offset=6.20), time=5534.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 785 vehicles active
Warning: Teleporting vehicle 'veh13631'; junction collision with vehicle 'veh13714', lane=':J_NMR_PNK_2_0', gap=-0.91, time=5607.00, stage=move.
Warning: Vehicle 'veh13631' ends teleporting on edge 'E_PNK_W_WZM_T', time=5607.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh13651' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5610.00.
Warning: Vehicle 'veh13651' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.46, offset=5.33), time=5610.00.
Warning: Teleporting vehicle 'veh13812'; collision with vehicle 'veh13734', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=5622.00, stage=move.
Warning: Vehicle 'veh13812' ends teleporting on edge 'E_PNK_W_WZM_T', time=5622.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh14391' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh13849' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh13849' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-11.90, offset=1.74), time=5670.00.
Warning: Vehicle 'veh12210' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh12210' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.45, offset=0.83), time=5670.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 774 vehicles active
Warning: Vehicle 'veh14533' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5714.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh14224' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Vehicle 'veh14214' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Vehicle 'veh14214' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.40, offset=7.74), time=5730.00.
Warning: Vehicle 'veh14203' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Vehicle 'veh14189' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5730.00.
Warning: Vehicle 'veh14189' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.27, offset=2.76), time=5730.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh14241' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh11198' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Teleporting vehicle 'veh11163'; collision with vehicle 'veh11562', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=5789.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh11163' ends teleporting on edge 'E_PNK_W_WZM_T', time=5790.00.
INFO:TrafficSimulator:Step 5800: 781 vehicles active
Warning: Vehicle 'veh14795' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5804.00.
Warning: Vehicle 'veh14795' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.13, offset=5.64), time=5804.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh11037' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5838.00.
Warning: Vehicle 'veh11037' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.07, offset=1.39), time=5838.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh14844' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5872.00.
Warning: Vehicle 'veh14726' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5872.00.
Warning: Teleporting vehicle 'veh14712'; collision with vehicle 'veh14677', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=5879.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh14997' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5880.00.
Warning: Vehicle 'veh14997' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.69, offset=0.55), time=5880.00.
Warning: Vehicle 'veh14712' ends teleporting on edge 'E_PNK_W_WZM_T', time=5880.00.
INFO:TrafficSimulator:Step 5900: 794 vehicles active
Warning: Vehicle 'veh14739' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5906.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh15101' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5910.00.
Warning: Vehicle 'veh15101' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.50, offset=5.30), time=5910.00.
Warning: Vehicle 'veh14804' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5910.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
Warning: Vehicle 'veh15156' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5962.00.
Warning: Teleporting vehicle 'veh14851'; collision with vehicle 'veh14912', lane='E_GOR_W_NMR_H_s_1', gap=-7.37, time=5968.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15071'; collision with vehicle 'veh11284', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=5971.00, stage=move.
Warning: Vehicle 'veh14851' ends teleporting on edge 'E_PNK_W_WZM', time=5971.00.
Warning: Teleporting vehicle 'veh11661'; collision with vehicle 'veh11688', lane='E_GOR_W_NMR_H_s_1', gap=-5.09, time=5973.00, stage=move.
Warning: Vehicle 'veh15071' ends teleporting on edge 'E_PNK_W_WZM', time=5974.00.
Warning: Vehicle 'veh11661' ends teleporting on edge 'E_PNK_W_WZM_T', time=5975.00.
Warning: Vehicle 'veh15325' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5984.00.
Warning: Vehicle 'veh15325' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-22.89, offset=0.64), time=5984.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
Warning: Vehicle 'veh15140' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6000.00.
Warning: Vehicle 'veh15140' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-20.33, offset=3.09), time=6000.00.
INFO:TrafficSimulator:Step 6000: 787 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15204'; collision with vehicle 'veh15164', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=6059.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Vehicle 'veh15204' ends teleporting on edge 'E_PNK_W_WZM', time=6063.00.
Warning: Vehicle 'veh15464' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6069.00.
Warning: Teleporting vehicle 'veh15216'; collision with vehicle 'veh15230', lane='E_GOR_W_NMR_H_s_1', gap=-4.43, time=6077.00, stage=move.
Warning: Vehicle 'veh15216' ends teleporting on edge 'E_PNK_W_WZM_T', time=6077.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
INFO:TrafficSimulator:Step 6100: 763 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15418'; collision with vehicle 'veh15368', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=6148.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15517'; collision with vehicle 'veh15525', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=6151.00, stage=move.
Warning: Vehicle 'veh15418' ends teleporting on edge 'E_PNK_W_WZM', time=6151.00.
Warning: Vehicle 'veh15517' ends teleporting on edge 'E_PNK_W_WZM', time=6154.00.
Warning: Vehicle 'veh15835' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6164.00.
Warning: Vehicle 'veh15835' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-15.02, offset=5.54), time=6164.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15720'; collision with vehicle 'veh15709', lane='E_GOR_W_NMR_H_s_1', gap=-3.17, time=6187.00, stage=move.
Warning: Vehicle 'veh15720' ends teleporting on edge 'E_PNK_W_WZM_T', time=6187.00.
Warning: Vehicle 'veh15477' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6198.00.
Warning: Vehicle 'veh15477' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.37, offset=2.12), time=6198.00.
INFO:TrafficSimulator:Step 6200: 798 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh13121' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6210.00.
Warning: Vehicle 'veh13121' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.09, offset=1.98), time=6210.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh16061' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=6240.00.
Warning: Vehicle 'veh16061' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-10.25, offset=1.22), time=6240.00.
Warning: Vehicle 'veh16112' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6254.00.
Warning: Vehicle 'veh15949' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6266.00.
Warning: Vehicle 'veh15949' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.31, offset=8.62), time=6266.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh15950' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6270.00.
Warning: Vehicle 'veh15950' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-11.53, offset=1.21), time=6271.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
Warning: Vehicle 'veh12051' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6300.00.
Warning: Vehicle 'veh12051' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.10, offset=0.39), time=6300.00.
INFO:TrafficSimulator:Step 6300: 790 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Vehicle 'veh16174' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6356.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh16188' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh16188' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.98, offset=6.16), time=6360.00.
Warning: Vehicle 'veh16061' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6360.00.
Warning: Vehicle 'veh16241' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6383.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
INFO:TrafficSimulator:Step 6400: 776 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh16616' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6434.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 775 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh16785' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6516.00.
Warning: Vehicle 'veh16785' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.64, offset=0.38), time=6516.00.
Warning: Vehicle 'veh16693' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6536.00.
Warning: Vehicle 'veh16681' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6536.00.
Warning: Vehicle 'veh16681' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-13.87, offset=1.53), time=6536.00.
Warning: Teleporting vehicle 'veh16693'; collision with vehicle 'veh16685', lane='E_GOR_W_NMR_H_s_1', gap=-2.23, time=6537.00, stage=move.
Warning: Vehicle 'veh16693' ends teleporting on edge 'E_PNK_W_WZM_T', time=6537.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
Warning: Vehicle 'veh16726' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6540.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 753 vehicles active
Warning: Teleporting vehicle 'veh16875'; collision with vehicle 'veh16702', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=6601.00, stage=move.
Warning: Teleporting vehicle 'veh12154'; collision with vehicle 'veh12271', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=6604.00, stage=move.
Warning: Vehicle 'veh16875' ends teleporting on edge 'E_PNK_W_WZM', time=6604.00.
Warning: Vehicle 'veh12154' ends teleporting on edge 'E_PNK_W_WZM', time=6607.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh16915' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6630.00.
Warning: Vehicle 'veh16915' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-17.37, offset=4.88), time=6630.00.
Warning: Teleporting vehicle 'veh16929'; collision with vehicle 'veh16931', lane='E_GOR_W_NMR_H_s_1', gap=-2.37, time=6631.00, stage=move.
Warning: Vehicle 'veh16929' ends teleporting on edge 'E_PNK_W_WZM_T', time=6631.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh17215' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh17215' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_0' because of a red traffic light (decel=-11.11, offset=0.91), time=6660.00.
Warning: Teleporting vehicle 'veh17047'; collision with vehicle 'veh16988', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=6687.00, stage=move.
Warning: Vehicle 'veh17047' ends teleporting on edge 'E_PNK_W_WZM_T', time=6687.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Vehicle 'veh16626' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6690.00.
Warning: Vehicle 'veh16626' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-14.73, offset=1.32), time=6690.00.
INFO:TrafficSimulator:Step 6700: 758 vehicles active
Warning: Vehicle 'veh17106' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6706.00.
Warning: Vehicle 'veh17106' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.65, offset=5.43), time=6706.00.
Warning: Vehicle 'veh17365' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6706.00.
Warning: Teleporting vehicle 'veh17143'; collision with vehicle 'veh17118', lane='E_GOR_W_NMR_H_s_1', gap=-4.38, time=6711.00, stage=move.
Warning: Vehicle 'veh17143' ends teleporting on edge 'E_PNK_W_WZM_T', time=6711.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh17139' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6720.00.
Warning: Vehicle 'veh17139' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.31, offset=0.83), time=6720.00.
Warning: Vehicle 'veh17088' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6736.00.
Warning: Vehicle 'veh17088' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.71, offset=0.73), time=6736.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
Warning: Vehicle 'veh12580' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6750.00.
Warning: Vehicle 'veh12580' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.09, offset=1.22), time=6750.00.
Warning: Vehicle 'veh17443' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6771.00.
Warning: Vehicle 'veh17443' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-16.44, offset=3.84), time=6771.00.
Warning: Teleporting vehicle 'veh17243'; collision with vehicle 'veh17205', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=6777.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Vehicle 'veh17243' ends teleporting on edge 'E_PNK_W_WZM', time=6780.00.
Warning: Teleporting vehicle 'veh17294'; collision with vehicle 'veh17318', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=6783.00, stage=move.
Warning: Teleporting vehicle 'veh17316'; collision with vehicle 'veh12427', lane='E_GOR_W_NMR_H_s_1', gap=-0.45, time=6786.00, stage=move.
Warning: Vehicle 'veh17294' ends teleporting on edge 'E_PNK_W_WZM', time=6786.00.
Warning: Vehicle 'veh17316' ends teleporting on edge 'E_PNK_W_WZM_T', time=6788.00.
Warning: Teleporting vehicle 'veh12518'; collision with vehicle 'veh17365', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=6792.00, stage=move.
Warning: Vehicle 'veh12518' ends teleporting on edge 'E_PNK_W_WZM_T', time=6793.00.
INFO:TrafficSimulator:Step 6800: 734 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17511'; collision with vehicle 'veh17508', lane='E_GOR_W_NMR_H_s_1', gap=-6.40, time=6816.00, stage=move.
Warning: Vehicle 'veh17511' ends teleporting on edge 'E_PNK_W_WZM_T', time=6816.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17452'; collision with vehicle 'veh17632', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=6866.00, stage=move.
Warning: Vehicle 'veh17452' ends teleporting on edge 'E_PNK_W_WZM_T', time=6867.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12094'; collision with vehicle 'veh12580', lane='E_GOR_W_NMR_H_s_1', gap=-3.63, time=6873.00, stage=move.
Warning: Vehicle 'veh12094' ends teleporting on edge 'E_PNK_W_WZM_T', time=6874.00.
Warning: Teleporting vehicle 'veh17495'; junction collision with vehicle 'veh17632', lane=':J_NMR_PNK_2_0', gap=-0.13, time=6876.00, stage=move.
Warning: Vehicle 'veh17495' ends teleporting on edge 'E_PNK_W_WZM_T', time=6876.00.
Warning: Teleporting vehicle 'veh17632'; collision with vehicle 'veh17495', lane='E_PNK_W_WZM_T_0', gap=-0.80, time=6877.00, stage=move.
Warning: Vehicle 'veh17632' ends teleporting on edge 'E_PNK_W_WZM', time=6877.00.
Warning: Vehicle 'veh17693' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6888.00.
Warning: Vehicle 'veh17693' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.88, offset=7.54), time=6888.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
INFO:TrafficSimulator:Step 6900: 736 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh12872' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
Warning: Vehicle 'veh17950' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6950.00.
Warning: Vehicle 'veh17950' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.08, offset=7.17), time=6950.00.
Warning: Teleporting vehicle 'veh17724'; collision with vehicle 'veh17840', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=6956.00, stage=move.
Warning: Vehicle 'veh17724' ends teleporting on edge 'E_PNK_W_WZM_T', time=6958.00.
Warning: Teleporting vehicle 'veh17888'; collision with vehicle 'veh12729', lane='E_GOR_W_NMR_H_s_1', gap=-5.72, time=6959.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh17888' ends teleporting on edge 'E_PNK_W_WZM_T', time=6960.00.
Warning: Teleporting vehicle 'veh17931'; collision with vehicle 'veh17907', lane='E_GOR_W_NMR_H_s_1', gap=-4.17, time=6972.00, stage=move.
Warning: Vehicle 'veh17931' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=6977.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
INFO:TrafficSimulator:Step 7000: 740 vehicles active
Warning: Vehicle 'veh17295' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7005.00.
Warning: Vehicle 'veh17295' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-15.55, offset=6.08), time=7005.00.
Warning: Vehicle 'veh17779' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7005.00.
Warning: Vehicle 'veh17779' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.95, offset=1.00), time=7005.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh17922' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh17711' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh17922' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-9.68, offset=0.12), time=7021.00.
Warning: Teleporting vehicle 'veh18045'; collision with vehicle 'veh18076', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=7046.00, stage=move.
Warning: Vehicle 'veh18045' ends teleporting on edge 'E_PNK_W_WZM', time=7049.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12939'; collision with vehicle 'veh12454', lane='E_GOR_W_NMR_H_s_1', gap=-4.91, time=7053.00, stage=move.
Warning: Vehicle 'veh12939' ends teleporting on edge 'E_PNK_W_WZM_T', time=7055.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
INFO:TrafficSimulator:Step 7100: 737 vehicles active
Warning: Teleporting vehicle 'veh17891'; collision with vehicle 'veh18130', lane='E_WZM_N_YMK_T_0', gap=-0.87, time=7109.00, stage=move.
Warning: Vehicle 'veh17891' ends teleporting on edge 'E_WZM_N_YMK', time=7109.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh18515' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh18515' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.76, offset=2.50), time=7110.00.
Warning: Teleporting vehicle 'veh18149'; collision with vehicle 'veh18369', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=7139.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Vehicle 'veh18149' ends teleporting on edge 'E_PNK_W_WZM_T', time=7140.00.
Warning: Vehicle 'veh18629' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=7150.00.
Warning: Vehicle 'veh18629' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.26, offset=7.65), time=7150.00.
Warning: Vehicle 'veh18419' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7156.00.
Warning: Vehicle 'veh18419' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-15.33, offset=1.86), time=7156.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh18389' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7170.00.
Warning: Vehicle 'veh18389' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.72, offset=3.24), time=7170.00.
Warning: Vehicle 'veh18395' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7184.00.
Warning: Vehicle 'veh18395' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.66, offset=4.40), time=7184.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh13269' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
INFO:TrafficSimulator:Step 7200: 729 vehicles active
Warning: Teleporting vehicle 'veh18541'; collision with vehicle 'veh18517', lane='E_GOR_W_NMR_H_s_1', gap=-6.11, time=7226.00, stage=move.
Warning: Vehicle 'veh18541' ends teleporting on edge 'E_PNK_W_WZM', time=7229.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Vehicle 'veh18524' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7230.00.
Warning: Vehicle 'veh18524' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-20.35, offset=5.40), time=7230.00.
Warning: Teleporting vehicle 'veh18561'; collision with vehicle 'veh12643', lane='E_GOR_W_NMR_H_s_1', gap=-5.31, time=7241.00, stage=move.
Warning: Vehicle 'veh18561' ends teleporting on edge 'E_PNK_W_WZM', time=7244.00.
Warning: Vehicle 'veh18541' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=7250.00.
Warning: Vehicle 'veh18541' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-14.40, offset=0.35), time=7250.00.
Warning: Vehicle 'veh18641' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=7256.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh18695' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7260.00.
Warning: Vehicle 'veh18617' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7275.00.
Warning: Vehicle 'veh18617' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-14.15, offset=4.41), time=7275.00.
Warning: Vehicle 'veh18555' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7275.00.
Warning: Vehicle 'veh18555' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.67, offset=0.88), time=7275.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
Warning: Vehicle 'veh18637' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7290.00.
Warning: Vehicle 'veh18637' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-18.96, offset=8.43), time=7290.00.
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 798
INFO:TrafficSimulator:Completed vehicles: 244
INFO:TrafficSimulator:Completion rate: 30.6%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 16540
INFO:TreeMethodController:Vehicle total time: 4383160
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 16540
INFO:TreeMethodController:Tree Method - Total driving time: 4383160
INFO:TreeMethodController:Tree Method - Average duration: 265.00 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 16540
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 75.41s
 TraCI-Duration: 54.52s
 Real time factor: 96.8093
 UPS: 62026.722012
Vehicles:
 Inserted: 16997 (Loaded: 18825)
 Running: 554
 Waiting: 1828
 Teleports: 173 (Collisions: 173)
 Emergency Stops: 219
 Emergency Braking: 330
Statistics (avg of 16443):
 RouteLength: 1428.20
 Speed: 7.17
 Duration: 266.57
 WaitingTime: 105.73
 TimeLoss: 164.04
 DepartDelay: 158.69
DijkstraRouter answered 95488 queries and explored 15.99 edges on average.
DijkstraRouter spent 0.14s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 798
INFO:SamplePipeline:completed_vehicles: 244
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 30.576441102756892
INFO:__main__:Pipeline execution completed successfully
