INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment1-realistic-high-load/14
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 55587 ***
Loading net-file from 'workspace/grid.net.xml' ... done (27ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 3 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
Warning: Vehicle 'veh29' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=35.00.
Warning: Vehicle 'veh29' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.76, offset=0.98), time=35.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
Warning: Vehicle 'veh126' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=90.00.
Warning: Vehicle 'veh126' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.73, offset=2.91), time=90.00.
INFO:TrafficSimulator:Step 100: 271 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh211' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh211' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.42, offset=1.80), time=125.00.
Warning: Vehicle 'veh100' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh100' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.98, offset=8.70), time=125.00.
Warning: Vehicle 'veh333' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh333' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.58, offset=2.53), time=130.00.
Warning: Vehicle 'veh322' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=130.00.
Warning: Vehicle 'veh322' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-16.08, offset=3.39), time=130.00.
Warning: Teleporting vehicle 'veh29'; collision with vehicle 'veh76', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=131.00, stage=move.
Warning: Vehicle 'veh29' ends teleporting on edge 'E_PNK_W_WZM_T', time=132.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh394' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh381' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh381' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.64, offset=7.21), time=150.00.
Warning: Vehicle 'veh179' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
Warning: Vehicle 'veh179' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-19.10, offset=3.50), time=150.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 503 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh348' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=210.00.
Warning: Vehicle 'veh512' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Vehicle 'veh512' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-16.79, offset=5.20), time=215.00.
Warning: Vehicle 'veh346' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Teleporting vehicle 'veh234'; collision with vehicle 'veh189', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=221.00, stage=move.
Warning: Vehicle 'veh234' ends teleporting on edge 'E_PNK_W_WZM_T', time=223.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
Warning: Vehicle 'veh386' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=240.00.
Warning: Teleporting vehicle 'veh438'; collision with vehicle 'veh323', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=243.00, stage=move.
Warning: Vehicle 'veh438' ends teleporting on edge 'E_PNK_W_WZM_T', time=243.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
Warning: Vehicle 'veh580' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 598 vehicles active
Warning: Vehicle 'veh713' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh503' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh503' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.68, offset=6.33), time=305.00.
Warning: Vehicle 'veh401' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh597' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh597' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-13.41, offset=0.67), time=305.00.
Warning: Vehicle 'veh785' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=308.00.
Warning: Teleporting vehicle 'veh500'; collision with vehicle 'veh609', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=315.00, stage=move.
Warning: Teleporting vehicle 'veh444'; collision with vehicle 'veh446', lane='E_GOR_W_NMR_H_s_1', gap=-5.66, time=317.00, stage=move.
Warning: Vehicle 'veh444' ends teleporting on edge 'E_PNK_W_WZM_T', time=318.00.
Warning: Vehicle 'veh500' ends teleporting on edge 'E_PNK_W_WZM', time=318.00.
Warning: Vehicle 'veh541' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=326.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Vehicle 'veh946' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=330.00.
Warning: Vehicle 'veh243' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=331.00.
Warning: Vehicle 'veh243' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-12.18, offset=2.52), time=331.00.
Warning: Vehicle 'veh761' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=334.00.
Warning: Vehicle 'veh761' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.49, offset=2.92), time=334.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh912' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=396.00.
Warning: Vehicle 'veh912' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-18.61, offset=0.85), time=396.00.
INFO:TrafficSimulator:Step 400: 646 vehicles active
Warning: Teleporting vehicle 'veh854'; collision with vehicle 'veh540', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=402.00, stage=move.
Warning: Teleporting vehicle 'veh572'; collision with vehicle 'veh550', lane='E_GOR_W_NMR_H_s_1', gap=-6.53, time=405.00, stage=move.
Warning: Vehicle 'veh854' ends teleporting on edge 'E_PNK_W_WZM', time=405.00.
Warning: Vehicle 'veh564' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=408.00.
Warning: Vehicle 'veh564' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-14.99, offset=0.87), time=408.00.
Warning: Vehicle 'veh637' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=408.00.
Warning: Vehicle 'veh637' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.58, offset=6.30), time=408.00.
Warning: Vehicle 'veh572' ends teleporting on edge 'E_PNK_W_WZM', time=408.00.
Warning: Teleporting vehicle 'veh633'; collision with vehicle 'veh783', lane='E_GOR_W_NMR_H_s_1', gap=-2.92, time=414.00, stage=move.
Warning: Vehicle 'veh633' ends teleporting on edge 'E_PNK_W_WZM_T', time=414.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Teleporting vehicle 'veh772'; collision with vehicle 'veh855', lane='E_GOR_W_NMR_H_s_1', gap=-5.02, time=420.00, stage=move.
Warning: Vehicle 'veh772' ends teleporting on edge 'E_PNK_W_WZM_T', time=420.00.
Warning: Vehicle 'veh249' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=426.00.
Warning: Vehicle 'veh249' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-12.43, offset=0.80), time=426.00.
Warning: Vehicle 'veh1169' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=427.00.
Warning: Vehicle 'veh1169' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-15.36, offset=0.05), time=427.00.
Warning: Teleporting vehicle 'veh900'; collision with vehicle 'veh882', lane='E_GOR_W_NMR_H_s_1', gap=-4.15, time=427.00, stage=move.
Warning: Vehicle 'veh900' ends teleporting on edge 'E_PNK_W_WZM_T', time=427.00.
Warning: Teleporting vehicle 'veh731'; collision with vehicle 'veh928', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=432.00, stage=move.
Warning: Vehicle 'veh731' ends teleporting on edge 'E_PNK_W_WZM_T', time=432.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Vehicle 'veh1286' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=484.00.
Warning: Vehicle 'veh1286' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.32, offset=6.77), time=484.00.
Warning: Vehicle 'veh1345' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=491.00.
Warning: Vehicle 'veh1345' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-21.39, offset=11.00), time=491.00.
Warning: Teleporting vehicle 'veh742'; collision with vehicle 'veh924', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=491.00, stage=move.
Warning: Vehicle 'veh742' ends teleporting on edge 'E_PNK_W_WZM_T', time=492.00.
Warning: Teleporting vehicle 'veh993'; collision with vehicle 'veh818', lane='E_GOR_W_NMR_H_s_1', gap=-5.89, time=496.00, stage=move.
Warning: Vehicle 'veh993' ends teleporting on edge 'E_PNK_W_WZM_T', time=497.00.
INFO:TrafficSimulator:Step 500: 694 vehicles active
Warning: Teleporting vehicle 'veh948'; collision with vehicle 'veh901', lane='E_GOR_W_NMR_H_s_1', gap=-2.38, time=501.00, stage=move.
Warning: Vehicle 'veh948' ends teleporting on edge 'E_PNK_W_WZM_T', time=501.00.
Warning: Teleporting vehicle 'veh1047'; collision with vehicle 'veh1017', lane='E_GOR_W_NMR_H_s_1', gap=-3.65, time=503.00, stage=move.
Warning: Vehicle 'veh1047' ends teleporting on edge 'E_PNK_W_WZM', time=506.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Vehicle 'veh1131' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=513.00.
Warning: Teleporting vehicle 'veh1082'; collision with vehicle 'veh1146', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=517.00, stage=move.
Warning: Vehicle 'veh1082' ends teleporting on edge 'E_PNK_W_WZM_T', time=517.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Vehicle 'veh1666' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=572.00.
Warning: Vehicle 'veh1666' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.46, offset=1.30), time=572.00.
Warning: Teleporting vehicle 'veh1177'; collision with vehicle 'veh1207', lane='E_GOR_W_NMR_H_s_1', gap=-4.85, time=579.00, stage=move.
Warning: Vehicle 'veh1177' ends teleporting on edge 'E_PNK_W_WZM', time=582.00.
Warning: Teleporting vehicle 'veh1302'; collision with vehicle 'veh1381', lane='E_GOR_W_NMR_H_s_1', gap=-6.03, time=585.00, stage=move.
Warning: Vehicle 'veh1302' ends teleporting on edge 'E_PNK_W_WZM_T', time=587.00.
Warning: Teleporting vehicle 'veh1226'; collision with vehicle 'veh1258', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=589.00, stage=move.
Warning: Vehicle 'veh1226' ends teleporting on edge 'E_PNK_W_WZM_T', time=589.00.
Warning: Teleporting vehicle 'veh1357'; collision with vehicle 'veh1303', lane='E_GOR_W_NMR_H_s_1', gap=-6.43, time=591.00, stage=move.
Warning: Vehicle 'veh1357' ends teleporting on edge 'E_PNK_W_WZM_T', time=591.00.
Warning: Teleporting vehicle 'veh1256'; collision with vehicle 'veh1176', lane='E_GOR_W_NMR_H_s_1', gap=-1.49, time=598.00, stage=move.
Warning: Vehicle 'veh1256' ends teleporting on edge 'E_PNK_W_WZM_T', time=598.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1266'; collision with vehicle 'veh1425', lane='E_GOR_W_NMR_H_s_1', gap=-4.49, time=600.00, stage=move.
Warning: Vehicle 'veh1266' ends teleporting on edge 'E_PNK_W_WZM_T', time=600.00.
INFO:TrafficSimulator:Step 600: 713 vehicles active
Warning: Teleporting vehicle 'veh1458'; collision with vehicle 'veh1449', lane='E_GOR_W_NMR_H_s_1', gap=-5.75, time=602.00, stage=move.
Warning: Vehicle 'veh1458' ends teleporting on edge 'E_PNK_W_WZM_T', time=602.00.
Warning: Teleporting vehicle 'veh1434'; collision with vehicle 'veh1469', lane='E_GOR_W_NMR_H_s_1', gap=-5.66, time=604.00, stage=move.
Warning: Vehicle 'veh1434' ends teleporting on edge 'E_PNK_W_WZM_T', time=604.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
Warning: Vehicle 'veh1542' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=630.00.
Warning: Vehicle 'veh1542' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.89, offset=1.94), time=630.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Vehicle 'veh1939' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=660.00.
Warning: Vehicle 'veh1939' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-9.07, offset=0.04), time=660.00.
Warning: Vehicle 'veh1716' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=660.00.
Warning: Vehicle 'veh1716' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-10.93, offset=0.72), time=661.00.
Warning: Teleporting vehicle 'veh1571'; collision with vehicle 'veh1474', lane='E_GOR_W_NMR_H_s_1', gap=-6.10, time=665.00, stage=move.
Warning: Vehicle 'veh1571' ends teleporting on edge 'E_PNK_W_WZM_T', time=667.00.
Warning: Teleporting vehicle 'veh1562'; collision with vehicle 'veh1604', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=668.00, stage=move.
Warning: Vehicle 'veh1562' ends teleporting on edge 'E_PNK_W_WZM_T', time=669.00.
Warning: Teleporting vehicle 'veh1317'; collision with vehicle 'veh1310', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=670.00, stage=move.
Warning: Teleporting vehicle 'veh1339'; collision with vehicle 'veh1380', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=672.00, stage=move.
Warning: Vehicle 'veh1317' ends teleporting on edge 'E_PNK_W_WZM_T', time=672.00.
Warning: Vehicle 'veh1339' ends teleporting on edge 'E_PNK_W_WZM', time=676.00.
Warning: Vehicle 'veh1415' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=677.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
Warning: Vehicle 'veh2032' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=690.00.
Warning: Teleporting vehicle 'veh1702'; collision with vehicle 'veh1659', lane='E_GOR_W_NMR_H_s_1', gap=-6.63, time=698.00, stage=move.
Warning: Vehicle 'veh1702' ends teleporting on edge 'E_PNK_W_WZM_T', time=698.00.
INFO:TrafficSimulator:Step 700: 736 vehicles active
Warning: Vehicle 'veh2054' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=704.00.
Warning: Vehicle 'veh2047' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=704.00.
Warning: Vehicle 'veh2047' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-20.00, offset=10.19), time=704.00.
Warning: Teleporting vehicle 'veh1678'; collision with vehicle 'veh1810', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=706.00, stage=move.
Warning: Vehicle 'veh1678' ends teleporting on edge 'E_PNK_W_WZM_T', time=706.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Vehicle 'veh1751' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=720.00.
Warning: Vehicle 'veh2020' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=742.00.
Warning: Vehicle 'veh1997' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=742.00.
Warning: Vehicle 'veh1997' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-13.98, offset=2.91), time=742.00.
Warning: Teleporting vehicle 'veh1718'; collision with vehicle 'veh1776', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=747.00, stage=move.
Warning: Vehicle 'veh1718' ends teleporting on edge 'E_PNK_W_WZM_T', time=749.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1747'; collision with vehicle 'veh1769', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=750.00, stage=move.
Warning: Vehicle 'veh1747' ends teleporting on edge 'E_PNK_W_WZM_T', time=751.00.
Warning: Teleporting vehicle 'veh1761'; collision with vehicle 'veh1800', lane='E_GOR_W_NMR_H_s_1', gap=-4.95, time=752.00, stage=move.
Warning: Vehicle 'veh1761' ends teleporting on edge 'E_PNK_W_WZM', time=756.00.
Warning: Vehicle 'veh2276' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=766.00.
Warning: Vehicle 'veh2276' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-18.62, offset=5.02), time=766.00.
Warning: Vehicle 'veh1645' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=766.00.
Warning: Vehicle 'veh1645' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-19.60, offset=8.72), time=766.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
Warning: Vehicle 'veh2312' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=796.00.
Warning: Vehicle 'veh2312' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-17.80, offset=4.46), time=796.00.
INFO:TrafficSimulator:Step 800: 796 vehicles active
Warning: Teleporting vehicle 'veh1962'; collision with vehicle 'veh1689', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=801.00, stage=move.
Warning: Vehicle 'veh1962' ends teleporting on edge 'E_PNK_W_WZM_T', time=801.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh2416' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
Warning: Vehicle 'veh2416' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-13.20, offset=3.71), time=810.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Vehicle 'veh2175' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=840.00.
Warning: Vehicle 'veh2175' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.99, offset=7.87), time=840.00.
Warning: Teleporting vehicle 'veh1891'; collision with vehicle 'veh2244', lane='E_GOR_W_NMR_H_s_1', gap=-5.79, time=841.00, stage=move.
Warning: Teleporting vehicle 'veh2109'; collision with vehicle 'veh2064', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=844.00, stage=move.
Warning: Vehicle 'veh2109' ends teleporting on edge 'E_PNK_W_WZM', time=848.00.
Warning: Teleporting vehicle 'veh1902'; collision with vehicle 'veh1877', lane='E_GOR_W_NMR_H_s_1', gap=-2.13, time=854.00, stage=move.
Warning: Vehicle 'veh1902' ends teleporting on edge 'E_PNK_W_WZM_T', time=854.00.
Warning: Teleporting vehicle 'veh1870'; collision with vehicle 'veh1969', lane='E_GOR_W_NMR_H_s_1', gap=-3.68, time=856.00, stage=move.
Warning: Vehicle 'veh1870' ends teleporting on edge 'E_PNK_W_WZM_T', time=856.00.
Warning: Vehicle 'veh1644' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=866.00.
Warning: Teleporting vehicle 'veh2119'; collision with vehicle 'veh2020', lane='E_GOR_W_NMR_H_s_1', gap=-6.07, time=867.00, stage=move.
Warning: Vehicle 'veh2119' ends teleporting on edge 'E_PNK_W_WZM_T', time=867.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
Warning: Vehicle 'veh2188' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=900.00.
Warning: Vehicle 'veh2188' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.82, offset=2.24), time=900.00.
INFO:TrafficSimulator:Step 900: 832 vehicles active
Warning: Teleporting vehicle 'veh2063'; collision with vehicle 'veh2210', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=920.00, stage=move.
Warning: Vehicle 'veh2318' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=922.00.
Warning: Vehicle 'veh2318' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.92, offset=0.25), time=922.00.
Warning: Vehicle 'veh2389' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=922.00.
Warning: Vehicle 'veh2389' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.85, offset=1.35), time=922.00.
Warning: Teleporting vehicle 'veh2178'; collision with vehicle 'veh2176', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=922.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Vehicle 'veh2465' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=930.00.
Warning: Vehicle 'veh2465' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.23, offset=4.89), time=930.00.
Warning: Teleporting vehicle 'veh2572'; collision with vehicle 'veh2339', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=935.00, stage=move.
Warning: Vehicle 'veh2572' ends teleporting on edge 'E_PNK_W_WZM_T', time=935.00.
Warning: Teleporting vehicle 'veh2027'; collision with vehicle 'veh2366', lane='E_GOR_W_NMR_H_s_1', gap=-5.48, time=939.00, stage=move.
Warning: Vehicle 'veh2027' ends teleporting on edge 'E_PNK_W_WZM_T', time=942.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2508'; collision with vehicle 'veh2431', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=964.00, stage=move.
Warning: Vehicle 'veh2508' ends teleporting on edge 'E_PNK_W_WZM_T', time=964.00.
Warning: Teleporting vehicle 'veh2098'; collision with vehicle 'veh2322', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=967.00, stage=move.
Warning: Vehicle 'veh2098' ends teleporting on edge 'E_PNK_W_WZM_T', time=967.00.
Warning: Teleporting vehicle 'veh2242'; collision with vehicle 'veh2367', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=970.00, stage=move.
Warning: Vehicle 'veh2242' ends teleporting on edge 'E_PNK_W_WZM_T', time=970.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 861 vehicles active
Warning: Vehicle 'veh2440' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1009.00.
Warning: Vehicle 'veh2440' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.97, offset=2.23), time=1009.00.
Warning: Teleporting vehicle 'veh2162'; collision with vehicle 'veh2353', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=1010.00, stage=move.
Warning: Vehicle 'veh2162' ends teleporting on edge 'E_PNK_W_WZM_T', time=1010.00.
Warning: Teleporting vehicle 'veh2280'; collision with vehicle 'veh2274', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=1013.00, stage=move.
Warning: Teleporting vehicle 'veh2319'; collision with vehicle 'veh2311', lane='E_GOR_W_NMR_H_s_1', gap=-4.41, time=1015.00, stage=move.
Warning: Teleporting vehicle 'veh2286'; collision with vehicle 'veh2298', lane='E_GOR_W_NMR_H_s_1', gap=-2.35, time=1017.00, stage=move.
Warning: Vehicle 'veh2286' ends teleporting on edge 'E_PNK_W_WZM_T', time=1017.00.
Warning: Teleporting vehicle 'veh2197'; collision with vehicle 'veh2341', lane='E_GOR_W_NMR_H_s_1', gap=-3.38, time=1019.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh2319' ends teleporting on edge 'E_PNK_W_WZM', time=1020.00.
Warning: Teleporting vehicle 'veh2335'; collision with vehicle 'veh2782', lane='E_GOR_W_NMR_H_s_1', gap=-5.74, time=1021.00, stage=move.
Warning: Vehicle 'veh2197' ends teleporting on edge 'E_PNK_W_WZM', time=1023.00.
Warning: Vehicle 'veh2335' ends teleporting on edge 'E_PNK_W_WZM_T', time=1023.00.
Warning: Teleporting vehicle 'veh2730'; collision with vehicle 'veh2374', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=1025.00, stage=move.
Warning: Vehicle 'veh2730' ends teleporting on edge 'E_PNK_W_WZM', time=1031.00.
Warning: Vehicle 'veh2452' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1034.00.
Warning: Vehicle 'veh2452' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-16.85, offset=0.40), time=1034.00.
Warning: Vehicle 'veh2063' ends teleporting on edge 'E_WZM_S', time=1048.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh1891' teleports beyond arrival edge 'E_WZM_S', time=1052.00.
Warning: Vehicle 'veh2178' ends teleporting on edge 'E_WZM_S', time=1059.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Vehicle 'veh2727' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh2727' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.16, offset=2.12), time=1080.00.
Warning: Teleporting vehicle 'veh2517'; collision with vehicle 'veh2675', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=1100.00, stage=move.
INFO:TrafficSimulator:Step 1100: 877 vehicles active
Warning: Teleporting vehicle 'veh2555'; collision with vehicle 'veh2352', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=1103.00, stage=move.
Warning: Vehicle 'veh2555' ends teleporting on edge 'E_PNK_W_WZM_T', time=1103.00.
Warning: Vehicle 'veh2517' ends teleporting on edge 'E_PNK_W_WZM', time=1104.00.
Warning: Teleporting vehicle 'veh2445'; collision with vehicle 'veh2418', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=1105.00, stage=move.
Warning: Teleporting vehicle 'veh2478'; collision with vehicle 'veh2480', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=1107.00, stage=move.
Warning: Teleporting vehicle 'veh2473'; collision with vehicle 'veh2518', lane='E_GOR_W_NMR_H_s_1', gap=-5.58, time=1109.00, stage=move.
Warning: Vehicle 'veh2445' ends teleporting on edge 'E_PNK_W_WZM', time=1109.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2408'; collision with vehicle 'veh2581', lane='E_GOR_W_NMR_H_s_1', gap=-4.83, time=1111.00, stage=move.
Warning: Vehicle 'veh2478' ends teleporting on edge 'E_PNK_W_WZM', time=1111.00.
Warning: Teleporting vehicle 'veh2415'; collision with vehicle 'veh2631', lane='E_GOR_W_NMR_H_s_1', gap=-4.33, time=1113.00, stage=move.
Warning: Vehicle 'veh2408' ends teleporting on edge 'E_PNK_W_WZM_T', time=1113.00.
Warning: Teleporting vehicle 'veh2389'; collision with vehicle 'veh2602', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=1115.00, stage=move.
Warning: Vehicle 'veh2389' ends teleporting on edge 'E_PNK_W_WZM_T', time=1115.00.
Warning: Teleporting vehicle 'veh2921'; collision with vehicle 'veh2641', lane='E_GOR_W_NMR_H_s_1', gap=-5.64, time=1117.00, stage=move.
Warning: Vehicle 'veh2921' ends teleporting on edge 'E_PNK_W_WZM_T', time=1117.00.
Warning: Teleporting vehicle 'veh2702'; collision with vehicle 'veh2950', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=1119.00, stage=move.
Warning: Vehicle 'veh2702' ends teleporting on edge 'E_PNK_W_WZM_T', time=1119.00.
Warning: Teleporting vehicle 'veh3088'; collision with vehicle 'veh2907', lane='E_GOR_W_NMR_H_s_1', gap=-4.16, time=1121.00, stage=move.
Warning: Teleporting vehicle 'veh2812'; collision with vehicle 'veh3164', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=1123.00, stage=move.
Warning: Teleporting vehicle 'veh2742'; collision with vehicle 'veh2676', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=1125.00, stage=move.
Warning: Vehicle 'veh2812' ends teleporting on edge 'E_PNK_W_WZM', time=1129.00.
Warning: Vehicle 'veh3088' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=1132.00.
Warning: Vehicle 'veh2742' ends teleporting on edge 'E_PNK_W_WZM', time=1135.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2630'; collision with vehicle 'veh2912', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=1143.00, stage=move.
Warning: Vehicle 'veh2630' ends teleporting on edge 'E_PNK_W_WZM_T', time=1143.00.
Warning: Vehicle 'veh2280' ends teleporting on edge 'E_WZM_S', time=1150.00.
Warning: Vehicle 'veh3487' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1156.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2593' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh2593' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.88, offset=0.86), time=1170.00.
Warning: Vehicle 'veh3287' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1191.00.
Warning: Teleporting vehicle 'veh2638'; collision with vehicle 'veh2949', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=1197.00, stage=move.
Warning: Vehicle 'veh2638' ends teleporting on edge 'E_PNK_W_WZM_T', time=1197.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
Warning: Vehicle 'veh2867' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1200.00.
Warning: Vehicle 'veh2867' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-12.27, offset=2.48), time=1200.00.
Warning: Teleporting vehicle 'veh2905'; collision with vehicle 'veh2551', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=1200.00, stage=move.
INFO:TrafficSimulator:Step 1200: 895 vehicles active
Warning: Teleporting vehicle 'veh2987'; collision with vehicle 'veh2540', lane='E_GOR_W_NMR_H_s_1', gap=-3.34, time=1202.00, stage=move.
Warning: Teleporting vehicle 'veh2663'; collision with vehicle 'veh2503', lane='E_GOR_W_NMR_H_s_1', gap=-5.19, time=1206.00, stage=move.
Warning: Teleporting vehicle 'veh2440'; collision with vehicle 'veh3368', lane='E_GOR_W_NMR_H_s_1', gap=-1.54, time=1208.00, stage=move.
Warning: Vehicle 'veh2905' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=1208.00.
Warning: Vehicle 'veh2440' ends teleporting on edge 'E_PNK_W_WZM_T', time=1209.00.
Warning: Vehicle 'veh2663' ends teleporting on edge 'E_PNK_W_WZM', time=1209.00.
Warning: Vehicle 'veh3317' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1212.00.
Warning: Teleporting vehicle 'veh3061'; collision with vehicle 'veh3323', lane='E_GOR_W_NMR_H_s_1', gap=-3.50, time=1213.00, stage=move.
Warning: Vehicle 'veh3062' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1215.00.
Warning: Vehicle 'veh3062' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.85, offset=7.82), time=1215.00.
Warning: Vehicle 'veh2355' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1215.00.
Warning: Vehicle 'veh2355' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.89, offset=0.53), time=1215.00.
Warning: Teleporting vehicle 'veh3073'; collision with vehicle 'veh3342', lane='E_GOR_W_NMR_H_s_1', gap=-5.62, time=1215.00, stage=move.
Warning: Vehicle 'veh3061' ends teleporting on edge 'E_PNK_W_WZM', time=1216.00.
Warning: Vehicle 'veh2415' teleports beyond arrival edge 'E_WZM_S', time=1217.00.
Warning: Vehicle 'veh3073' ends teleporting on edge 'E_PNK_W_WZM_T', time=1217.00.
Warning: Vehicle 'veh2473' teleports beyond arrival edge 'E_WZM_S', time=1219.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Vehicle 'veh3787' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1230.00.
Warning: Vehicle 'veh3787' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-21.33, offset=3.68), time=1230.00.
Warning: Teleporting vehicle 'veh2670'; collision with vehicle 'veh3298', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=1230.00, stage=move.
Warning: Vehicle 'veh2670' ends teleporting on edge 'E_PNK_W_WZM_T', time=1231.00.
Warning: Teleporting vehicle 'veh2745'; collision with vehicle 'veh3385', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=1240.00, stage=move.
Warning: Vehicle 'veh2745' ends teleporting on edge 'E_PNK_W_WZM_T', time=1242.00.
Warning: Teleporting vehicle 'veh2531'; collision with vehicle 'veh2738', lane='E_GOR_W_NMR_H_s_1', gap=-6.07, time=1244.00, stage=move.
Warning: Vehicle 'veh2531' ends teleporting on edge 'E_PNK_W_WZM_T', time=1244.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3505'; collision with vehicle 'veh3403', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=1283.00, stage=move.
Warning: Teleporting vehicle 'veh2666'; collision with vehicle 'veh3609', lane='E_GOR_W_NMR_H_s_1', gap=-5.03, time=1286.00, stage=move.
Warning: Vehicle 'veh3505' ends teleporting on edge 'E_PNK_W_WZM', time=1286.00.
Warning: Vehicle 'veh2987' teleports beyond arrival edge 'E_WZM_S', time=1287.00.
Warning: Teleporting vehicle 'veh3502'; collision with vehicle 'veh3488', lane='E_GOR_W_NMR_H_s_1', gap=-5.98, time=1289.00, stage=move.
Warning: Vehicle 'veh2666' ends teleporting on edge 'E_PNK_W_WZM', time=1289.00.
Warning: Vehicle 'veh3502' ends teleporting on edge 'E_PNK_W_WZM_T', time=1289.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3549'; collision with vehicle 'veh3422', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=1291.00, stage=move.
Warning: Vehicle 'veh3549' ends teleporting on edge 'E_PNK_W_WZM_T', time=1291.00.
Warning: Teleporting vehicle 'veh3473'; collision with vehicle 'veh3458', lane='E_GOR_W_NMR_H_s_1', gap=-6.44, time=1299.00, stage=move.
Warning: Vehicle 'veh3473' ends teleporting on edge 'E_PNK_W_WZM_T', time=1299.00.
INFO:TrafficSimulator:Step 1300: 873 vehicles active
Warning: Vehicle 'veh4019' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1302.00.
Warning: Teleporting vehicle 'veh3611'; collision with vehicle 'veh3624', lane='E_GOR_W_NMR_H_s_1', gap=-5.43, time=1303.00, stage=move.
Warning: Vehicle 'veh3611' ends teleporting on edge 'E_PNK_W_WZM_T', time=1303.00.
Warning: Teleporting vehicle 'veh3678'; collision with vehicle 'veh3758', lane='E_GOR_W_NMR_H_s_1', gap=-5.59, time=1305.00, stage=move.
Warning: Vehicle 'veh3678' ends teleporting on edge 'E_PNK_W_WZM_T', time=1305.00.
Warning: Teleporting vehicle 'veh2815'; collision with vehicle 'veh2732', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=1318.00, stage=move.
Warning: Vehicle 'veh2815' ends teleporting on edge 'E_PNK_W_WZM_T', time=1318.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3878'; collision with vehicle 'veh3873', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=1371.00, stage=move.
Warning: Vehicle 'veh3878' ends teleporting on edge 'E_PNK_W_WZM_T', time=1371.00.
Warning: Teleporting vehicle 'veh3849'; collision with vehicle 'veh3942', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=1376.00, stage=move.
Warning: Vehicle 'veh3849' ends teleporting on edge 'E_PNK_W_WZM', time=1379.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3848'; collision with vehicle 'veh3846', lane='E_GOR_W_NMR_H_s_1', gap=-4.34, time=1380.00, stage=move.
Warning: Vehicle 'veh3848' ends teleporting on edge 'E_PNK_W_WZM', time=1383.00.
Warning: Teleporting vehicle 'veh3895'; collision with vehicle 'veh4009', lane='E_GOR_W_NMR_H_s_1', gap=-2.29, time=1384.00, stage=move.
Warning: Vehicle 'veh3895' ends teleporting on edge 'E_PNK_W_WZM_T', time=1385.00.
Warning: Teleporting vehicle 'veh3855'; collision with vehicle 'veh3940', lane='E_GOR_W_NMR_H_s_1', gap=-2.27, time=1386.00, stage=move.
Warning: Vehicle 'veh3855' ends teleporting on edge 'E_PNK_W_WZM_T', time=1387.00.
Warning: Teleporting vehicle 'veh2180'; collision with vehicle 'veh2927', lane='E_GOR_W_NMR_H_s_1', gap=-5.27, time=1397.00, stage=move.
Warning: Vehicle 'veh2180' ends teleporting on edge 'E_PNK_W_WZM_T', time=1400.00.
INFO:TrafficSimulator:Step 1400: 837 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh3947' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1413.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Vehicle 'veh2309' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1460.00.
Warning: Vehicle 'veh2309' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.06, offset=2.52), time=1460.00.
Warning: Teleporting vehicle 'veh4108'; collision with vehicle 'veh2883', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=1462.00, stage=move.
Warning: Vehicle 'veh4108' ends teleporting on edge 'E_PNK_W_WZM_T', time=1462.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh4110' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh4110' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.81, offset=5.87), time=1480.00.
Warning: Vehicle 'veh4113' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh4113' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.86, offset=6.91), time=1480.00.
Warning: Vehicle 'veh3019' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1486.00.
Warning: Vehicle 'veh3020' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1487.00.
Warning: Vehicle 'veh3138' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1496.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
Warning: Vehicle 'veh3575' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1500.00.
Warning: Vehicle 'veh3575' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_1' because of a red traffic light (decel=-19.92, offset=8.10), time=1500.00.
INFO:TrafficSimulator:Step 1500: 832 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh4661' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1544.00.
Warning: Vehicle 'veh4661' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-12.38, offset=1.92), time=1544.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh4891' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1560.00.
Warning: Vehicle 'veh4251' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1583.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
Warning: Vehicle 'veh4788' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1598.00.
INFO:TrafficSimulator:Step 1600: 849 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh4822' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1634.00.
Warning: Vehicle 'veh4822' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.66, offset=0.48), time=1634.00.
Warning: Vehicle 'veh2487' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1635.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Vehicle 'veh4843' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1652.00.
Warning: Vehicle 'veh4843' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-17.84, offset=0.39), time=1652.00.
Warning: Vehicle 'veh4902' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1678.00.
Warning: Vehicle 'veh4902' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-20.88, offset=7.39), time=1678.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
Warning: Vehicle 'veh4918' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1691.00.
Warning: Vehicle 'veh4918' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.41, offset=0.29), time=1691.00.
INFO:TrafficSimulator:Step 1700: 830 vehicles active
Warning: Vehicle 'veh4360' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1703.00.
Warning: Vehicle 'veh4495' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1704.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4630'; collision with vehicle 'veh4538', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=1731.00, stage=move.
Warning: Vehicle 'veh4630' ends teleporting on edge 'E_PNK_W_WZM_T', time=1733.00.
Warning: Teleporting vehicle 'veh4707'; collision with vehicle 'veh4655', lane='E_GOR_W_NMR_H_s_1', gap=-5.09, time=1734.00, stage=move.
Warning: Teleporting vehicle 'veh4760'; collision with vehicle 'veh4945', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=1738.00, stage=move.
Warning: Vehicle 'veh4760' ends teleporting on edge 'E_PNK_W_WZM_T', time=1738.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Vehicle 'veh5522' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1742.00.
Warning: Vehicle 'veh5522' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-16.61, offset=3.85), time=1742.00.
Warning: Vehicle 'veh5296' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1758.00.
Warning: Vehicle 'veh5296' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-18.91, offset=0.16), time=1758.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh5000' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1778.00.
Warning: Teleporting vehicle 'veh5000'; collision with vehicle 'veh5098', lane='E_GOR_W_NMR_H_s_1', gap=-1.69, time=1778.00, stage=move.
Warning: Vehicle 'veh5000' ends teleporting on edge 'E_PNK_W_WZM_T', time=1778.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 851 vehicles active
Warning: Vehicle 'veh4707' teleports beyond arrival edge 'E_WZM_S', time=1818.00.
Warning: Teleporting vehicle 'veh5306'; collision with vehicle 'veh5525', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=1820.00, stage=move.
Warning: Teleporting vehicle 'veh5511'; collision with vehicle 'veh5376', lane='E_GOR_W_NMR_H_s_1', gap=-5.48, time=1823.00, stage=move.
Warning: Vehicle 'veh5306' ends teleporting on edge 'E_PNK_W_WZM', time=1823.00.
Warning: Teleporting vehicle 'veh5516'; collision with vehicle 'veh5546', lane='E_GOR_W_NMR_H_s_1', gap=-4.58, time=1825.00, stage=move.
Warning: Vehicle 'veh5516' ends teleporting on edge 'E_PNK_W_WZM_T', time=1827.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Vehicle 'veh5813' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=1830.00.
Warning: Vehicle 'veh5349' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1832.00.
Warning: Vehicle 'veh5349' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.64, offset=1.23), time=1832.00.
Warning: Teleporting vehicle 'veh3550'; collision with vehicle 'veh3556', lane='E_GOR_W_NMR_H_s_1', gap=-7.37, time=1845.00, stage=move.
Warning: Vehicle 'veh3550' ends teleporting on edge 'E_PNK_W_WZM_T', time=1845.00.
Warning: Vehicle 'veh5672' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1856.00.
Warning: Vehicle 'veh5672' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.82, offset=4.57), time=1856.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
Warning: Vehicle 'veh5931' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1879.00.
Warning: Vehicle 'veh5931' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-14.76, offset=4.63), time=1879.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
Warning: Vehicle 'veh6010' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh6010' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.84, offset=2.30), time=1890.00.
Warning: Vehicle 'veh5294' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1890.00.
Warning: Vehicle 'veh5294' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.30, offset=0.79), time=1890.00.
INFO:TrafficSimulator:Step 1900: 837 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Vehicle 'veh6148' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1930.00.
Warning: Vehicle 'veh6148' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-18.91, offset=3.69), time=1930.00.
Warning: Vehicle 'veh5511' teleports beyond arrival edge 'E_WZM_S', time=1934.00.
Warning: Vehicle 'veh5700' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1938.00.
Warning: Vehicle 'veh5700' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.22, offset=0.09), time=1938.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh6008' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=1965.00.
Warning: Teleporting vehicle 'veh6008'; collision with vehicle 'veh5956', lane='E_GOR_W_NMR_H_s_1', gap=-0.00, time=1965.00, stage=move.
Warning: Vehicle 'veh6008' ends teleporting on edge 'E_PNK_W_WZM_T', time=1965.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh2737' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1999.00.
Warning: Vehicle 'veh2737' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.24, offset=1.69), time=1999.00.
INFO:TrafficSimulator:Step 2000: 827 vehicles active
Warning: Teleporting vehicle 'veh5311'; collision with vehicle 'veh5347', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=2001.00, stage=move.
Warning: Vehicle 'veh5311' ends teleporting on edge 'E_PNK_W_WZM', time=2004.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Vehicle 'veh6442' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2018.00.
Warning: Vehicle 'veh5294' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2018.00.
Warning: Vehicle 'veh5294' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-19.22, offset=6.93), time=2018.00.
Warning: Vehicle 'veh5941' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2026.00.
Warning: Vehicle 'veh5941' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.51, offset=5.23), time=2026.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Vehicle 'veh6623' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh6118' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh6118' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.39, offset=3.11), time=2070.00.
Warning: Vehicle 'veh6062' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh5723' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2091.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
INFO:TrafficSimulator:Step 2100: 838 vehicles active
Warning: Vehicle 'veh6732' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2106.00.
Warning: Vehicle 'veh6732' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-15.58, offset=2.68), time=2106.00.
Warning: Teleporting vehicle 'veh3854'; collision with vehicle 'veh5945', lane='E_GOR_W_NMR_H_s_1', gap=-2.51, time=2110.00, stage=move.
Warning: Vehicle 'veh3854' ends teleporting on edge 'E_PNK_W_WZM_T', time=2110.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6615'; collision with vehicle 'veh6538', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=2141.00, stage=move.
Warning: Vehicle 'veh6615' ends teleporting on edge 'E_PNK_W_WZM_T', time=2141.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh6678' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_0' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh6678' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_0' because of a red traffic light (decel=-10.48, offset=1.47), time=2160.00.
Warning: Vehicle 'veh4073' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2176.00.
Warning: Vehicle 'veh4073' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.92, offset=0.64), time=2176.00.
Warning: Teleporting vehicle 'veh6805'; collision with vehicle 'veh6118', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=2180.00, stage=move.
Warning: Vehicle 'veh6805' ends teleporting on edge 'E_PNK_W_WZM_T', time=2180.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
INFO:TrafficSimulator:Step 2200: 836 vehicles active
Warning: Teleporting vehicle 'veh6386'; collision with vehicle 'veh4024', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=2210.00, stage=move.
Warning: Vehicle 'veh6386' ends teleporting on edge 'E_PNK_W_WZM_T', time=2210.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Vehicle 'veh7049' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2250.00.
Warning: Vehicle 'veh7049' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.29, offset=1.90), time=2250.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Vehicle 'veh6315' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2280.00.
Warning: Vehicle 'veh6315' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.71, offset=6.99), time=2280.00.
Warning: Vehicle 'veh7358' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2289.00.
Warning: Vehicle 'veh7358' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.44, offset=3.20), time=2289.00.
Warning: Teleporting vehicle 'veh6839'; collision with vehicle 'veh6812', lane='E_GOR_W_NMR_H_s_1', gap=-2.51, time=2292.00, stage=move.
Warning: Vehicle 'veh6839' ends teleporting on edge 'E_PNK_W_WZM_T', time=2292.00.
Warning: Teleporting vehicle 'veh6916'; collision with vehicle 'veh6941', lane='E_GOR_W_NMR_H_s_1', gap=-4.48, time=2297.00, stage=move.
Warning: Vehicle 'veh7064' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2298.00.
Warning: Vehicle 'veh6916' ends teleporting on edge 'E_PNK_W_WZM_T', time=2298.00.
Warning: Teleporting vehicle 'veh4196'; collision with vehicle 'veh4168', lane='E_GOR_W_NMR_H_s_1', gap=-5.53, time=2299.00, stage=move.
Warning: Vehicle 'veh4196' ends teleporting on edge 'E_PNK_W_WZM_T', time=2300.00.
INFO:TrafficSimulator:Step 2300: 844 vehicles active
Warning: Teleporting vehicle 'veh4107'; collision with vehicle 'veh4125', lane='E_GOR_W_NMR_H_s_1', gap=-4.92, time=2301.00, stage=move.
Warning: Vehicle 'veh4107' ends teleporting on edge 'E_PNK_W_WZM_T', time=2302.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Vehicle 'veh7452' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=2329.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh7222' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2354.00.
Warning: Vehicle 'veh7222' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-17.23, offset=6.32), time=2354.00.
Warning: Vehicle 'veh7443' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=2354.00.
Warning: Vehicle 'veh7443' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-17.21, offset=7.14), time=2354.00.
Warning: Teleporting vehicle 'veh7175'; collision with vehicle 'veh7159', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=2360.00, stage=move.
Warning: Vehicle 'veh7175' ends teleporting on edge 'E_PNK_W_WZM_T', time=2360.00.
Warning: Teleporting vehicle 'veh7347'; collision with vehicle 'veh7300', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=2363.00, stage=move.
Warning: Teleporting vehicle 'veh7426'; collision with vehicle 'veh7414', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=2365.00, stage=move.
Warning: Vehicle 'veh7347' ends teleporting on edge 'E_PNK_W_WZM', time=2367.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7171'; collision with vehicle 'veh7168', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=2374.00, stage=move.
Warning: Vehicle 'veh7171' ends teleporting on edge 'E_PNK_W_WZM_T', time=2374.00.
Warning: Teleporting vehicle 'veh7240'; collision with vehicle 'veh7184', lane='E_GOR_W_NMR_H_s_1', gap=-5.87, time=2378.00, stage=move.
Warning: Vehicle 'veh7240' ends teleporting on edge 'E_PNK_W_WZM_T', time=2378.00.
Warning: Vehicle 'veh7127' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=2382.00.
Warning: Vehicle 'veh4214' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2385.00.
Warning: Vehicle 'veh2125' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2388.00.
Warning: Vehicle 'veh2125' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-13.04, offset=1.10), time=2388.00.
Warning: Teleporting vehicle 'veh4236'; collision with vehicle 'veh4277', lane='E_GOR_W_NMR_H_s_1', gap=-4.78, time=2390.00, stage=move.
Warning: Vehicle 'veh4236' ends teleporting on edge 'E_PNK_W_WZM_T', time=2391.00.
Warning: Vehicle 'veh7426' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=2395.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 871 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh7842' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2430.00.
Warning: Vehicle 'veh7842' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-14.70, offset=3.46), time=2430.00.
Warning: Vehicle 'veh7750' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2430.00.
Warning: Vehicle 'veh7750' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.17, offset=1.84), time=2430.00.
Warning: Vehicle 'veh4408' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2451.00.
Warning: Teleporting vehicle 'veh7727'; collision with vehicle 'veh7489', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=2451.00, stage=move.
Warning: Vehicle 'veh7727' ends teleporting on edge 'E_PNK_W_WZM', time=2454.00.
Warning: Teleporting vehicle 'veh7474'; collision with vehicle 'veh7523', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=2456.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Vehicle 'veh7983' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2472.00.
Warning: Vehicle 'veh7983' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-23.16, offset=2.65), time=2472.00.
Warning: Vehicle 'veh7816' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2482.00.
Warning: Vehicle 'veh7816' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-16.06, offset=3.47), time=2482.00.
Warning: Vehicle 'veh4514' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2483.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
Warning: Vehicle 'veh6462' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2490.00.
INFO:TrafficSimulator:Step 2500: 878 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh7751' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2520.00.
Warning: Vehicle 'veh7751' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-13.46, offset=4.14), time=2520.00.
Warning: Teleporting vehicle 'veh7911'; collision with vehicle 'veh7820', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=2540.00, stage=move.
Warning: Vehicle 'veh7911' ends teleporting on edge 'E_PNK_W_WZM_T', time=2540.00.
Warning: Teleporting vehicle 'veh7796'; collision with vehicle 'veh7878', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=2543.00, stage=move.
Warning: Teleporting vehicle 'veh7912'; collision with vehicle 'veh7792', lane='E_GOR_W_NMR_H_s_1', gap=-4.78, time=2545.00, stage=move.
Warning: Teleporting vehicle 'veh7765'; collision with vehicle 'veh7793', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=2547.00, stage=move.
Warning: Teleporting vehicle 'veh7807'; collision with vehicle 'veh7835', lane='E_GOR_W_NMR_H_s_1', gap=-6.29, time=2549.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Vehicle 'veh7807' ends teleporting on edge 'E_PNK_W_WZM_T', time=2550.00.
Warning: Teleporting vehicle 'veh7826'; collision with vehicle 'veh7947', lane='E_GOR_W_NMR_H_s_1', gap=-1.59, time=2551.00, stage=move.
Warning: Vehicle 'veh7826' ends teleporting on edge 'E_PNK_W_WZM_T', time=2552.00.
Warning: Teleporting vehicle 'veh7948'; collision with vehicle 'veh7830', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=2556.00, stage=move.
Warning: Vehicle 'veh7948' ends teleporting on edge 'E_PNK_W_WZM_T', time=2556.00.
Warning: Vehicle 'veh7912' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=2557.00.
Warning: Teleporting vehicle 'veh4608'; collision with vehicle 'veh8017', lane='E_GOR_W_NMR_H_s_1', gap=-3.90, time=2564.00, stage=move.
Warning: Vehicle 'veh4608' ends teleporting on edge 'E_PNK_W_WZM_T', time=2564.00.
Warning: Teleporting vehicle 'veh7947'; collision with vehicle 'veh4608', lane='E_PNK_W_WZM_T_0', gap=-0.32, time=2565.00, stage=move.
Warning: Vehicle 'veh7947' ends teleporting on edge 'E_PNK_W_WZM', time=2565.00.
Warning: Vehicle 'veh7474' teleports beyond arrival edge 'E_WZM_S', time=2567.00.
Warning: Teleporting vehicle 'veh4645'; collision with vehicle 'veh4624', lane='E_GOR_W_NMR_H_s_1', gap=-5.06, time=2574.00, stage=move.
Warning: Vehicle 'veh4645' ends teleporting on edge 'E_PNK_W_WZM_T', time=2574.00.
Warning: Vehicle 'veh6547' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2576.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
INFO:TrafficSimulator:Step 2600: 913 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh7765' ends teleporting on edge 'E_WZM_S', time=2615.00.
Warning: Vehicle 'veh4830' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2631.00.
Warning: Vehicle 'veh4830' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.77, offset=4.70), time=2631.00.
Warning: Teleporting vehicle 'veh4623'; collision with vehicle 'veh8118', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=2631.00, stage=move.
Warning: Vehicle 'veh7796' teleports beyond arrival edge 'E_WZM_S', time=2632.00.
Warning: Vehicle 'veh4623' ends teleporting on edge 'E_PNK_W_WZM', time=2635.00.
Warning: Teleporting vehicle 'veh8141'; collision with vehicle 'veh8090', lane='E_GOR_W_NMR_H_s_1', gap=-5.30, time=2639.00, stage=move.
Warning: Vehicle 'veh8141' ends teleporting on edge 'E_PNK_W_WZM_T', time=2639.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8115'; collision with vehicle 'veh8189', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=2641.00, stage=move.
Warning: Vehicle 'veh8194' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2643.00.
Warning: Vehicle 'veh8115' ends teleporting on edge 'E_PNK_W_WZM', time=2646.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh7862' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2676.00.
Warning: Vehicle 'veh7862' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.12, offset=5.27), time=2676.00.
Warning: Vehicle 'veh8674' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=2690.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
Warning: Vehicle 'veh8462' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2700.00.
INFO:TrafficSimulator:Step 2700: 894 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh8458' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=2734.00.
Warning: Teleporting vehicle 'veh8433'; collision with vehicle 'veh4848', lane='E_GOR_W_NMR_H_s_1', gap=-6.18, time=2741.00, stage=move.
Warning: Vehicle 'veh8264' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2742.00.
Warning: Vehicle 'veh8433' ends teleporting on edge 'E_PNK_W_WZM_T', time=2742.00.
Warning: Teleporting vehicle 'veh8447'; collision with vehicle 'veh4867', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=2744.00, stage=move.
Warning: Vehicle 'veh8447' ends teleporting on edge 'E_PNK_W_WZM_T', time=2744.00.
Warning: Teleporting vehicle 'veh8475'; collision with vehicle 'veh4908', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=2747.00, stage=move.
Warning: Vehicle 'veh8475' ends teleporting on edge 'E_PNK_W_WZM_T', time=2747.00.
Warning: Vehicle 'veh8118' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2755.00.
Warning: Vehicle 'veh8118' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-14.33, offset=4.47), time=2755.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Vehicle 'veh8589' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2770.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Vehicle 'veh8446' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2790.00.
Warning: Vehicle 'veh8446' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-21.46, offset=4.90), time=2790.00.
INFO:TrafficSimulator:Step 2800: 850 vehicles active
Warning: Vehicle 'veh4975' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2806.00.
Warning: Vehicle 'veh4975' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.69, offset=2.08), time=2806.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh9197' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2832.00.
Warning: Vehicle 'veh9197' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-19.92, offset=3.28), time=2832.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
INFO:TrafficSimulator:Step 2900: 854 vehicles active
Warning: Teleporting vehicle 'veh8688'; collision with vehicle 'veh8712', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=2904.00, stage=move.
Warning: Vehicle 'veh8688' ends teleporting on edge 'E_PNK_W_WZM', time=2907.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh9519' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2922.00.
Warning: Vehicle 'veh9519' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.42, offset=5.99), time=2922.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh9376' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2950.00.
Warning: Vehicle 'veh9376' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-17.12, offset=0.07), time=2950.00.
Warning: Vehicle 'veh9082' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=2950.00.
Warning: Vehicle 'veh9082' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-11.65, offset=0.77), time=2950.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
INFO:TrafficSimulator:Step 3000: 840 vehicles active
Warning: Teleporting vehicle 'veh8910'; collision with vehicle 'veh8985', lane='E_GOR_W_NMR_H_s_1', gap=-1.66, time=3002.00, stage=move.
Warning: Vehicle 'veh8910' ends teleporting on edge 'E_PNK_W_WZM_T', time=3002.00.
Warning: Vehicle 'veh8956' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3015.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Vehicle 'veh9785' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3077.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
INFO:TrafficSimulator:Step 3100: 824 vehicles active
Warning: Teleporting vehicle 'veh5390'; collision with vehicle 'veh5397', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=3101.00, stage=move.
Warning: Vehicle 'veh5390' ends teleporting on edge 'E_PNK_W_WZM_T', time=3101.00.
Warning: Vehicle 'veh9419' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3105.00.
Warning: Vehicle 'veh9441' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3105.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh10035' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3167.00.
Warning: Teleporting vehicle 'veh10067'; collision with vehicle 'veh9256', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=3173.00, stage=move.
Warning: Vehicle 'veh10067' ends teleporting on edge 'E_PNK_W_WZM_T', time=3173.00.
Warning: Teleporting vehicle 'veh9307'; collision with vehicle 'veh9371', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=3178.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Vehicle 'veh9307' ends teleporting on edge 'E_PNK_W_WZM', time=3181.00.
Warning: Vehicle 'veh5478' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3193.00.
Warning: Teleporting vehicle 'veh5478'; collision with vehicle 'veh5445', lane='E_GOR_W_NMR_H_s_1', gap=-1.77, time=3193.00, stage=move.
Warning: Vehicle 'veh5478' ends teleporting on edge 'E_PNK_W_WZM_T', time=3193.00.
INFO:TrafficSimulator:Step 3200: 805 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Vehicle 'veh10265' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3222.00.
Warning: Vehicle 'veh10522' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3230.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh9763' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Vehicle 'veh9763' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.66, offset=0.29), time=3240.00.
Warning: Vehicle 'veh3618' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3256.00.
Warning: Vehicle 'veh3618' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.40, offset=2.75), time=3256.00.
Warning: Teleporting vehicle 'veh9460'; collision with vehicle 'veh9565', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=3263.00, stage=move.
Warning: Vehicle 'veh9460' ends teleporting on edge 'E_PNK_W_WZM_T', time=3263.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Vehicle 'veh10573' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3297.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 826 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Vehicle 'veh10458' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh10458' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-14.71, offset=3.42), time=3330.00.
Warning: Vehicle 'veh10650' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh10650' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.79, offset=0.68), time=3330.00.
Warning: Vehicle 'veh5618' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3348.00.
Warning: Vehicle 'veh5618' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.41, offset=2.61), time=3348.00.
Warning: Vehicle 'veh5756' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3348.00.
Warning: Vehicle 'veh5756' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.44, offset=0.88), time=3348.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh11048' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=3360.00.
Warning: Vehicle 'veh11048' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.51, offset=1.42), time=3360.00.
Warning: Vehicle 'veh5740' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3377.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
INFO:TrafficSimulator:Step 3400: 807 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh11258' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=3420.00.
Warning: Vehicle 'veh11208' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=3437.00.
Warning: Vehicle 'veh11208' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-20.59, offset=6.89), time=3437.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11118'; collision with vehicle 'veh11185', lane='E_NMR_S_PNK_0', gap=-0.50, time=3452.00, stage=move.
Warning: Vehicle 'veh11118' ends teleporting on edge 'E_NMR_S_PNK_H_s', time=3452.00.
Warning: Vehicle 'veh5776' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3472.00.
Warning: Vehicle 'veh5776' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-20.00, offset=8.65), time=3472.00.
Warning: Vehicle 'veh5859' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3472.00.
Warning: Vehicle 'veh5859' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-18.34, offset=2.51), time=3472.00.
Warning: Teleporting vehicle 'veh5897'; collision with vehicle 'veh5895', lane='E_GOR_W_NMR_H_s_1', gap=-4.33, time=3473.00, stage=move.
Warning: Vehicle 'veh5897' ends teleporting on edge 'E_PNK_W_WZM_T', time=3473.00.
Warning: Vehicle 'veh11048' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3477.00.
Warning: Vehicle 'veh11048' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.65, offset=1.43), time=3477.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
INFO:TrafficSimulator:Step 3500: 834 vehicles active
Warning: Teleporting vehicle 'veh11308'; collision with vehicle 'veh11224', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=3505.00, stage=move.
Warning: Vehicle 'veh11308' ends teleporting on edge 'E_PNK_W_WZM_T', time=3505.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11382'; collision with vehicle 'veh11372', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=3533.00, stage=move.
Warning: Vehicle 'veh11382' ends teleporting on edge 'E_PNK_W_WZM', time=3536.00.
Warning: Vehicle 'veh3836' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3537.00.
Warning: Vehicle 'veh3836' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.10, offset=2.42), time=3537.00.
Warning: Vehicle 'veh6115' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3537.00.
Warning: Vehicle 'veh6115' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.71, offset=2.30), time=3537.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5937'; collision with vehicle 'veh10126', lane='E_GOR_W_NMR_H_s_1', gap=-2.37, time=3553.00, stage=move.
Warning: Vehicle 'veh11723' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3554.00.
Warning: Vehicle 'veh11723' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.03, offset=5.44), time=3554.00.
Warning: Vehicle 'veh11728' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=3554.00.
Warning: Vehicle 'veh5937' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3559.00.
Warning: Teleporting vehicle 'veh6005'; collision with vehicle 'veh6009', lane='E_GOR_W_NMR_H_s_1', gap=-2.49, time=3566.00, stage=move.
Warning: Vehicle 'veh6005' ends teleporting on edge 'E_PNK_W_WZM_T', time=3566.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
Warning: Vehicle 'veh11378' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh11378' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-17.35, offset=2.14), time=3600.00.
INFO:TrafficSimulator:Step 3600: 875 vehicles active
Warning: Teleporting vehicle 'veh11722'; collision with vehicle 'veh11757', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=3622.00, stage=move.
Warning: Vehicle 'veh11722' ends teleporting on edge 'E_PNK_W_WZM_T', time=3622.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
INFO:TrafficSimulator:Step 3700: 903 vehicles active
Warning: Vehicle 'veh11986' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3706.00.
Warning: Vehicle 'veh11986' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.61, offset=11.96), time=3706.00.
Warning: Teleporting vehicle 'veh11785'; collision with vehicle 'veh11928', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=3713.00, stage=move.
Warning: Teleporting vehicle 'veh12078'; collision with vehicle 'veh12025', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=3716.00, stage=move.
Warning: Vehicle 'veh11785' ends teleporting on edge 'E_PNK_W_WZM', time=3716.00.
Warning: Teleporting vehicle 'veh12086'; collision with vehicle 'veh10344', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=3718.00, stage=move.
Warning: Vehicle 'veh12078' ends teleporting on edge 'E_PNK_W_WZM_T', time=3718.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Vehicle 'veh12086' ends teleporting on edge 'E_PNK_W_WZM_T', time=3720.00.
Warning: Teleporting vehicle 'veh10367'; collision with vehicle 'veh10333', lane='E_GOR_W_NMR_H_s_1', gap=-6.75, time=3725.00, stage=move.
Warning: Vehicle 'veh10367' ends teleporting on edge 'E_PNK_W_WZM', time=3728.00.
Warning: Teleporting vehicle 'veh10578'; collision with vehicle 'veh10419', lane='E_GOR_W_NMR_H_s_1', gap=-5.16, time=3731.00, stage=move.
Warning: Vehicle 'veh10578' ends teleporting on edge 'E_PNK_W_WZM_T', time=3733.00.
Warning: Vehicle 'veh6335' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3738.00.
Warning: Vehicle 'veh6325' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3738.00.
Warning: Vehicle 'veh6325' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.92, offset=4.94), time=3738.00.
Warning: Teleporting vehicle 'veh6350'; collision with vehicle 'veh6332', lane='E_GOR_W_NMR_H_s_1', gap=-4.64, time=3738.00, stage=move.
Warning: Vehicle 'veh6350' ends teleporting on edge 'E_PNK_W_WZM_T', time=3738.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
INFO:TrafficSimulator:Step 3800: 954 vehicles active
Warning: Teleporting vehicle 'veh6466'; collision with vehicle 'veh6402', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=3802.00, stage=move.
Warning: Vehicle 'veh6466' ends teleporting on edge 'E_PNK_W_WZM_T', time=3802.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6514'; collision with vehicle 'veh10679', lane='E_GOR_W_NMR_H_s_1', gap=-4.37, time=3817.00, stage=move.
Warning: Vehicle 'veh6514' ends teleporting on edge 'E_PNK_W_WZM_T', time=3818.00.
Warning: Teleporting vehicle 'veh6628'; collision with vehicle 'veh6584', lane='E_GOR_W_NMR_H_s_1', gap=-4.90, time=3827.00, stage=move.
Warning: Vehicle 'veh6618' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3828.00.
Warning: Vehicle 'veh6628' ends teleporting on edge 'E_PNK_W_WZM_T', time=3828.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Vehicle 'veh11644' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3855.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6746'; collision with vehicle 'veh6791', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=3892.00, stage=move.
Warning: Vehicle 'veh6746' ends teleporting on edge 'E_PNK_W_WZM_T', time=3894.00.
Warning: Teleporting vehicle 'veh6792'; collision with vehicle 'veh12442', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=3895.00, stage=move.
Warning: Teleporting vehicle 'veh12714'; collision with vehicle 'veh6871', lane='E_GOR_W_NMR_H_s_1', gap=-6.10, time=3897.00, stage=move.
Warning: Vehicle 'veh6792' ends teleporting on edge 'E_PNK_W_WZM_T', time=3897.00.
Warning: Teleporting vehicle 'veh6885'; collision with vehicle 'veh12662', lane='E_GOR_W_NMR_H_s_1', gap=-5.22, time=3899.00, stage=move.
Warning: Vehicle 'veh6885' ends teleporting on edge 'E_PNK_W_WZM_T', time=3899.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 966 vehicles active
Warning: Vehicle 'veh12714' ends teleporting on edge 'E_PNK_W_WZM', time=3903.00.
Warning: Vehicle 'veh7039' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3918.00.
Warning: Vehicle 'veh7039' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.15, offset=1.68), time=3918.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh13029' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3942.00.
Warning: Vehicle 'veh13029' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-16.28, offset=0.09), time=3942.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Vehicle 'veh13026' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3972.00.
Warning: Teleporting vehicle 'veh7205'; collision with vehicle 'veh7173', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=3982.00, stage=move.
Warning: Teleporting vehicle 'veh7204'; collision with vehicle 'veh12813', lane='E_GOR_W_NMR_H_s_1', gap=-5.11, time=3985.00, stage=move.
Warning: Vehicle 'veh7204' ends teleporting on edge 'E_PNK_W_WZM_T', time=3987.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
INFO:TrafficSimulator:Step 4000: 971 vehicles active
Warning: Vehicle 'veh7272' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=4006.00.
Warning: Vehicle 'veh7393' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4012.00.
Warning: Vehicle 'veh12845' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=4017.00.
Warning: Vehicle 'veh12845' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-14.35, offset=4.05), time=4017.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7439'; collision with vehicle 'veh7432', lane='E_GOR_W_NMR_H_s_1', gap=-2.17, time=4022.00, stage=move.
Warning: Vehicle 'veh7439' ends teleporting on edge 'E_PNK_W_WZM_T', time=4022.00.
Warning: Vehicle 'veh13132' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4039.00.
Warning: Vehicle 'veh13132' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.23, offset=5.43), time=4039.00.
Warning: Teleporting vehicle 'veh13029'; collision with vehicle 'veh13190', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=4040.00, stage=move.
Warning: Vehicle 'veh13029' ends teleporting on edge 'E_PNK_W_WZM_T', time=4040.00.
Warning: Vehicle 'veh7205' ends teleporting on edge 'E_WZM_S', time=4041.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Vehicle 'veh7210' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4050.00.
Warning: Vehicle 'veh7210' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-15.55, offset=3.50), time=4050.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Vehicle 'veh13635' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4097.00.
Warning: Vehicle 'veh13635' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.04, offset=1.00), time=4097.00.
INFO:TrafficSimulator:Step 4100: 972 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13336'; collision with vehicle 'veh13374', lane='E_GOR_W_NMR_H_s_1', gap=-3.57, time=4125.00, stage=move.
Warning: Vehicle 'veh13336' ends teleporting on edge 'E_PNK_W_WZM_T', time=4125.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh13198' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
Warning: Vehicle 'veh13198' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-15.66, offset=1.21), time=4140.00.
Warning: Vehicle 'veh7833' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4164.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
Warning: Vehicle 'veh14008' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4200.00.
INFO:TrafficSimulator:Step 4200: 983 vehicles active
Warning: Vehicle 'veh14008' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-13.84, offset=2.44), time=4201.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh13639' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh11062' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7833'; collision with vehicle 'veh7864', lane='E_GOR_W_NMR_H_s_1', gap=-4.36, time=4270.00, stage=move.
Warning: Vehicle 'veh7833' ends teleporting on edge 'E_PNK_W_WZM_T', time=4270.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Vehicle 'veh14324' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4290.00.
Warning: Vehicle 'veh14324' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-21.71, offset=11.24), time=4290.00.
INFO:TrafficSimulator:Step 4300: 966 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
Warning: Vehicle 'veh14310' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4344.00.
Warning: Vehicle 'veh14310' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-17.18, offset=2.09), time=4344.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh14589' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4365.00.
Warning: Vehicle 'veh14457' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4378.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
Warning: Vehicle 'veh14624' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4380.00.
Warning: Vehicle 'veh14624' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.64, offset=7.66), time=4380.00.
Warning: Vehicle 'veh14168' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4398.00.
Warning: Vehicle 'veh14168' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-11.86, offset=2.52), time=4398.00.
Warning: Vehicle 'veh14248' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4398.00.
INFO:TrafficSimulator:Step 4400: 937 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh14677' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4434.00.
Warning: Vehicle 'veh14677' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-16.35, offset=2.53), time=4434.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Vehicle 'veh8251' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4464.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
Warning: Vehicle 'veh14479' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4487.00.
Warning: Vehicle 'veh14479' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-14.42, offset=3.38), time=4487.00.
Warning: Teleporting vehicle 'veh14293'; collision with vehicle 'veh14257', lane='E_GOR_W_NMR_H_s_1', gap=-1.95, time=4499.00, stage=move.
Warning: Vehicle 'veh14293' ends teleporting on edge 'E_PNK_W_WZM_T', time=4499.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
INFO:TrafficSimulator:Step 4500: 951 vehicles active
Warning: Vehicle 'veh4903' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4514.00.
Warning: Vehicle 'veh4903' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.83, offset=1.14), time=4514.00.
Warning: Teleporting vehicle 'veh14425'; collision with vehicle 'veh14350', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=4529.00, stage=move.
Warning: Vehicle 'veh14425' ends teleporting on edge 'E_PNK_W_WZM_T', time=4529.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh15145' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4578.00.
Warning: Vehicle 'veh15145' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.07, offset=4.03), time=4578.00.
Warning: Vehicle 'veh15149' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=4580.00.
Warning: Vehicle 'veh15149' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-12.31, offset=2.99), time=4580.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh14685' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh14685' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-10.47, offset=1.08), time=4591.00.
INFO:TrafficSimulator:Step 4600: 1009 vehicles active
Warning: Vehicle 'veh8378' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4608.00.
Warning: Teleporting vehicle 'veh14775'; collision with vehicle 'veh14654', lane='E_GOR_W_NMR_H_s_1', gap=-5.78, time=4617.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14800'; collision with vehicle 'veh14757', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=4620.00, stage=move.
Warning: Vehicle 'veh14775' ends teleporting on edge 'E_PNK_W_WZM', time=4620.00.
Warning: Vehicle 'veh14800' ends teleporting on edge 'E_PNK_W_WZM_T', time=4622.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh15640' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4670.00.
Warning: Vehicle 'veh15640' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-18.17, offset=8.82), time=4670.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Vehicle 'veh13173' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh13173' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.32, offset=1.03), time=4680.00.
Warning: Vehicle 'veh11640' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh11640' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.35, offset=0.52), time=4680.00.
INFO:TrafficSimulator:Step 4700: 1024 vehicles active
Warning: Teleporting vehicle 'veh15149'; collision with vehicle 'veh15523', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=4701.00, stage=move.
Warning: Vehicle 'veh5093' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4704.00.
Warning: Vehicle 'veh5093' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.10, offset=3.22), time=4704.00.
Warning: Vehicle 'veh15149' ends teleporting on edge 'E_PNK_W_WZM', time=4704.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh15928' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=4735.00.
Warning: Vehicle 'veh15928' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-22.42, offset=7.08), time=4735.00.
Warning: Vehicle 'veh12604' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=4735.00.
Warning: Vehicle 'veh11457' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4735.00.
Warning: Vehicle 'veh15922' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4735.00.
Warning: Vehicle 'veh15922' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-18.03, offset=7.24), time=4735.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Vehicle 'veh11884' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4770.00.
Warning: Vehicle 'veh15809' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4782.00.
Warning: Vehicle 'veh15809' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.15, offset=6.86), time=4782.00.
Warning: Teleporting vehicle 'veh15704'; collision with vehicle 'veh15640', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=4790.00, stage=move.
Warning: Vehicle 'veh15704' ends teleporting on edge 'E_PNK_W_WZM_T', time=4792.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11419'; collision with vehicle 'veh11801', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=4800.00, stage=move.
Warning: Vehicle 'veh11419' ends teleporting on edge 'E_PNK_W_WZM_T', time=4800.00.
INFO:TrafficSimulator:Step 4800: 991 vehicles active
Warning: Vehicle 'veh8724' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4814.00.
Warning: Vehicle 'veh8724' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.38, offset=5.22), time=4814.00.
Warning: Vehicle 'veh8716' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4814.00.
Warning: Vehicle 'veh8716' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.33, offset=6.49), time=4814.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh15383' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4847.00.
Warning: Vehicle 'veh15383' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-12.18, offset=2.79), time=4847.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16086'; collision with vehicle 'veh15952', lane='E_GOR_W_NMR_H_s_1', gap=-7.22, time=4882.00, stage=move.
Warning: Vehicle 'veh16086' ends teleporting on edge 'E_PNK_W_WZM_T', time=4882.00.
Warning: Teleporting vehicle 'veh11884'; collision with vehicle 'veh16245', lane='E_GOR_W_NMR_H_s_1', gap=-5.28, time=4886.00, stage=move.
Warning: Vehicle 'veh11884' ends teleporting on edge 'E_PNK_W_WZM_T', time=4887.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Vehicle 'veh16490' performs emergency braking on lane 'E_DOR_W_NMR_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=4890.00.
Warning: Vehicle 'veh16490' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_0' because of a red traffic light (decel=-10.52, offset=0.99), time=4890.00.
INFO:TrafficSimulator:Step 4900: 985 vehicles active
Warning: Vehicle 'veh9018' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4910.00.
Warning: Vehicle 'veh9018' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-22.15, offset=10.50), time=4910.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Vehicle 'veh16241' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4922.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9099'; collision with vehicle 'veh16292', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=4969.00, stage=move.
Warning: Vehicle 'veh9099' ends teleporting on edge 'E_PNK_W_WZM_T', time=4970.00.
Warning: Teleporting vehicle 'veh16508'; collision with vehicle 'veh16304', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=4972.00, stage=move.
Warning: Vehicle 'veh16508' ends teleporting on edge 'E_PNK_W_WZM_T', time=4974.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Vehicle 'veh5407' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4991.00.
Warning: Vehicle 'veh5407' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.81, offset=2.13), time=4991.00.
INFO:TrafficSimulator:Step 5000: 999 vehicles active
Warning: Vehicle 'veh11759' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5003.00.
Warning: Vehicle 'veh11759' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-22.24, offset=6.20), time=5003.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh16490' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5012.00.
Warning: Vehicle 'veh16490' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-15.69, offset=2.51), time=5012.00.
Warning: Vehicle 'veh9286' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5012.00.
Warning: Vehicle 'veh9286' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-14.51, offset=0.70), time=5012.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Vehicle 'veh17017' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5040.00.
Warning: Vehicle 'veh17017' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.68, offset=0.36), time=5040.00.
Warning: Teleporting vehicle 'veh9379'; collision with vehicle 'veh16882', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=5063.00, stage=move.
Warning: Vehicle 'veh9379' ends teleporting on edge 'E_PNK_W_WZM_T', time=5063.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Vehicle 'veh9469' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5086.00.
Warning: Vehicle 'veh17210' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5087.00.
Warning: Vehicle 'veh17215' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5087.00.
Warning: Vehicle 'veh17215' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.29, offset=1.61), time=5087.00.
Warning: Vehicle 'veh9647' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5099.00.
Warning: Vehicle 'veh9802' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5099.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 1022 vehicles active
Warning: Teleporting vehicle 'veh9674'; collision with vehicle 'veh9530', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=5108.00, stage=move.
Warning: Vehicle 'veh9674' ends teleporting on edge 'E_PNK_W_WZM_T', time=5108.00.
Warning: Vehicle 'veh17214' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5112.00.
Warning: Vehicle 'veh17214' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-12.09, offset=1.84), time=5112.00.
Warning: Vehicle 'veh16774' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5119.00.
Warning: Vehicle 'veh16774' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.66, offset=4.92), time=5119.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16953'; collision with vehicle 'veh9703', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=5148.00, stage=move.
Warning: Vehicle 'veh16953' ends teleporting on edge 'E_PNK_W_WZM_T', time=5148.00.
Warning: Teleporting vehicle 'veh16959'; collision with vehicle 'veh17145', lane='E_GOR_W_NMR_H_s_1', gap=-3.64, time=5154.00, stage=move.
Warning: Vehicle 'veh16959' ends teleporting on edge 'E_PNK_W_WZM_T', time=5156.00.
Warning: Teleporting vehicle 'veh17096'; collision with vehicle 'veh9805', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=5159.00, stage=move.
Warning: Vehicle 'veh17096' ends teleporting on edge 'E_PNK_W_WZM_T', time=5159.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Vehicle 'veh17524' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5173.00.
Warning: Vehicle 'veh17524' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.81, offset=4.31), time=5173.00.
Warning: Vehicle 'veh9896' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5185.00.
Warning: Vehicle 'veh17159' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5185.00.
Warning: Vehicle 'veh9994' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=5186.00.
Warning: Teleporting vehicle 'veh9893'; collision with vehicle 'veh9994', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=5187.00, stage=move.
Warning: Vehicle 'veh9893' ends teleporting on edge 'E_PNK_W_WZM_T', time=5187.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 1053 vehicles active
Warning: Vehicle 'veh17148' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5209.00.
Warning: Vehicle 'veh17148' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.25, offset=6.44), time=5209.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10034'; collision with vehicle 'veh10102', lane='E_GOR_W_NMR_H_s_1', gap=-5.15, time=5241.00, stage=move.
Warning: Teleporting vehicle 'veh10109'; collision with vehicle 'veh17289', lane='E_GOR_W_NMR_H_s_1', gap=-6.08, time=5244.00, stage=move.
Warning: Vehicle 'veh10034' ends teleporting on edge 'E_PNK_W_WZM', time=5244.00.
Warning: Vehicle 'veh10109' ends teleporting on edge 'E_PNK_W_WZM_T', time=5246.00.
Warning: Teleporting vehicle 'veh10108'; collision with vehicle 'veh9952', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=5247.00, stage=move.
Warning: Vehicle 'veh10108' ends teleporting on edge 'E_PNK_W_WZM_T', time=5248.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10163'; collision with vehicle 'veh10198', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=5260.00, stage=move.
Warning: Vehicle 'veh10163' ends teleporting on edge 'E_PNK_W_WZM_T', time=5262.00.
Warning: Vehicle 'veh5800' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5271.00.
Warning: Vehicle 'veh5800' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.06, offset=1.45), time=5271.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
INFO:TrafficSimulator:Step 5300: 1067 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17624'; collision with vehicle 'veh10396', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=5329.00, stage=move.
Warning: Teleporting vehicle 'veh17779'; collision with vehicle 'veh17690', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=5331.00, stage=move.
Warning: Vehicle 'veh17779' ends teleporting on edge 'E_PNK_W_WZM_T', time=5332.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Vehicle 'veh17624' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=5341.00.
Warning: Vehicle 'veh18182' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5352.00.
Warning: Vehicle 'veh10601' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5364.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
Warning: Vehicle 'veh17978' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5400.00.
INFO:TrafficSimulator:Step 5400: 1093 vehicles active
Warning: Vehicle 'veh17132' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5413.00.
Warning: Vehicle 'veh17132' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.41, offset=1.25), time=5413.00.
Warning: Teleporting vehicle 'veh17754'; collision with vehicle 'veh10701', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=5419.00, stage=move.
Warning: Vehicle 'veh17754' ends teleporting on edge 'E_PNK_W_WZM_T', time=5420.00.
Warning: Teleporting vehicle 'veh17983'; collision with vehicle 'veh18055', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=5422.00, stage=move.
Warning: Vehicle 'veh17983' ends teleporting on edge 'E_PNK_W_WZM_T', time=5424.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh10854' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5450.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh18088' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5463.00.
Warning: Vehicle 'veh18088' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.23, offset=3.33), time=5463.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
INFO:TrafficSimulator:Step 5500: 1132 vehicles active
Warning: Vehicle 'veh18483' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5503.00.
Warning: Vehicle 'veh18483' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-21.89, offset=2.19), time=5503.00.
Warning: Teleporting vehicle 'veh11003'; collision with vehicle 'veh11001', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=5510.00, stage=move.
Warning: Vehicle 'veh11003' ends teleporting on edge 'E_PNK_W_WZM_T', time=5510.00.
Warning: Teleporting vehicle 'veh18158'; collision with vehicle 'veh18254', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=5513.00, stage=move.
Warning: Vehicle 'veh18158' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=5519.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Vehicle 'veh6201' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5524.00.
Warning: Vehicle 'veh6201' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-15.69, offset=0.75), time=5524.00.
Warning: Vehicle 'veh18331' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5529.00.
Warning: Vehicle 'veh18331' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.53, offset=3.13), time=5529.00.
Warning: Vehicle 'veh11084' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5536.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
Warning: Vehicle 'veh18747' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5593.00.
Warning: Vehicle 'veh18747' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-20.18, offset=1.25), time=5593.00.
Warning: Teleporting vehicle 'veh11210'; collision with vehicle 'veh11213', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=5599.00, stage=move.
Warning: Vehicle 'veh11210' ends teleporting on edge 'E_PNK_W_WZM_T', time=5599.00.
INFO:TrafficSimulator:Step 5600: 1162 vehicles active
Warning: Teleporting vehicle 'veh11233'; collision with vehicle 'veh18590', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=5602.00, stage=move.
Warning: Vehicle 'veh11233' ends teleporting on edge 'E_PNK_W_WZM_T', time=5602.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh11368' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5626.00.
Warning: Vehicle 'veh11368' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-16.36, offset=3.23), time=5626.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh18963' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5650.00.
Warning: Vehicle 'veh18165' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5659.00.
Warning: Vehicle 'veh18165' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-11.11, offset=1.59), time=5659.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
Warning: Vehicle 'veh19401' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5670.00.
Warning: Vehicle 'veh19401' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-11.33, offset=0.30), time=5670.00.
Warning: Vehicle 'veh19201' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5689.00.
Warning: Teleporting vehicle 'veh11501'; collision with vehicle 'veh11532', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=5695.00, stage=move.
Warning: Vehicle 'veh6454' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5697.00.
Warning: Vehicle 'veh6454' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-11.50, offset=2.43), time=5697.00.
Warning: Teleporting vehicle 'veh11564'; collision with vehicle 'veh18688', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=5697.00, stage=move.
Warning: Vehicle 'veh11501' ends teleporting on edge 'E_PNK_W_WZM_T', time=5697.00.
Warning: Vehicle 'veh18728' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5698.00.
Warning: Vehicle 'veh11564' ends teleporting on edge 'E_PNK_W_WZM_T', time=5699.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 1188 vehicles active
Warning: Vehicle 'veh11683' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=5713.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh18968' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5749.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
Warning: Vehicle 'veh19711' performs emergency braking on lane 'E_AYA_N_GRN_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=5760.00.
Warning: Vehicle 'veh6511' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5777.00.
Warning: Vehicle 'veh11949' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5777.00.
Warning: Teleporting vehicle 'veh18882'; collision with vehicle 'veh18837', lane='E_GOR_W_NMR_H_s_1', gap=-6.53, time=5788.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18922'; collision with vehicle 'veh18980', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=5791.00, stage=move.
Warning: Vehicle 'veh18882' ends teleporting on edge 'E_PNK_W_WZM', time=5791.00.
Warning: Vehicle 'veh18922' ends teleporting on edge 'E_PNK_W_WZM_T', time=5792.00.
INFO:TrafficSimulator:Step 5800: 1177 vehicles active
Warning: Teleporting vehicle 'veh11864'; collision with vehicle 'veh11831', lane='E_GOR_W_NMR_H_s_1', gap=-3.19, time=5803.00, stage=move.
Warning: Vehicle 'veh11864' ends teleporting on edge 'E_PNK_W_WZM_T', time=5804.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh19958' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5878.00.
Warning: Vehicle 'veh19958' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-18.19, offset=8.51), time=5878.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
Warning: Vehicle 'veh20262' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5883.00.
Warning: Vehicle 'veh20262' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-18.78, offset=5.91), time=5883.00.
Warning: Vehicle 'veh19661' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5883.00.
Warning: Vehicle 'veh19661' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.59, offset=5.64), time=5883.00.
Warning: Teleporting vehicle 'veh19328'; collision with vehicle 'veh12924', lane='E_GOR_W_NMR_H_s_1', gap=-5.67, time=5887.00, stage=move.
Warning: Teleporting vehicle 'veh12967'; collision with vehicle 'veh12959', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=5889.00, stage=move.
Warning: Vehicle 'veh12967' ends teleporting on edge 'E_PNK_W_WZM_T', time=5890.00.
Warning: Vehicle 'veh19328' ends teleporting on edge 'E_PNK_W_WZM', time=5890.00.
INFO:TrafficSimulator:Step 5900: 1152 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Teleporting vehicle 'veh19511'; collision with vehicle 'veh19525', lane='E_GOR_W_NMR_H_s_1', gap=-5.15, time=5935.00, stage=move.
Warning: Vehicle 'veh19511' ends teleporting on edge 'E_PNK_W_WZM_T', time=5935.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Vehicle 'veh20351' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5974.00.
Warning: Vehicle 'veh20351' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-15.93, offset=3.00), time=5974.00.
Warning: Vehicle 'veh20450' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5974.00.
Warning: Vehicle 'veh20450' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-15.32, offset=0.99), time=5974.00.
Warning: Vehicle 'veh20665' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5979.00.
Warning: Vehicle 'veh20665' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-18.10, offset=5.91), time=5979.00.
Warning: Teleporting vehicle 'veh19741'; collision with vehicle 'veh19631', lane='E_GOR_W_NMR_H_s_1', gap=-6.41, time=5980.00, stage=move.
Warning: Vehicle 'veh19741' ends teleporting on edge 'E_PNK_W_WZM_T', time=5980.00.
Warning: Teleporting vehicle 'veh12716'; collision with vehicle 'veh12693', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=5983.00, stage=move.
Warning: Teleporting vehicle 'veh12115'; collision with vehicle 'veh12810', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=5987.00, stage=move.
Warning: Vehicle 'veh12115' ends teleporting on edge 'E_PNK_W_WZM_T', time=5987.00.
Warning: Vehicle 'veh12774' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5992.00.
Warning: Vehicle 'veh12774' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.30, offset=0.93), time=5992.00.
Warning: Vehicle 'veh20288' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5995.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 1101 vehicles active
Warning: Vehicle 'veh20626' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6020.00.
Warning: Vehicle 'veh20626' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-11.81, offset=0.82), time=6020.00.
Warning: Vehicle 'veh12716' ends teleporting on edge 'E_WZM_S', time=6027.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh20040'; collision with vehicle 'veh20296', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=6076.00, stage=move.
Warning: Vehicle 'veh20040' ends teleporting on edge 'E_PNK_W_WZM', time=6079.00.
Warning: Vehicle 'veh6802' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6085.00.
Warning: Vehicle 'veh6802' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-11.72, offset=2.17), time=6085.00.
Warning: Teleporting vehicle 'veh20420'; collision with vehicle 'veh20557', lane='E_GOR_W_NMR_H_s_1', gap=-1.76, time=6085.00, stage=move.
Warning: Vehicle 'veh20420' ends teleporting on edge 'E_PNK_W_WZM_T', time=6085.00.
Warning: Teleporting vehicle 'veh20493'; collision with vehicle 'veh20564', lane='E_GOR_W_NMR_H_s_1', gap=-3.99, time=6087.00, stage=move.
Warning: Vehicle 'veh20493' ends teleporting on edge 'E_PNK_W_WZM_T', time=6087.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh21104' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6090.00.
Warning: Teleporting vehicle 'veh12864'; collision with vehicle 'veh13177', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=6090.00, stage=move.
Warning: Vehicle 'veh12864' ends teleporting on edge 'E_PNK_W_WZM_T', time=6090.00.
Warning: Vehicle 'veh21104' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-13.73, offset=1.40), time=6091.00.
INFO:TrafficSimulator:Step 6100: 1070 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Vehicle 'veh21399' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6161.00.
Warning: Teleporting vehicle 'veh13197'; collision with vehicle 'veh13210', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=6162.00, stage=move.
Warning: Vehicle 'veh13197' ends teleporting on edge 'E_PNK_W_WZM', time=6165.00.
Warning: Vehicle 'veh21027' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6177.00.
Warning: Vehicle 'veh6802' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6178.00.
Warning: Vehicle 'veh6802' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.24, offset=7.27), time=6178.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Vehicle 'veh4603' performs emergency braking on lane 'E_PNK_E_WZM_H_slr_1' with decel=9.00, wished=4.50, severity=1.00, time=6180.00.
Warning: Teleporting vehicle 'veh13419'; collision with vehicle 'veh21130', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=6182.00, stage=move.
Warning: Vehicle 'veh4423' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6183.00.
Warning: Vehicle 'veh4423' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.00, offset=2.58), time=6183.00.
Warning: Vehicle 'veh13419' ends teleporting on edge 'E_PNK_W_WZM', time=6185.00.
Warning: Teleporting vehicle 'veh13148'; collision with vehicle 'veh12353', lane='E_GOR_W_NMR_H_s_1', gap=-6.47, time=6188.00, stage=move.
Warning: Vehicle 'veh13148' ends teleporting on edge 'E_PNK_W_WZM_T', time=6188.00.
INFO:TrafficSimulator:Step 6200: 1079 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh12630' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6230.00.
Warning: Vehicle 'veh12630' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.29, offset=3.93), time=6230.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12400'; collision with vehicle 'veh12387', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=6245.00, stage=move.
Warning: Teleporting vehicle 'veh21396'; collision with vehicle 'veh21201', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=6248.00, stage=move.
Warning: Vehicle 'veh12400' ends teleporting on edge 'E_PNK_W_WZM', time=6248.00.
Warning: Vehicle 'veh21396' ends teleporting on edge 'E_PNK_W_WZM_T', time=6248.00.
Warning: Vehicle 'veh21743' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6249.00.
Warning: Vehicle 'veh21743' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.32, offset=4.67), time=6249.00.
Warning: Vehicle 'veh21379' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6249.00.
Warning: Vehicle 'veh21379' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-16.54, offset=2.82), time=6249.00.
Warning: Teleporting vehicle 'veh13340'; collision with vehicle 'veh21471', lane='E_GOR_W_NMR_H_s_1', gap=-5.03, time=6252.00, stage=move.
Warning: Vehicle 'veh13340' ends teleporting on edge 'E_PNK_W_WZM_T', time=6254.00.
Warning: Teleporting vehicle 'veh13350'; collision with vehicle 'veh21450', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=6255.00, stage=move.
Warning: Vehicle 'veh13350' ends teleporting on edge 'E_PNK_W_WZM_T', time=6256.00.
Warning: Teleporting vehicle 'veh13464'; collision with vehicle 'veh6695', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=6257.00, stage=move.
Warning: Vehicle 'veh13464' ends teleporting on edge 'E_PNK_W_WZM_T', time=6258.00.
Warning: Teleporting vehicle 'veh12478'; collision with vehicle 'veh13470', lane='E_GOR_W_NMR_H_s_1', gap=-6.34, time=6260.00, stage=move.
Warning: Teleporting vehicle 'veh12529'; collision with vehicle 'veh12506', lane='E_GOR_W_NMR_H_s_1', gap=-4.51, time=6264.00, stage=move.
Warning: Vehicle 'veh12478' ends teleporting on edge 'E_PNK_W_WZM', time=6264.00.
Warning: Vehicle 'veh12529' ends teleporting on edge 'E_PNK_W_WZM_T', time=6264.00.
Warning: Teleporting vehicle 'veh12575'; collision with vehicle 'veh12559', lane='E_GOR_W_NMR_H_s_1', gap=-6.21, time=6268.00, stage=move.
Warning: Vehicle 'veh12575' ends teleporting on edge 'E_PNK_W_WZM_T', time=6268.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
Warning: Vehicle 'veh21363' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6285.00.
Warning: Vehicle 'veh21525' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6289.00.
Warning: Vehicle 'veh21832' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6289.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 1057 vehicles active
Warning: Vehicle 'veh21743' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6325.00.
Warning: Vehicle 'veh21743' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.27, offset=5.94), time=6325.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13455'; collision with vehicle 'veh13397', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=6331.00, stage=move.
Warning: Vehicle 'veh13455' ends teleporting on edge 'E_PNK_W_WZM_T', time=6333.00.
Warning: Teleporting vehicle 'veh13695'; collision with vehicle 'veh13550', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=6336.00, stage=move.
Warning: Vehicle 'veh13695' ends teleporting on edge 'E_PNK_W_WZM', time=6340.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
Warning: Vehicle 'veh21310' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6376.00.
Warning: Vehicle 'veh21310' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-12.39, offset=0.66), time=6376.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh13970' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh13970' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.08, offset=0.68), time=6390.00.
INFO:TrafficSimulator:Step 6400: 1070 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh6975' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6423.00.
Warning: Vehicle 'veh6975' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.50, offset=0.14), time=6423.00.
Warning: Teleporting vehicle 'veh13141'; collision with vehicle 'veh13131', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=6439.00, stage=move.
Warning: Vehicle 'veh13141' ends teleporting on edge 'E_PNK_W_WZM_T', time=6439.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
Warning: Vehicle 'veh22157' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6455.00.
Warning: Vehicle 'veh22157' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-21.00, offset=2.01), time=6455.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
Warning: Vehicle 'veh22160' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6480.00.
Warning: Vehicle 'veh22160' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.92, offset=0.71), time=6480.00.
Warning: Vehicle 'veh13792' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=6480.00.
Warning: Vehicle 'veh13792' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.49, offset=0.02), time=6480.00.
INFO:TrafficSimulator:Step 6500: 1065 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh13781' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6513.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
Warning: Vehicle 'veh22514' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6545.00.
Warning: Vehicle 'veh21914' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6557.00.
Warning: Vehicle 'veh21914' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.48, offset=8.19), time=6557.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Teleporting vehicle 'veh22629'; collision with vehicle 'veh22682', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=6595.00, stage=move.
Warning: Vehicle 'veh22629' ends teleporting on edge 'E_PNK_W_WZM_T', time=6597.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 1121 vehicles active
Warning: Vehicle 'veh22747' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6613.00.
Warning: Vehicle 'veh13761' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6629.00.
Warning: Vehicle 'veh13761' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-17.18, offset=2.42), time=6629.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh14069' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6631.00.
Warning: Vehicle 'veh14069' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.14, offset=4.57), time=6631.00.
Warning: Vehicle 'veh13777' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6641.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh23323' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh13076' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6660.00.
Warning: Vehicle 'veh23210' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6678.00.
Warning: Vehicle 'veh23210' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-18.84, offset=7.43), time=6678.00.
Warning: Teleporting vehicle 'veh13776'; collision with vehicle 'veh13777', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=6684.00, stage=move.
Warning: Vehicle 'veh13776' ends teleporting on edge 'E_PNK_W_WZM_T', time=6684.00.
Warning: Teleporting vehicle 'veh23067'; collision with vehicle 'veh14069', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=6687.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
INFO:TrafficSimulator:Step 6700: 1130 vehicles active
Warning: Vehicle 'veh7275' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6713.00.
Warning: Vehicle 'veh7275' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_0' because of a red traffic light (decel=-18.17, offset=1.90), time=6713.00.
Warning: Teleporting vehicle 'veh13981'; collision with vehicle 'veh14020', lane='E_GOR_W_NMR_H_s_1', gap=-5.88, time=6715.00, stage=move.
Warning: Vehicle 'veh13981' ends teleporting on edge 'E_PNK_W_WZM_T', time=6715.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh23067' ends teleporting on edge 'E_WZM_S', time=6735.00.
Warning: Teleporting vehicle 'veh23222'; collision with vehicle 'veh23264', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=6742.00, stage=move.
Warning: Vehicle 'veh23222' ends teleporting on edge 'E_PNK_W_WZM_T', time=6742.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
Warning: Vehicle 'veh13508' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6750.00.
Warning: Vehicle 'veh13508' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-13.29, offset=3.78), time=6750.00.
Warning: Vehicle 'veh23249' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6768.00.
Warning: Vehicle 'veh23249' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-15.40, offset=1.73), time=6768.00.
Warning: Teleporting vehicle 'veh23283'; collision with vehicle 'veh23423', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=6775.00, stage=move.
Warning: Vehicle 'veh23283' ends teleporting on edge 'E_PNK_W_WZM', time=6778.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
INFO:TrafficSimulator:Step 6800: 1080 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Vehicle 'veh23034' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6829.00.
Warning: Vehicle 'veh23034' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-18.59, offset=1.15), time=6829.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh23960' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6858.00.
Warning: Teleporting vehicle 'veh23599'; collision with vehicle 'veh14304', lane='E_GOR_W_NMR_H_s_1', gap=-6.72, time=6865.00, stage=move.
Warning: Vehicle 'veh23599' ends teleporting on edge 'E_PNK_W_WZM_T', time=6865.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Vehicle 'veh24194' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6886.00.
Warning: Vehicle 'veh24193' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6886.00.
Warning: Vehicle 'veh24193' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-21.57, offset=0.06), time=6886.00.
Warning: Vehicle 'veh14078' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6886.00.
Warning: Vehicle 'veh14078' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-12.04, offset=0.29), time=6887.00.
Warning: Vehicle 'veh23981' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6889.00.
Warning: Vehicle 'veh23966' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6889.00.
Warning: Vehicle 'veh23966' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-13.35, offset=2.43), time=6889.00.
Warning: Vehicle 'veh14438' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6889.00.
Warning: Vehicle 'veh14438' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.43, offset=9.16), time=6889.00.
Warning: Teleporting vehicle 'veh14475'; collision with vehicle 'veh14436', lane='E_GOR_W_NMR_H_s_1', gap=-0.45, time=6889.00, stage=move.
Warning: Vehicle 'veh14475' ends teleporting on edge 'E_PNK_W_WZM_T', time=6889.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
Warning: Vehicle 'veh14494' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6900.00.
Warning: Teleporting vehicle 'veh14494'; collision with vehicle 'veh14472', lane='E_GOR_W_NMR_H_s_1', gap=-1.66, time=6900.00, stage=move.
Warning: Vehicle 'veh14494' ends teleporting on edge 'E_PNK_W_WZM_T', time=6900.00.
INFO:TrafficSimulator:Step 6900: 1078 vehicles active
Warning: Teleporting vehicle 'veh5104'; junction collision with vehicle 'veh5130', lane=':J_WZM_PNK_12_0', gap=-0.65, time=6904.00, stage=move.
Warning: Vehicle 'veh5104' ends teleporting on edge 'E_PNK_E_NMR_T', time=6904.00.
Warning: Vehicle 'veh23337' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6919.00.
Warning: Vehicle 'veh23337' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.17, offset=4.27), time=6919.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh24306' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
Warning: Vehicle 'veh24306' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-13.36, offset=4.10), time=6930.00.
Warning: Teleporting vehicle 'veh23687'; collision with vehicle 'veh23795', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=6954.00, stage=move.
Warning: Vehicle 'veh23687' ends teleporting on edge 'E_PNK_W_WZM_T', time=6954.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh14818' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6960.00.
Warning: Vehicle 'veh14608' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6977.00.
Warning: Vehicle 'veh14608' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-19.74, offset=0.34), time=6977.00.
Warning: Vehicle 'veh14587' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6977.00.
Warning: Vehicle 'veh14587' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-16.65, offset=4.91), time=6977.00.
Warning: Vehicle 'veh24546' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6978.00.
Warning: Vehicle 'veh24553' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6978.00.
Warning: Vehicle 'veh14094' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6978.00.
Warning: Vehicle 'veh14094' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-23.29, offset=7.47), time=6978.00.
Warning: Vehicle 'veh14290' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6978.00.
Warning: Vehicle 'veh14290' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-21.00, offset=6.64), time=6978.00.
Warning: Vehicle 'veh14684' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6985.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
Warning: Vehicle 'veh24585' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6990.00.
INFO:TrafficSimulator:Step 7000: 1101 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh24638' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh24337' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7038.00.
Warning: Vehicle 'veh24554' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=7038.00.
Warning: Vehicle 'veh24554' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-11.69, offset=1.90), time=7038.00.
Warning: Teleporting vehicle 'veh24119'; collision with vehicle 'veh23990', lane='E_GOR_W_NMR_H_s_1', gap=-5.18, time=7044.00, stage=move.
Warning: Vehicle 'veh24119' ends teleporting on edge 'E_PNK_W_WZM', time=7048.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Vehicle 'veh24801' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh24801' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-11.29, offset=0.27), time=7050.00.
Warning: Vehicle 'veh7795' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7050.00.
Warning: Vehicle 'veh7795' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.98, offset=2.03), time=7050.00.
Warning: Vehicle 'veh14870' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7065.00.
Warning: Vehicle 'veh14870' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-14.18, offset=2.01), time=7065.00.
Warning: Vehicle 'veh24894' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=7070.00.
Warning: Vehicle 'veh24894' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-16.85, offset=0.53), time=7070.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
Warning: Vehicle 'veh24927' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7080.00.
Warning: Vehicle 'veh24927' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-23.04, offset=11.73), time=7080.00.
INFO:TrafficSimulator:Step 7100: 1117 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh14581' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Teleporting vehicle 'veh24159'; collision with vehicle 'veh15007', lane='E_GOR_W_NMR_H_s_1', gap=-6.62, time=7134.00, stage=move.
Warning: Vehicle 'veh24159' ends teleporting on edge 'E_PNK_W_WZM_T', time=7134.00.
Warning: Teleporting vehicle 'veh24355'; collision with vehicle 'veh24507', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=7137.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Vehicle 'veh24355' ends teleporting on edge 'E_PNK_W_WZM', time=7141.00.
Warning: Vehicle 'veh25230' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=7155.00.
Warning: Vehicle 'veh25230' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-22.84, offset=10.44), time=7155.00.
Warning: Teleporting vehicle 'veh15211'; collision with vehicle 'veh15143', lane='E_GOR_W_NMR_H_s_1', gap=-4.50, time=7166.00, stage=move.
Warning: Vehicle 'veh15211' ends teleporting on edge 'E_PNK_W_WZM_T', time=7166.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Vehicle 'veh25039' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7184.00.
Warning: Vehicle 'veh25039' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-11.33, offset=0.34), time=7184.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
Warning: Vehicle 'veh14747' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=7200.00.
Warning: Vehicle 'veh14747' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.61, offset=1.13), time=7200.00.
INFO:TrafficSimulator:Step 7200: 1111 vehicles active
Warning: Teleporting vehicle 'veh24614'; collision with vehicle 'veh24539', lane='E_GOR_W_NMR_H_s_1', gap=-5.85, time=7224.00, stage=move.
Warning: Vehicle 'veh24614' ends teleporting on edge 'E_PNK_W_WZM_T', time=7226.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14581'; collision with vehicle 'veh25031', lane='E_GOR_W_NMR_H_s_1', gap=-6.91, time=7231.00, stage=move.
Warning: Vehicle 'veh14581' ends teleporting on edge 'E_PNK_W_WZM', time=7234.00.
Warning: Teleporting vehicle 'veh14651'; collision with vehicle 'veh14650', lane='E_GOR_W_NMR_H_s_1', gap=-6.33, time=7236.00, stage=move.
Warning: Vehicle 'veh14651' ends teleporting on edge 'E_PNK_W_WZM_T', time=7237.00.
Warning: Teleporting vehicle 'veh15292'; collision with vehicle 'veh15319', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=7240.00, stage=move.
Warning: Vehicle 'veh15292' ends teleporting on edge 'E_PNK_W_WZM_T', time=7240.00.
Warning: Vehicle 'veh25293' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=7245.00.
Warning: Vehicle 'veh25293' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.42, offset=1.07), time=7245.00.
Warning: Vehicle 'veh15384' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=7245.00.
Warning: Vehicle 'veh15384' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-15.17, offset=1.81), time=7245.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Vehicle 'veh25161' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7278.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
Warning: Vehicle 'veh15204' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=7290.00.
Warning: Teleporting vehicle 'veh15476'; collision with vehicle 'veh15506', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=7296.00, stage=move.
Warning: Vehicle 'veh15476' ends teleporting on edge 'E_PNK_W_WZM_T', time=7296.00.
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 1188
INFO:TrafficSimulator:Completed vehicles: 267
INFO:TrafficSimulator:Completion rate: 22.5%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 18479
INFO:TreeMethodController:Vehicle total time: 6234931
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 18479
INFO:TreeMethodController:Tree Method - Total driving time: 6234931
INFO:TreeMethodController:Tree Method - Average duration: 337.41 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 18479
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 100.87s
 TraCI-Duration: 57.65s
 Real time factor: 72.3675
 UPS: 66569.621508
Vehicles:
 Inserted: 19276 (Loaded: 25470)
 Running: 921
 Waiting: 6194
 Teleports: 245 (Collisions: 245)
 Emergency Stops: 207
 Emergency Braking: 336
Statistics (avg of 18355):
 RouteLength: 1458.18
 Speed: 6.57
 Duration: 339.59
 WaitingTime: 158.60
 TimeLoss: 235.95
 DepartDelay: 324.17
DijkstraRouter answered 330224 queries and explored 16.00 edges on average.
DijkstraRouter spent 0.35s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 1188
INFO:SamplePipeline:completed_vehicles: 267
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 22.474747474747474
INFO:__main__:Pipeline execution completed successfully
