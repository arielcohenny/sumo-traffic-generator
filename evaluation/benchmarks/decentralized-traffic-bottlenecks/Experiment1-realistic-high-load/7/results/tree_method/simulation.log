INFO:SamplePipeline:Prepared output directory: workspace
INFO:SamplePipeline:Tree Method Sample Mode: Using pre-built network from /Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/evaluation/datasets/decentralized_traffic_bottleneck/Experiment1-realistic-high-load/7
INFO:SamplePipeline:Skipping Steps 1-8, going directly to Step 9 (Dynamic Simulation)
INFO:SamplePipeline:Copied network.net.xml -> workspace/grid.net.xml
INFO:SamplePipeline:Copied vehicles.trips.xml -> workspace/vehicles.rou.xml
INFO:SamplePipeline:Copied simulation.sumocfg.xml -> workspace/grid.sumocfg
INFO:SamplePipeline:Updated SUMO config file paths
INFO:SamplePipeline:Found SUMO config end time: 7300 seconds
INFO:SamplePipeline:CLI end time was: 7300 seconds
INFO:SamplePipeline:Overriding end time to match SUMO config: 7300 seconds
INFO:SamplePipeline:--- Step 9: Dynamic Simulation (Tree Method Sample) ---
INFO:TrafficSimulator:Initializing traffic simulation...
INFO:TrafficSimulator:QA: Traffic control method selected: tree_method
INFO:TrafficSimulator:QA: Controller type: TreeMethodController
INFO:TrafficSimulator:Starting SUMO simulation with TraCI...
 Retrying in 1 seconds
***Starting server on port 53595 ***
Loading net-file from 'workspace/grid.net.xml' ... done (26ms).
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 7 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 4 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_GRN_ALN', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 7 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_HLC_AYA', program '0' for tl-index 3 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_JBT', program '0' for tl-index 10 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 5 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 2 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_PNK', program '0' for tl-index 0 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 13 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_NMR_YMK', program '0' for tl-index 5 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 4 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 11 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 0 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_PNK', program '0' for tl-index 8 when switching to phase 0.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 0 when switching to phase 1.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 5 when switching to phase 2.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 8 when switching to phase 3.
Warning: Missing yellow phase in tlLogic 'tl_WZM_YMK', program '0' for tl-index 12 when switching to phase 0.
Loading route-files incrementally from 'workspace/vehicles.rou.xml'
Loading done.
Simulation version 1.22.0 started with time: 0.00.
INFO:TreeMethodController:=== TREE METHOD CONTROLLER INITIALIZATION ===
INFO:TreeMethodController:QA: TREE METHOD - Initializing Tree Method objects...
INFO:TreeMethodController:QA: TREE METHOD - Built network JSON file: workspace/grid.net.json
INFO:TreeMethodController:QA: TREE METHOD - Loaded network tree and run configuration successfully
INFO:TreeMethodController:QA: TREE METHOD - Loaded network data from JSON
INFO:TreeMethodController:QA: TREE METHOD - Initialized Tree Method Graph object
INFO:TreeMethodController:QA: TREE METHOD - Built Tree Method Graph from network data
INFO:TreeMethodController:QA: TREE METHOD - Built network graph and calculated cycle time: 90s
INFO:TreeMethodController:QA: TREE METHOD - Integration setup verified successfully
INFO:TreeMethodController:QA: TREE METHOD - Connected to 7 traffic lights
INFO:TreeMethodController:QA: TREE METHOD - Graph initialized with 7 traffic light nodes
INFO:TreeMethodController:QA: TREE METHOD - Initialization complete, ready for algorithm control
INFO:TrafficSimulator:QA: Traffic controller initialization completed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 0: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 0: Phase map is None at time 0 - algorithm may have crashed
INFO:TrafficSimulator:Step 0: 2 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 30: Phase map is None at time 30 - algorithm may have crashed
Warning: Vehicle 'veh86' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=40.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 60: Phase map is None at time 60 - algorithm may have crashed
Warning: Vehicle 'veh124' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=60.00.
Warning: Teleporting vehicle 'veh29'; collision with vehicle 'veh10', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=88.00, stage=move.
Warning: Vehicle 'veh29' ends teleporting on edge 'E_PNK_W_WZM_T', time=88.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 90: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 90: Phase map is None at time 90 - algorithm may have crashed
INFO:TrafficSimulator:Step 100: 254 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 120: Phase map is None at time 120 - algorithm may have crashed
Warning: Vehicle 'veh292' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh292' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-14.43, offset=0.94), time=125.00.
Warning: Vehicle 'veh142' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Vehicle 'veh142' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-17.90, offset=8.56), time=125.00.
Warning: Vehicle 'veh111' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=125.00.
Warning: Teleporting vehicle 'veh130'; collision with vehicle 'veh89', lane='E_GOR_W_NMR_H_s_1', gap=-5.66, time=131.00, stage=move.
Warning: Vehicle 'veh130' ends teleporting on edge 'E_PNK_W_WZM_T', time=131.00.
Warning: Teleporting vehicle 'veh118'; collision with vehicle 'veh74', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=134.00, stage=move.
Warning: Vehicle 'veh118' ends teleporting on edge 'E_PNK_W_WZM', time=138.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 150: Phase map is None at time 150 - algorithm may have crashed
Warning: Vehicle 'veh186' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=150.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 180: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 180: Phase map is None at time 180 - algorithm may have crashed
INFO:TrafficSimulator:Step 200: 466 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 210: Phase map is None at time 210 - algorithm may have crashed
Warning: Vehicle 'veh340' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=215.00.
Warning: Teleporting vehicle 'veh278'; collision with vehicle 'veh240', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=221.00, stage=move.
Warning: Teleporting vehicle 'veh339'; collision with vehicle 'veh358', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=224.00, stage=move.
Warning: Vehicle 'veh278' ends teleporting on edge 'E_PNK_W_WZM', time=224.00.
Warning: Vehicle 'veh339' ends teleporting on edge 'E_PNK_W_WZM_T', time=224.00.
Warning: Teleporting vehicle 'veh381'; collision with vehicle 'veh360', lane='E_GOR_W_NMR_H_s_1', gap=-7.13, time=226.00, stage=move.
Warning: Vehicle 'veh381' ends teleporting on edge 'E_PNK_W_WZM_T', time=226.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 240: Phase map is None at time 240 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 270: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 270: Phase map is None at time 270 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 300: Phase map is None at time 300 - algorithm may have crashed
INFO:TrafficSimulator:Step 300: 566 vehicles active
Warning: Vehicle 'veh746' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=305.00.
Warning: Vehicle 'veh746' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-18.43, offset=2.15), time=305.00.
Warning: Vehicle 'veh842' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=311.00.
Warning: Teleporting vehicle 'veh389'; collision with vehicle 'veh545', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=311.00, stage=move.
Warning: Vehicle 'veh389' ends teleporting on edge 'E_PNK_W_WZM_T', time=313.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 330: Phase map is None at time 330 - algorithm may have crashed
Warning: Teleporting vehicle 'veh647'; collision with vehicle 'veh411', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=350.00, stage=move.
Warning: Vehicle 'veh647' ends teleporting on edge 'E_PNK_W_WZM_T', time=350.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 360: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 360: Phase map is None at time 360 - algorithm may have crashed
Warning: Vehicle 'veh951' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=360.00.
Warning: Vehicle 'veh951' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.24, offset=1.00), time=360.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 390: Phase map is None at time 390 - algorithm may have crashed
Warning: Vehicle 'veh1021' performs emergency braking on lane 'E_HLC_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Vehicle 'veh1021' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_2' because of a red traffic light (decel=-20.94, offset=2.22), time=395.00.
Warning: Vehicle 'veh714' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=395.00.
Warning: Teleporting vehicle 'veh757'; collision with vehicle 'veh676', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=397.00, stage=move.
INFO:TrafficSimulator:Step 400: 631 vehicles active
Warning: Vehicle 'veh757' ends teleporting on edge 'E_PNK_W_WZM', time=401.00.
Warning: Teleporting vehicle 'veh876'; collision with vehicle 'veh810', lane='E_GOR_W_NMR_H_s_1', gap=-6.08, time=409.00, stage=move.
Warning: Vehicle 'veh876' ends teleporting on edge 'E_PNK_W_WZM_T', time=411.00.
Warning: Vehicle 'veh826' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=412.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 420: Phase map is None at time 420 - algorithm may have crashed
Warning: Vehicle 'veh833' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=424.00.
Warning: Vehicle 'veh833' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-14.64, offset=2.23), time=424.00.
Warning: Teleporting vehicle 'veh932'; collision with vehicle 'veh894', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=427.00, stage=move.
Warning: Vehicle 'veh932' ends teleporting on edge 'E_PNK_W_WZM_T', time=428.00.
Warning: Teleporting vehicle 'veh965'; collision with vehicle 'veh911', lane='E_GOR_W_NMR_H_s_1', gap=-5.67, time=430.00, stage=move.
Warning: Vehicle 'veh965' ends teleporting on edge 'E_PNK_W_WZM_T', time=430.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 450: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 450: Phase map is None at time 450 - algorithm may have crashed
Warning: Vehicle 'veh1263' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=479.00.
Warning: Vehicle 'veh1263' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_2' because of a red traffic light (decel=-17.10, offset=6.34), time=479.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 480: Phase map is None at time 480 - algorithm may have crashed
Warning: Teleporting vehicle 'veh934'; collision with vehicle 'veh1099', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=485.00, stage=move.
Warning: Teleporting vehicle 'veh957'; collision with vehicle 'veh880', lane='E_GOR_W_NMR_H_s_1', gap=-3.00, time=488.00, stage=move.
Warning: Vehicle 'veh934' ends teleporting on edge 'E_PNK_W_WZM', time=488.00.
Warning: Vehicle 'veh1443' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=490.00.
Warning: Vehicle 'veh1443' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-18.45, offset=4.15), time=490.00.
Warning: Teleporting vehicle 'veh1105'; collision with vehicle 'veh945', lane='E_GOR_W_NMR_H_s_1', gap=-5.32, time=490.00, stage=move.
Warning: Teleporting vehicle 'veh1097'; collision with vehicle 'veh1065', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=493.00, stage=move.
Warning: Vehicle 'veh1097' ends teleporting on edge 'E_PNK_W_WZM_T', time=493.00.
Warning: Vehicle 'veh1105' ends teleporting on edge 'E_PNK_W_WZM', time=494.00.
Warning: Teleporting vehicle 'veh1127'; collision with vehicle 'veh1056', lane='E_GOR_W_NMR_H_s_1', gap=-5.79, time=495.00, stage=move.
Warning: Vehicle 'veh1127' ends teleporting on edge 'E_PNK_W_WZM_T', time=495.00.
INFO:TrafficSimulator:Step 500: 645 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 510: Phase map is None at time 510 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1176'; collision with vehicle 'veh1213', lane='E_GOR_W_NMR_H_s_1', gap=-6.25, time=519.00, stage=move.
Warning: Vehicle 'veh1176' ends teleporting on edge 'E_PNK_W_WZM_T', time=519.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 540: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 540: Phase map is None at time 540 - algorithm may have crashed
Warning: Vehicle 'veh957' teleports beyond arrival edge 'E_WZM_S', time=557.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 570: Phase map is None at time 570 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1438'; collision with vehicle 'veh1324', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=573.00, stage=move.
Warning: Vehicle 'veh1050' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=575.00.
Warning: Vehicle 'veh1050' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.08, offset=5.14), time=575.00.
Warning: Vehicle 'veh1438' ends teleporting on edge 'E_PNK_W_WZM', time=576.00.
Warning: Vehicle 'veh1353' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=580.00.
Warning: Vehicle 'veh1281' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=588.00.
Warning: Teleporting vehicle 'veh1488'; collision with vehicle 'veh1401', lane='E_GOR_W_NMR_H_s_1', gap=-4.73, time=594.00, stage=move.
Warning: Vehicle 'veh1488' ends teleporting on edge 'E_PNK_W_WZM_T', time=594.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 600: Phase map is None at time 600 - algorithm may have crashed
INFO:TrafficSimulator:Step 600: 688 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 630: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 630: Phase map is None at time 630 - algorithm may have crashed
Warning: Vehicle 'veh1869' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=630.00.
Warning: Vehicle 'veh1869' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_2' because of a red traffic light (decel=-15.75, offset=0.44), time=630.00.
Warning: Vehicle 'veh1607' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=630.00.
Warning: Vehicle 'veh1607' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-12.09, offset=3.01), time=630.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 660: Phase map is None at time 660 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1429'; collision with vehicle 'veh1427', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=667.00, stage=move.
Warning: Vehicle 'veh1429' ends teleporting on edge 'E_PNK_W_WZM_T', time=667.00.
Warning: Vehicle 'veh1709' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=668.00.
Warning: Vehicle 'veh1709' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.33, offset=0.96), time=668.00.
Warning: Vehicle 'veh1443' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=686.00.
Warning: Vehicle 'veh1443' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-14.93, offset=0.43), time=686.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 690: Phase map is None at time 690 - algorithm may have crashed
INFO:TrafficSimulator:Step 700: 718 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 720: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 720: Phase map is None at time 720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1721'; collision with vehicle 'veh1747', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=722.00, stage=move.
Warning: Vehicle 'veh1721' ends teleporting on edge 'E_PNK_W_WZM_T', time=722.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 750: Phase map is None at time 750 - algorithm may have crashed
Warning: Vehicle 'veh1312' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=758.00.
Warning: Vehicle 'veh1312' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-16.15, offset=2.89), time=758.00.
Warning: Vehicle 'veh2266' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=760.00.
Warning: Vehicle 'veh2266' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-19.55, offset=5.97), time=760.00.
Warning: Teleporting vehicle 'veh1753'; collision with vehicle 'veh1788', lane='E_GOR_W_NMR_H_s_1', gap=-5.29, time=766.00, stage=move.
Warning: Vehicle 'veh1753' ends teleporting on edge 'E_PNK_W_WZM_T', time=768.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 780: Phase map is None at time 780 - algorithm may have crashed
INFO:TrafficSimulator:Step 800: 780 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 810: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 810: Phase map is None at time 810 - algorithm may have crashed
Warning: Vehicle 'veh2408' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=810.00.
Warning: Vehicle 'veh2408' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_0' because of a red traffic light (decel=-12.61, offset=0.04), time=810.00.
Warning: Vehicle 'veh2149' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=832.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 840: Phase map is None at time 840 - algorithm may have crashed
Warning: Teleporting vehicle 'veh1905'; collision with vehicle 'veh1917', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=843.00, stage=move.
Warning: Vehicle 'veh1905' ends teleporting on edge 'E_PNK_W_WZM_T', time=844.00.
Warning: Teleporting vehicle 'veh1975'; collision with vehicle 'veh2036', lane='E_GOR_W_NMR_H_s_1', gap=-5.51, time=848.00, stage=move.
Warning: Vehicle 'veh1975' ends teleporting on edge 'E_PNK_W_WZM_T', time=848.00.
Warning: Vehicle 'veh2548' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=850.00.
Warning: Vehicle 'veh2548' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-24.45, offset=1.96), time=850.00.
Warning: Vehicle 'veh2097' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=850.00.
Warning: Vehicle 'veh2097' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-21.98, offset=2.21), time=850.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 870: Phase map is None at time 870 - algorithm may have crashed
Warning: Vehicle 'veh2161' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=896.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 900: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 900: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 900: Phase map is None at time 900 - algorithm may have crashed
INFO:TrafficSimulator:Step 900: 808 vehicles active
Warning: Vehicle 'veh2597' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=926.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 930: Phase map is None at time 930 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2216'; collision with vehicle 'veh2245', lane='E_GOR_W_NMR_H_s_1', gap=-4.83, time=932.00, stage=move.
Warning: Vehicle 'veh2216' ends teleporting on edge 'E_PNK_W_WZM', time=935.00.
Warning: Vehicle 'veh2576' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=938.00.
Warning: Vehicle 'veh2576' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-18.40, offset=8.18), time=938.00.
Warning: Vehicle 'veh2822' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=940.00.
Warning: Vehicle 'veh2822' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-17.88, offset=1.95), time=940.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 960: Phase map is None at time 960 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 990: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 990: Phase map is None at time 990 - algorithm may have crashed
INFO:TrafficSimulator:Step 1000: 806 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1020: Phase map is None at time 1020 - algorithm may have crashed
Warning: Vehicle 'veh3079' performs emergency braking on lane 'E_DOR_W_NMR_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=1020.00.
Warning: Vehicle 'veh3079' performs emergency stop at the end of lane 'E_DOR_W_NMR_H_r_1' because of a red traffic light (decel=-12.10, offset=1.73), time=1020.00.
Warning: Teleporting vehicle 'veh2851'; collision with vehicle 'veh2457', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=1020.00, stage=move.
Warning: Vehicle 'veh2851' ends teleporting on edge 'E_PNK_W_WZM', time=1023.00.
Warning: Vehicle 'veh2728' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1028.00.
Warning: Vehicle 'veh2633' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1035.00.
Warning: Vehicle 'veh2633' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.36, offset=9.12), time=1035.00.
Warning: Teleporting vehicle 'veh2277'; collision with vehicle 'veh2756', lane='E_GOR_W_NMR_H_s_1', gap=-3.83, time=1036.00, stage=move.
Warning: Vehicle 'veh2277' ends teleporting on edge 'E_PNK_W_WZM_T', time=1036.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1050: Phase map is None at time 1050 - algorithm may have crashed
Warning: Vehicle 'veh3160' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1057.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1080: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1080: Phase map is None at time 1080 - algorithm may have crashed
Warning: Vehicle 'veh2541' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh2541' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-14.50, offset=4.47), time=1080.00.
Warning: Vehicle 'veh3172' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1080.00.
Warning: Vehicle 'veh3172' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-11.86, offset=2.41), time=1080.00.
INFO:TrafficSimulator:Step 1100: 824 vehicles active
Warning: Vehicle 'veh2566' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1103.00.
Warning: Teleporting vehicle 'veh2330'; collision with vehicle 'veh2785', lane='E_GOR_W_NMR_H_s_1', gap=-6.92, time=1106.00, stage=move.
Warning: Vehicle 'veh2330' ends teleporting on edge 'E_PNK_W_WZM', time=1109.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1110: Phase map is None at time 1110 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2460'; collision with vehicle 'veh2308', lane='E_GOR_W_NMR_H_s_1', gap=-3.76, time=1111.00, stage=move.
Warning: Vehicle 'veh2460' ends teleporting on edge 'E_PNK_W_WZM_T', time=1111.00.
Warning: Teleporting vehicle 'veh2855'; collision with vehicle 'veh3138', lane='E_GOR_W_NMR_H_s_1', gap=-2.13, time=1115.00, stage=move.
Warning: Vehicle 'veh2855' ends teleporting on edge 'E_PNK_W_WZM_T', time=1115.00.
Warning: Vehicle 'veh3442' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=1124.00.
Warning: Vehicle 'veh3450' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1124.00.
Warning: Vehicle 'veh3034' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1124.00.
Warning: Vehicle 'veh2953' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=1124.00.
Warning: Vehicle 'veh2921' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1124.00.
Warning: Vehicle 'veh2921' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-15.07, offset=5.38), time=1124.00.
Warning: Vehicle 'veh2813' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1137.00.
Warning: Vehicle 'veh2813' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.19, offset=7.34), time=1137.00.
Warning: Vehicle 'veh1116' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1137.00.
Warning: Vehicle 'veh2740' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1137.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1140: Phase map is None at time 1140 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1170: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1170: Phase map is None at time 1170 - algorithm may have crashed
Warning: Vehicle 'veh2692' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1170.00.
Warning: Vehicle 'veh3410' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1186.00.
Warning: Vehicle 'veh3410' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-16.67, offset=4.17), time=1186.00.
Warning: Teleporting vehicle 'veh3049'; collision with vehicle 'veh2946', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=1193.00, stage=move.
Warning: Vehicle 'veh3049' ends teleporting on edge 'E_PNK_W_WZM_T', time=1194.00.
Warning: Vehicle 'veh1844' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1195.00.
Warning: Vehicle 'veh1844' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-13.37, offset=0.80), time=1195.00.
Warning: Teleporting vehicle 'veh3124'; collision with vehicle 'veh3097', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=1196.00, stage=move.
Warning: Teleporting vehicle 'veh2472'; collision with vehicle 'veh3146', lane='E_GOR_W_NMR_H_s_1', gap=-6.35, time=1199.00, stage=move.
Warning: Vehicle 'veh3124' ends teleporting on edge 'E_PNK_W_WZM', time=1199.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1200: Phase map is None at time 1200 - algorithm may have crashed
INFO:TrafficSimulator:Step 1200: 807 vehicles active
Warning: Teleporting vehicle 'veh2547'; collision with vehicle 'veh3103', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=1201.00, stage=move.
Warning: Teleporting vehicle 'veh2573'; collision with vehicle 'veh2512', lane='E_GOR_W_NMR_H_s_1', gap=-3.72, time=1203.00, stage=move.
Warning: Vehicle 'veh2472' ends teleporting on edge 'E_PNK_W_WZM', time=1203.00.
Warning: Teleporting vehicle 'veh2452'; collision with vehicle 'veh2562', lane='E_GOR_W_NMR_H_s_1', gap=-5.44, time=1205.00, stage=move.
Warning: Vehicle 'veh2452' ends teleporting on edge 'E_PNK_W_WZM_T', time=1207.00.
Warning: Teleporting vehicle 'veh2592'; collision with vehicle 'veh2609', lane='E_GOR_W_NMR_H_s_1', gap=-3.52, time=1208.00, stage=move.
Warning: Vehicle 'veh2592' ends teleporting on edge 'E_PNK_W_WZM_T', time=1209.00.
Warning: Teleporting vehicle 'veh2620'; collision with vehicle 'veh3160', lane='E_GOR_W_NMR_H_s_1', gap=-3.94, time=1210.00, stage=move.
Warning: Vehicle 'veh2620' ends teleporting on edge 'E_PNK_W_WZM_T', time=1211.00.
Warning: Teleporting vehicle 'veh3220'; collision with vehicle 'veh2520', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=1212.00, stage=move.
Warning: Vehicle 'veh3220' ends teleporting on edge 'E_PNK_W_WZM_T', time=1213.00.
Warning: Teleporting vehicle 'veh3254'; collision with vehicle 'veh3210', lane='E_GOR_W_NMR_H_s_1', gap=-5.31, time=1214.00, stage=move.
Warning: Vehicle 'veh3254' ends teleporting on edge 'E_PNK_W_WZM_T', time=1215.00.
Warning: Teleporting vehicle 'veh3231'; collision with vehicle 'veh3223', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=1216.00, stage=move.
Warning: Vehicle 'veh3231' ends teleporting on edge 'E_PNK_W_WZM_T', time=1217.00.
Warning: Teleporting vehicle 'veh3341'; collision with vehicle 'veh3329', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=1222.00, stage=move.
Warning: Vehicle 'veh3341' ends teleporting on edge 'E_PNK_W_WZM_T', time=1222.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1230: Phase map is None at time 1230 - algorithm may have crashed
Warning: Vehicle 'veh3266' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1237.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1260: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1260: Phase map is None at time 1260 - algorithm may have crashed
Warning: Vehicle 'veh3736' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1260.00.
Warning: Teleporting vehicle 'veh2739'; collision with vehicle 'veh2726', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=1278.00, stage=move.
Warning: Vehicle 'veh2739' ends teleporting on edge 'E_PNK_W_WZM_T', time=1278.00.
Warning: Teleporting vehicle 'veh2753'; collision with vehicle 'veh2841', lane='E_GOR_W_NMR_H_s_1', gap=-5.37, time=1282.00, stage=move.
Warning: Vehicle 'veh2753' ends teleporting on edge 'E_PNK_W_WZM', time=1286.00.
Warning: Vehicle 'veh1967' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1288.00.
Warning: Vehicle 'veh1967' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.34, offset=1.52), time=1288.00.
Warning: Teleporting vehicle 'veh2854'; collision with vehicle 'veh3661', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=1288.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1290: Phase map is None at time 1290 - algorithm may have crashed
Warning: Teleporting vehicle 'veh2745'; collision with vehicle 'veh2875', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=1290.00, stage=move.
Warning: Teleporting vehicle 'veh3675'; collision with vehicle 'veh3463', lane='E_GOR_W_NMR_H_s_1', gap=-4.32, time=1292.00, stage=move.
Warning: Teleporting vehicle 'veh3546'; collision with vehicle 'veh3686', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=1294.00, stage=move.
Warning: Vehicle 'veh3675' ends teleporting on edge 'E_PNK_W_WZM', time=1295.00.
Warning: Vehicle 'veh3546' ends teleporting on edge 'E_PNK_W_WZM', time=1297.00.
Warning: Vehicle 'veh2547' teleports beyond arrival edge 'E_WZM_S', time=1300.00.
Warning: Vehicle 'veh2573' teleports beyond arrival edge 'E_WZM_S', time=1300.00.
INFO:TrafficSimulator:Step 1300: 812 vehicles active
Warning: Vehicle 'veh4038' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1301.00.
Warning: Vehicle 'veh2745' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=1308.00.
Warning: Teleporting vehicle 'veh3650'; collision with vehicle 'veh3671', lane='E_GOR_W_NMR_H_s_1', gap=-6.27, time=1309.00, stage=move.
Warning: Vehicle 'veh3650' ends teleporting on edge 'E_PNK_W_WZM_T', time=1310.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1320: Phase map is None at time 1320 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1350: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1350: Phase map is None at time 1350 - algorithm may have crashed
Warning: Vehicle 'veh3862' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=1350.00.
Warning: Vehicle 'veh3936' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1361.00.
Warning: Teleporting vehicle 'veh3018'; collision with vehicle 'veh2990', lane='E_GOR_W_NMR_H_s_1', gap=-5.94, time=1371.00, stage=move.
Warning: Vehicle 'veh3018' ends teleporting on edge 'E_PNK_W_WZM', time=1374.00.
Warning: Teleporting vehicle 'veh3922'; collision with vehicle 'veh2973', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=1377.00, stage=move.
Warning: Vehicle 'veh2854' ends teleporting on edge 'E_WZM_S', time=1377.00.
Warning: Vehicle 'veh3922' ends teleporting on edge 'E_PNK_W_WZM_T', time=1377.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1380: Phase map is None at time 1380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3800'; collision with vehicle 'veh3854', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=1380.00, stage=move.
Warning: Vehicle 'veh3800' ends teleporting on edge 'E_PNK_W_WZM_T', time=1380.00.
Warning: Teleporting vehicle 'veh3828'; collision with vehicle 'veh3972', lane='E_GOR_W_NMR_H_s_1', gap=-6.26, time=1382.00, stage=move.
Warning: Vehicle 'veh3828' ends teleporting on edge 'E_PNK_W_WZM_T', time=1382.00.
Warning: Vehicle 'veh4321' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1387.00.
Warning: Vehicle 'veh3145' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1396.00.
INFO:TrafficSimulator:Step 1400: 795 vehicles active
Warning: Vehicle 'veh4009' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1406.00.
Warning: Vehicle 'veh4009' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-18.83, offset=2.37), time=1406.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1410: Phase map is None at time 1410 - algorithm may have crashed
Warning: Vehicle 'veh3991' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1423.00.
Warning: Vehicle 'veh3991' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-16.70, offset=1.86), time=1423.00.
Warning: Teleporting vehicle 'veh3281'; collision with vehicle 'veh3256', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=1423.00, stage=move.
Warning: Vehicle 'veh3281' ends teleporting on edge 'E_PNK_W_WZM_T', time=1423.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1440: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1440: Phase map is None at time 1440 - algorithm may have crashed
Warning: Vehicle 'veh3993' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1440.00.
Warning: Vehicle 'veh3993' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.39, offset=0.27), time=1440.00.
Warning: Teleporting vehicle 'veh3262'; collision with vehicle 'veh3273', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=1459.00, stage=move.
Warning: Vehicle 'veh3262' ends teleporting on edge 'E_PNK_W_WZM', time=1462.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1470: Phase map is None at time 1470 - algorithm may have crashed
Warning: Vehicle 'veh4645' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh4241' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1480.00.
Warning: Vehicle 'veh4241' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.31, offset=2.39), time=1480.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1500: Phase map is None at time 1500 - algorithm may have crashed
INFO:TrafficSimulator:Step 1500: 794 vehicles active
Warning: Vehicle 'veh4253' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1507.00.
Warning: Vehicle 'veh4253' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-13.48, offset=1.42), time=1507.00.
Warning: Vehicle 'veh4704' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1516.00.
Warning: Vehicle 'veh4704' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-15.26, offset=5.35), time=1516.00.
Warning: Vehicle 'veh4686' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1516.00.
Warning: Vehicle 'veh4686' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-15.22, offset=5.62), time=1516.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1530: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1530: Phase map is None at time 1530 - algorithm may have crashed
Warning: Vehicle 'veh4486' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1530.00.
Warning: Vehicle 'veh4486' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-13.30, offset=0.50), time=1530.00.
Warning: Teleporting vehicle 'veh4690'; collision with vehicle 'veh3993', lane='E_GOR_W_NMR_H_s_1', gap=-6.96, time=1551.00, stage=move.
Warning: Vehicle 'veh4690' ends teleporting on edge 'E_PNK_W_WZM_T', time=1551.00.
Warning: Vehicle 'veh3627' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1556.00.
Warning: Vehicle 'veh3627' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.90, offset=0.24), time=1556.00.
Warning: Vehicle 'veh3654' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1556.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1560: Phase map is None at time 1560 - algorithm may have crashed
Warning: Vehicle 'veh4472' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1560.00.
Warning: Vehicle 'veh4941' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=1570.00.
Warning: Vehicle 'veh3952' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1570.00.
Warning: Vehicle 'veh4941' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-12.15, offset=1.80), time=1571.00.
Warning: Vehicle 'veh4692' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=1586.00.
Warning: Vehicle 'veh4692' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-19.01, offset=3.49), time=1586.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1590: Phase map is None at time 1590 - algorithm may have crashed
INFO:TrafficSimulator:Step 1600: 818 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1620: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1620: Phase map is None at time 1620 - algorithm may have crashed
Warning: Vehicle 'veh5110' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=1620.00.
Warning: Vehicle 'veh5110' performs emergency stop at the end of lane 'E_JBT_E_NMR_H_sl_1' because of a red traffic light (decel=-13.71, offset=1.14), time=1620.00.
Warning: Vehicle 'veh4816' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=1634.00.
Warning: Vehicle 'veh4816' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.57, offset=0.26), time=1634.00.
Warning: Vehicle 'veh4828' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1634.00.
Warning: Vehicle 'veh4828' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.14, offset=3.02), time=1634.00.
Warning: Teleporting vehicle 'veh4213'; collision with vehicle 'veh4221', lane='E_GOR_W_NMR_H_s_1', gap=-6.07, time=1641.00, stage=move.
Warning: Vehicle 'veh4213' ends teleporting on edge 'E_PNK_W_WZM', time=1644.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1650: Phase map is None at time 1650 - algorithm may have crashed
Warning: Teleporting vehicle 'veh3711'; collision with vehicle 'veh3706', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=1665.00, stage=move.
Warning: Vehicle 'veh3711' ends teleporting on edge 'E_PNK_W_WZM_T', time=1665.00.
Warning: Teleporting vehicle 'veh3723'; collision with vehicle 'veh3741', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=1667.00, stage=move.
Warning: Vehicle 'veh3723' ends teleporting on edge 'E_PNK_W_WZM_T', time=1667.00.
Warning: Vehicle 'veh3810' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=1679.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1680: Phase map is None at time 1680 - algorithm may have crashed
INFO:TrafficSimulator:Step 1700: 842 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1710: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1710: Phase map is None at time 1710 - algorithm may have crashed
Warning: Vehicle 'veh5104' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Vehicle 'veh5104' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-10.50, offset=0.65), time=1710.00.
Warning: Vehicle 'veh5140' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Vehicle 'veh5140' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-11.65, offset=0.58), time=1710.00.
Warning: Vehicle 'veh4808' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=1710.00.
Warning: Vehicle 'veh5321' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=1724.00.
Warning: Vehicle 'veh5321' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-12.63, offset=2.34), time=1724.00.
Warning: Teleporting vehicle 'veh4421'; collision with vehicle 'veh4548', lane='E_GOR_W_NMR_H_s_1', gap=-4.96, time=1737.00, stage=move.
Warning: Vehicle 'veh4421' ends teleporting on edge 'E_PNK_W_WZM_T', time=1737.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1740: Phase map is None at time 1740 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4477'; collision with vehicle 'veh4528', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=1744.00, stage=move.
Warning: Vehicle 'veh4477' ends teleporting on edge 'E_PNK_W_WZM_T', time=1745.00.
Warning: Vehicle 'veh5534' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1746.00.
Warning: Vehicle 'veh4139' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1746.00.
Warning: Vehicle 'veh4139' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.68, offset=2.75), time=1746.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1770: Phase map is None at time 1770 - algorithm may have crashed
Warning: Vehicle 'veh5381' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=1770.00.
Warning: Vehicle 'veh5381' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_0' because of a red traffic light (decel=-16.74, offset=2.94), time=1770.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 1800: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1800: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1800: Phase map is None at time 1800 - algorithm may have crashed
INFO:TrafficSimulator:Step 1800: 892 vehicles active
Warning: Teleporting vehicle 'veh4696'; collision with vehicle 'veh4008', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=1821.00, stage=move.
Warning: Vehicle 'veh4696' ends teleporting on edge 'E_PNK_W_WZM_T', time=1821.00.
Warning: Teleporting vehicle 'veh3909'; collision with vehicle 'veh4033', lane='E_GOR_W_NMR_H_s_1', gap=-6.23, time=1824.00, stage=move.
Warning: Teleporting vehicle 'veh3966'; collision with vehicle 'veh4095', lane='E_GOR_W_NMR_H_s_1', gap=-4.09, time=1826.00, stage=move.
Warning: Vehicle 'veh3909' ends teleporting on edge 'E_PNK_W_WZM', time=1827.00.
Warning: Teleporting vehicle 'veh3949'; collision with vehicle 'veh4075', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1828.00, stage=move.
Warning: Vehicle 'veh3949' ends teleporting on edge 'E_PNK_W_WZM_T', time=1829.00.
Warning: Vehicle 'veh3966' ends teleporting on edge 'E_PNK_W_WZM', time=1829.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1830: Phase map is None at time 1830 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5305'; collision with vehicle 'veh4126', lane='E_GOR_W_NMR_H_s_1', gap=-7.50, time=1832.00, stage=move.
Warning: Vehicle 'veh5305' ends teleporting on edge 'E_PNK_W_WZM_T', time=1832.00.
Warning: Vehicle 'veh5827' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=1835.00.
Warning: Vehicle 'veh5827' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-17.29, offset=2.92), time=1835.00.
Warning: Teleporting vehicle 'veh5465'; collision with vehicle 'veh4065', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=1835.00, stage=move.
Warning: Vehicle 'veh5465' ends teleporting on edge 'E_PNK_W_WZM_T', time=1835.00.
Warning: Teleporting vehicle 'veh4062'; collision with vehicle 'veh4734', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=1837.00, stage=move.
Warning: Vehicle 'veh4062' ends teleporting on edge 'E_PNK_W_WZM_T', time=1837.00.
Warning: Vehicle 'veh4420' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1840.00.
Warning: Vehicle 'veh4420' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.41, offset=1.57), time=1840.00.
Warning: Vehicle 'veh5456' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1854.00.
Warning: Vehicle 'veh4381' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=1856.00.
Warning: Vehicle 'veh4381' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.75, offset=0.89), time=1856.00.
Warning: Vehicle 'veh2650' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1856.00.
Warning: Vehicle 'veh2650' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-18.52, offset=7.95), time=1856.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1860: Phase map is None at time 1860 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1890: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1890: Phase map is None at time 1890 - algorithm may have crashed
INFO:TrafficSimulator:Step 1900: 948 vehicles active
Warning: Teleporting vehicle 'veh5427'; collision with vehicle 'veh4943', lane='E_GOR_W_NMR_H_s_1', gap=-6.12, time=1910.00, stage=move.
Warning: Teleporting vehicle 'veh4139'; collision with vehicle 'veh5543', lane='E_GOR_W_NMR_H_s_1', gap=-6.37, time=1913.00, stage=move.
Warning: Vehicle 'veh5427' ends teleporting on edge 'E_PNK_W_WZM', time=1913.00.
Warning: Teleporting vehicle 'veh4808'; collision with vehicle 'veh4285', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=1915.00, stage=move.
Warning: Vehicle 'veh4808' ends teleporting on edge 'E_PNK_W_WZM_T', time=1916.00.
Warning: Teleporting vehicle 'veh4877'; collision with vehicle 'veh4334', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=1917.00, stage=move.
Warning: Vehicle 'veh4877' ends teleporting on edge 'E_PNK_W_WZM_T', time=1918.00.
Warning: Teleporting vehicle 'veh4320'; collision with vehicle 'veh4847', lane='E_GOR_W_NMR_H_s_1', gap=-5.45, time=1919.00, stage=move.
Warning: Teleporting vehicle 'veh5715'; collision with vehicle 'veh4877', lane='E_PNK_W_WZM_T_0', gap=-1.34, time=1919.00, stage=move.
Warning: Vehicle 'veh5715' ends teleporting on edge 'E_PNK_W_WZM', time=1919.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1920: Phase map is None at time 1920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4240'; collision with vehicle 'veh4830', lane='E_GOR_W_NMR_H_s_1', gap=-4.99, time=1921.00, stage=move.
Warning: Vehicle 'veh4240' ends teleporting on edge 'E_PNK_W_WZM_T', time=1921.00.
Warning: Teleporting vehicle 'veh4176'; collision with vehicle 'veh4885', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=1923.00, stage=move.
Warning: Vehicle 'veh4176' ends teleporting on edge 'E_PNK_W_WZM_T', time=1923.00.
Warning: Vehicle 'veh4320' ends teleporting on edge 'E_PNK_W_WZM', time=1924.00.
Warning: Teleporting vehicle 'veh4416'; collision with vehicle 'veh5000', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=1925.00, stage=move.
Warning: Teleporting vehicle 'veh4145'; collision with vehicle 'veh4399', lane='E_GOR_W_NMR_H_s_1', gap=-6.58, time=1927.00, stage=move.
Warning: Vehicle 'veh4145' ends teleporting on edge 'E_PNK_W_WZM_T', time=1928.00.
Warning: Vehicle 'veh4416' ends teleporting on edge 'E_PNK_W_WZM', time=1929.00.
Warning: Teleporting vehicle 'veh5707'; collision with vehicle 'veh5816', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=1935.00, stage=move.
Warning: Vehicle 'veh5707' ends teleporting on edge 'E_PNK_W_WZM_T', time=1935.00.
Warning: Vehicle 'veh4760' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=1946.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 1950: Phase map is None at time 1950 - algorithm may have crashed
Warning: Vehicle 'veh6208' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1966.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 1980: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 1980: Phase map is None at time 1980 - algorithm may have crashed
Warning: Vehicle 'veh4532' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=1980.00.
Warning: Vehicle 'veh4532' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-11.05, offset=0.66), time=1980.00.
Warning: Vehicle 'veh4139' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=1987.00.
INFO:TrafficSimulator:Step 2000: 986 vehicles active
Warning: Teleporting vehicle 'veh5118'; collision with vehicle 'veh5024', lane='E_GOR_W_NMR_H_s_1', gap=-5.75, time=2001.00, stage=move.
Warning: Vehicle 'veh5118' ends teleporting on edge 'E_PNK_W_WZM', time=2004.00.
Warning: Teleporting vehicle 'veh5127'; collision with vehicle 'veh5273', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=2005.00, stage=move.
Warning: Teleporting vehicle 'veh5190'; collision with vehicle 'veh5406', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=2008.00, stage=move.
Warning: Vehicle 'veh5127' ends teleporting on edge 'E_PNK_W_WZM', time=2009.00.
Warning: Vehicle 'veh5190' ends teleporting on edge 'E_PNK_W_WZM_T', time=2009.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2010: Phase map is None at time 2010 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5308'; collision with vehicle 'veh4426', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=2010.00, stage=move.
Warning: Vehicle 'veh5308' ends teleporting on edge 'E_PNK_W_WZM_T', time=2011.00.
Warning: Teleporting vehicle 'veh4430'; collision with vehicle 'veh5281', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=2012.00, stage=move.
Warning: Teleporting vehicle 'veh4605'; collision with vehicle 'veh5369', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=2014.00, stage=move.
Warning: Vehicle 'veh4430' ends teleporting on edge 'E_PNK_W_WZM_T', time=2014.00.
Warning: Teleporting vehicle 'veh4517'; collision with vehicle 'veh4420', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=2016.00, stage=move.
Warning: Vehicle 'veh2916' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2017.00.
Warning: Vehicle 'veh2916' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.46, offset=1.58), time=2017.00.
Warning: Vehicle 'veh6438' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2018.00.
Warning: Teleporting vehicle 'veh4539'; collision with vehicle 'veh5345', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=2018.00, stage=move.
Warning: Vehicle 'veh4605' ends teleporting on edge 'E_PNK_W_WZM', time=2018.00.
Warning: Teleporting vehicle 'veh4487'; collision with vehicle 'veh4507', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=2020.00, stage=move.
Warning: Vehicle 'veh4517' ends teleporting on edge 'E_PNK_W_WZM', time=2020.00.
Warning: Vehicle 'veh4539' ends teleporting on edge 'E_PNK_W_WZM', time=2022.00.
Warning: Teleporting vehicle 'veh4573'; collision with vehicle 'veh4738', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=2023.00, stage=move.
Warning: Vehicle 'veh4487' ends teleporting on edge 'E_PNK_W_WZM_T', time=2024.00.
Warning: Teleporting vehicle 'veh5470'; collision with vehicle 'veh4487', lane='E_PNK_W_WZM_T_0', gap=-0.03, time=2025.00, stage=move.
Warning: Vehicle 'veh4573' ends teleporting on edge 'E_PNK_W_WZM_T', time=2025.00.
Warning: Vehicle 'veh5470' ends teleporting on edge 'E_PNK_W_WZM', time=2025.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2040: Phase map is None at time 2040 - algorithm may have crashed
Warning: Vehicle 'veh6046' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2044.00.
Warning: Vehicle 'veh6046' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.47, offset=5.17), time=2044.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2070: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2070: Phase map is None at time 2070 - algorithm may have crashed
Warning: Vehicle 'veh5967' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh5967' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-12.76, offset=2.04), time=2070.00.
Warning: Vehicle 'veh5954' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh5954' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.29, offset=0.27), time=2070.00.
Warning: Vehicle 'veh5026' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2070.00.
Warning: Vehicle 'veh5026' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-15.45, offset=4.74), time=2070.00.
Warning: Teleporting vehicle 'veh4632'; collision with vehicle 'veh4678', lane='E_GOR_W_NMR_H_s_1', gap=-5.50, time=2089.00, stage=move.
Warning: Vehicle 'veh4632' ends teleporting on edge 'E_PNK_W_WZM_T', time=2089.00.
Warning: Teleporting vehicle 'veh6118'; collision with vehicle 'veh6026', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=2098.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2100: Phase map is None at time 2100 - algorithm may have crashed
Warning: Vehicle 'veh6118' ends teleporting on edge 'E_PNK_W_WZM_T', time=2100.00.
INFO:TrafficSimulator:Step 2100: 989 vehicles active
Warning: Teleporting vehicle 'veh4667'; collision with vehicle 'veh4760', lane='E_GOR_W_NMR_H_s_1', gap=-5.70, time=2101.00, stage=move.
Warning: Teleporting vehicle 'veh5502'; collision with vehicle 'veh4705', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=2104.00, stage=move.
Warning: Vehicle 'veh4667' ends teleporting on edge 'E_PNK_W_WZM_T', time=2104.00.
Warning: Vehicle 'veh5502' ends teleporting on edge 'E_PNK_W_WZM', time=2126.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2130: Phase map is None at time 2130 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4723'; collision with vehicle 'veh5579', lane='E_GOR_W_NMR_H_s_1', gap=-7.38, time=2142.00, stage=move.
Warning: Vehicle 'veh4723' ends teleporting on edge 'E_PNK_W_WZM_T', time=2142.00.
Warning: Vehicle 'veh6819' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2144.00.
Warning: Teleporting vehicle 'veh5487'; collision with vehicle 'veh5473', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=2145.00, stage=move.
Warning: Vehicle 'veh5487' ends teleporting on edge 'E_PNK_W_WZM_T', time=2145.00.
Warning: Teleporting vehicle 'veh5622'; collision with vehicle 'veh5467', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=2149.00, stage=move.
Warning: Vehicle 'veh5622' ends teleporting on edge 'E_PNK_W_WZM_T', time=2149.00.
Warning: Teleporting vehicle 'veh5647'; collision with vehicle 'veh4771', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=2151.00, stage=move.
Warning: Vehicle 'veh5647' ends teleporting on edge 'E_PNK_W_WZM_T', time=2151.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2160: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2160: Phase map is None at time 2160 - algorithm may have crashed
Warning: Vehicle 'veh5309' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2160.00.
Warning: Vehicle 'veh5309' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-10.45, offset=0.19), time=2160.00.
Warning: Vehicle 'veh6572' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2176.00.
Warning: Vehicle 'veh6572' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-11.14, offset=0.94), time=2176.00.
Warning: Vehicle 'veh6804' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2176.00.
Warning: Vehicle 'veh6804' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-13.44, offset=2.46), time=2176.00.
Warning: Teleporting vehicle 'veh5734'; collision with vehicle 'veh4811', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=2183.00, stage=move.
Warning: Vehicle 'veh5734' ends teleporting on edge 'E_PNK_W_WZM_T', time=2183.00.
Warning: Teleporting vehicle 'veh4898'; collision with vehicle 'veh5766', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2186.00, stage=move.
Warning: Teleporting vehicle 'veh4852'; collision with vehicle 'veh4895', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=2189.00, stage=move.
Warning: Vehicle 'veh4898' ends teleporting on edge 'E_PNK_W_WZM', time=2189.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2190: Phase map is None at time 2190 - algorithm may have crashed
Warning: Teleporting vehicle 'veh4959'; collision with vehicle 'veh4930', lane='E_GOR_W_NMR_H_s_1', gap=-5.65, time=2191.00, stage=move.
Warning: Teleporting vehicle 'veh4992'; collision with vehicle 'veh5015', lane='E_GOR_W_NMR_H_s_1', gap=-4.65, time=2193.00, stage=move.
Warning: Vehicle 'veh4852' ends teleporting on edge 'E_PNK_W_WZM', time=2193.00.
Warning: Vehicle 'veh4959' ends teleporting on edge 'E_PNK_W_WZM_T', time=2193.00.
Warning: Teleporting vehicle 'veh4934'; collision with vehicle 'veh4970', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=2195.00, stage=move.
Warning: Vehicle 'veh4934' ends teleporting on edge 'E_PNK_W_WZM_T', time=2195.00.
Warning: Vehicle 'veh4992' ends teleporting on edge 'E_PNK_W_WZM', time=2196.00.
Warning: Vehicle 'veh5021' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2197.00.
Warning: Teleporting vehicle 'veh5049'; collision with vehicle 'veh5041', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=2200.00, stage=move.
Warning: Vehicle 'veh5049' ends teleporting on edge 'E_PNK_W_WZM_T', time=2200.00.
INFO:TrafficSimulator:Step 2200: 1024 vehicles active
Warning: Vehicle 'veh7077' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2201.00.
Warning: Vehicle 'veh7077' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-19.89, offset=1.96), time=2201.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2220: Phase map is None at time 2220 - algorithm may have crashed
Warning: Vehicle 'veh7135' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2220.00.
Warning: Vehicle 'veh7135' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-11.02, offset=1.03), time=2221.00.
Warning: Teleporting vehicle 'veh6248'; collision with vehicle 'veh6332', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=2228.00, stage=move.
Warning: Vehicle 'veh6248' ends teleporting on edge 'E_PNK_W_WZM_T', time=2228.00.
Warning: Vehicle 'veh6657' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2232.00.
Warning: Vehicle 'veh6657' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-17.01, offset=7.71), time=2232.00.
Warning: Vehicle 'veh6037' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2232.00.
Warning: Vehicle 'veh6037' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-12.17, offset=0.23), time=2232.00.
Warning: Teleporting vehicle 'veh6330'; collision with vehicle 'veh6370', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2232.00, stage=move.
Warning: Vehicle 'veh6330' ends teleporting on edge 'E_PNK_W_WZM_T', time=2232.00.
Warning: Teleporting vehicle 'veh6480'; collision with vehicle 'veh5025', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=2236.00, stage=move.
Warning: Vehicle 'veh6480' ends teleporting on edge 'E_PNK_W_WZM_T', time=2236.00.
Warning: Teleporting vehicle 'veh5780'; collision with vehicle 'veh5783', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=2239.00, stage=move.
Warning: Vehicle 'veh5780' ends teleporting on edge 'E_PNK_W_WZM_T', time=2240.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2250: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2250: Phase map is None at time 2250 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5836'; collision with vehicle 'veh5755', lane='E_GOR_W_NMR_H_s_1', gap=-5.99, time=2270.00, stage=move.
Warning: Vehicle 'veh5836' ends teleporting on edge 'E_PNK_W_WZM_T', time=2270.00.
Warning: Teleporting vehicle 'veh5992'; collision with vehicle 'veh5317', lane='E_GOR_W_NMR_H_s_1', gap=-2.53, time=2275.00, stage=move.
Warning: Vehicle 'veh5992' ends teleporting on edge 'E_PNK_W_WZM_T', time=2277.00.
Warning: Teleporting vehicle 'veh5186'; collision with vehicle 'veh5276', lane='E_GOR_W_NMR_H_s_1', gap=-5.42, time=2279.00, stage=move.
Warning: Vehicle 'veh5186' ends teleporting on edge 'E_PNK_W_WZM_T', time=2279.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2280: Phase map is None at time 2280 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5225'; collision with vehicle 'veh5364', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=2283.00, stage=move.
Warning: Vehicle 'veh5225' ends teleporting on edge 'E_PNK_W_WZM_T', time=2283.00.
Warning: Teleporting vehicle 'veh5275'; collision with vehicle 'veh5374', lane='E_GOR_W_NMR_H_s_1', gap=-6.43, time=2285.00, stage=move.
Warning: Vehicle 'veh5275' ends teleporting on edge 'E_PNK_W_WZM_T', time=2285.00.
Warning: Teleporting vehicle 'veh5372'; collision with vehicle 'veh5161', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=2288.00, stage=move.
Warning: Vehicle 'veh5372' ends teleporting on edge 'E_PNK_W_WZM_T', time=2288.00.
INFO:TrafficSimulator:Step 2300: 1041 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2310: Phase map is None at time 2310 - algorithm may have crashed
Warning: Teleporting vehicle 'veh5356'; collision with vehicle 'veh6557', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=2319.00, stage=move.
Warning: Vehicle 'veh5356' ends teleporting on edge 'E_PNK_W_WZM_T', time=2319.00.
Warning: Teleporting vehicle 'veh5340'; collision with vehicle 'veh5998', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=2322.00, stage=move.
Warning: Vehicle 'veh5340' ends teleporting on edge 'E_PNK_W_WZM_T', time=2322.00.
Warning: Teleporting vehicle 'veh6128'; collision with vehicle 'veh5387', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=2324.00, stage=move.
Warning: Vehicle 'veh6128' ends teleporting on edge 'E_PNK_W_WZM_T', time=2324.00.
Warning: Teleporting vehicle 'veh5439'; collision with vehicle 'veh6667', lane='E_GOR_W_NMR_H_s_1', gap=-4.99, time=2329.00, stage=move.
Warning: Vehicle 'veh5439' ends teleporting on edge 'E_PNK_W_WZM_T', time=2330.00.
Warning: Teleporting vehicle 'veh5993'; collision with vehicle 'veh5575', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=2332.00, stage=move.
Warning: Vehicle 'veh5993' ends teleporting on edge 'E_PNK_W_WZM_T', time=2332.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2340: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2340: Phase map is None at time 2340 - algorithm may have crashed
Warning: Vehicle 'veh7493' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=2340.00.
Warning: Vehicle 'veh7493' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-13.77, offset=4.42), time=2340.00.
Warning: Vehicle 'veh6445' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=2340.00.
Warning: Teleporting vehicle 'veh5519'; collision with vehicle 'veh6038', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2364.00, stage=move.
Warning: Teleporting vehicle 'veh6101'; collision with vehicle 'veh5589', lane='E_GOR_W_NMR_H_s_1', gap=-6.23, time=2367.00, stage=move.
Warning: Vehicle 'veh5519' ends teleporting on edge 'E_PNK_W_WZM', time=2368.00.
Warning: Teleporting vehicle 'veh5639'; collision with vehicle 'veh5428', lane='E_GOR_W_NMR_H_s_1', gap=-5.02, time=2369.00, stage=move.
Warning: Vehicle 'veh5639' ends teleporting on edge 'E_PNK_W_WZM_T', time=2369.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2370: Phase map is None at time 2370 - algorithm may have crashed
Warning: Vehicle 'veh7054' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2370.00.
Warning: Vehicle 'veh7054' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-13.35, offset=2.53), time=2370.00.
Warning: Teleporting vehicle 'veh5549'; collision with vehicle 'veh5373', lane='E_GOR_W_NMR_H_s_1', gap=-2.87, time=2371.00, stage=move.
Warning: Vehicle 'veh6101' ends teleporting on edge 'E_PNK_W_WZM', time=2371.00.
Warning: Teleporting vehicle 'veh5625'; collision with vehicle 'veh5444', lane='E_GOR_W_NMR_H_s_1', gap=-0.92, time=2373.00, stage=move.
Warning: Vehicle 'veh5625' ends teleporting on edge 'E_PNK_W_WZM_T', time=2376.00.
Warning: Teleporting vehicle 'veh5501'; collision with vehicle 'veh5621', lane='E_GOR_W_NMR_H_s_1', gap=-5.51, time=2379.00, stage=move.
Warning: Vehicle 'veh5501' ends teleporting on edge 'E_PNK_W_WZM_T', time=2379.00.
Warning: Vehicle 'veh7688' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2381.00.
Warning: Vehicle 'veh7675' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2381.00.
Warning: Vehicle 'veh7688' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_3' because of a red traffic light (decel=-13.42, offset=1.30), time=2382.00.
Warning: Vehicle 'veh7675' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-12.61, offset=1.61), time=2382.00.
Warning: Teleporting vehicle 'veh5511'; collision with vehicle 'veh5573', lane='E_GOR_W_NMR_H_s_1', gap=-6.97, time=2382.00, stage=move.
Warning: Vehicle 'veh5511' ends teleporting on edge 'E_PNK_W_WZM_T', time=2382.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2400: Phase map is None at time 2400 - algorithm may have crashed
INFO:TrafficSimulator:Step 2400: 1078 vehicles active
Warning: Teleporting vehicle 'veh5563'; collision with vehicle 'veh5667', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=2406.00, stage=move.
Warning: Vehicle 'veh5563' ends teleporting on edge 'E_PNK_W_WZM_T', time=2406.00.
Warning: Teleporting vehicle 'veh5687'; collision with vehicle 'veh5601', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=2409.00, stage=move.
Warning: Vehicle 'veh5687' ends teleporting on edge 'E_PNK_W_WZM_T', time=2409.00.
Warning: Teleporting vehicle 'veh6899'; collision with vehicle 'veh5713', lane='E_GOR_W_NMR_H_s_1', gap=-7.30, time=2414.00, stage=move.
Warning: Vehicle 'veh6899' ends teleporting on edge 'E_PNK_W_WZM_T', time=2414.00.
Warning: Teleporting vehicle 'veh5782'; collision with vehicle 'veh6906', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=2417.00, stage=move.
Warning: Vehicle 'veh5782' ends teleporting on edge 'E_PNK_W_WZM_T', time=2417.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2430: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2430: Phase map is None at time 2430 - algorithm may have crashed
Warning: Vehicle 'veh7626' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2450.00.
Warning: Vehicle 'veh7626' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-12.43, offset=0.85), time=2450.00.
Warning: Teleporting vehicle 'veh5834'; collision with vehicle 'veh6953', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=2456.00, stage=move.
Warning: Teleporting vehicle 'veh6201'; collision with vehicle 'veh5752', lane='E_GOR_W_NMR_H_s_1', gap=-5.16, time=2459.00, stage=move.
Warning: Vehicle 'veh5834' ends teleporting on edge 'E_PNK_W_WZM', time=2459.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2460: Phase map is None at time 2460 - algorithm may have crashed
Warning: Teleporting vehicle 'veh6299'; collision with vehicle 'veh5974', lane='E_GOR_W_NMR_H_s_1', gap=-6.12, time=2468.00, stage=move.
Warning: Vehicle 'veh6299' ends teleporting on edge 'E_PNK_W_WZM_T', time=2468.00.
Warning: Teleporting vehicle 'veh5765'; collision with vehicle 'veh5941', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=2475.00, stage=move.
Warning: Vehicle 'veh5765' ends teleporting on edge 'E_PNK_W_WZM_T', time=2475.00.
Warning: Teleporting vehicle 'veh5861'; collision with vehicle 'veh5884', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=2480.00, stage=move.
Warning: Vehicle 'veh5861' ends teleporting on edge 'E_PNK_W_WZM_T', time=2480.00.
Warning: Teleporting vehicle 'veh5821'; collision with vehicle 'veh7112', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=2483.00, stage=move.
Warning: Vehicle 'veh5821' ends teleporting on edge 'E_PNK_W_WZM_T', time=2483.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2490: Phase map is None at time 2490 - algorithm may have crashed
Warning: Vehicle 'veh5549' ends teleporting on edge 'E_WZM_S', time=2497.00.
INFO:TrafficSimulator:Step 2500: 1124 vehicles active
Warning: Teleporting vehicle 'veh7219'; collision with vehicle 'veh7038', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=2509.00, stage=move.
Warning: Vehicle 'veh7219' ends teleporting on edge 'E_PNK_W_WZM_T', time=2509.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2520: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2520: Phase map is None at time 2520 - algorithm may have crashed
Warning: Vehicle 'veh6196' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2520.00.
Warning: Teleporting vehicle 'veh6381'; collision with vehicle 'veh7252', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=2548.00, stage=move.
Warning: Vehicle 'veh6381' ends teleporting on edge 'E_PNK_W_WZM_T', time=2549.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2550: Phase map is None at time 2550 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7285'; collision with vehicle 'veh5900', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=2552.00, stage=move.
Warning: Vehicle 'veh7285' ends teleporting on edge 'E_PNK_W_WZM_T', time=2552.00.
Warning: Teleporting vehicle 'veh6048'; collision with vehicle 'veh6375', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=2554.00, stage=move.
Warning: Vehicle 'veh6048' ends teleporting on edge 'E_PNK_W_WZM_T', time=2554.00.
Warning: Teleporting vehicle 'veh5988'; collision with vehicle 'veh6192', lane='E_GOR_W_NMR_H_s_1', gap=-4.74, time=2558.00, stage=move.
Warning: Vehicle 'veh5988' ends teleporting on edge 'E_PNK_W_WZM_T', time=2558.00.
Warning: Vehicle 'veh8287' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2561.00.
Warning: Vehicle 'veh8287' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-23.07, offset=10.89), time=2561.00.
Warning: Teleporting vehicle 'veh5991'; collision with vehicle 'veh6025', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=2561.00, stage=move.
Warning: Vehicle 'veh5991' ends teleporting on edge 'E_PNK_W_WZM_T', time=2561.00.
Warning: Teleporting vehicle 'veh6076'; collision with vehicle 'veh6042', lane='E_GOR_W_NMR_H_s_1', gap=-4.43, time=2563.00, stage=move.
Warning: Vehicle 'veh6076' ends teleporting on edge 'E_PNK_W_WZM_T', time=2563.00.
Warning: Teleporting vehicle 'veh6157'; collision with vehicle 'veh6155', lane='E_GOR_W_NMR_H_s_1', gap=-3.00, time=2565.00, stage=move.
Warning: Vehicle 'veh6157' ends teleporting on edge 'E_PNK_W_WZM_T', time=2565.00.
Warning: Teleporting vehicle 'veh6207'; collision with vehicle 'veh6156', lane='E_GOR_W_NMR_H_s_1', gap=-6.45, time=2567.00, stage=move.
Warning: Vehicle 'veh6207' ends teleporting on edge 'E_PNK_W_WZM_T', time=2567.00.
Warning: Teleporting vehicle 'veh6158'; collision with vehicle 'veh6221', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=2570.00, stage=move.
Warning: Vehicle 'veh6158' ends teleporting on edge 'E_PNK_W_WZM_T', time=2570.00.
Warning: Vehicle 'veh7038' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2577.00.
Warning: Vehicle 'veh7038' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.34, offset=0.34), time=2577.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2580: Phase map is None at time 2580 - algorithm may have crashed
Warning: Vehicle 'veh8334' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2580.00.
Warning: Vehicle 'veh8334' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-22.25, offset=2.26), time=2580.00.
Warning: Teleporting vehicle 'veh6262'; collision with vehicle 'veh6235', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=2594.00, stage=move.
Warning: Vehicle 'veh6262' ends teleporting on edge 'E_PNK_W_WZM_T', time=2594.00.
Warning: Teleporting vehicle 'veh6364'; collision with vehicle 'veh6254', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=2600.00, stage=move.
Warning: Vehicle 'veh6364' ends teleporting on edge 'E_PNK_W_WZM_T', time=2600.00.
INFO:TrafficSimulator:Step 2600: 1142 vehicles active
Warning: Vehicle 'veh6201' ends teleporting on edge 'E_WZM_S', time=2604.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2610: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2610: Phase map is None at time 2610 - algorithm may have crashed
Warning: Vehicle 'veh6659' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2610.00.
Warning: Vehicle 'veh6659' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-15.11, offset=5.34), time=2610.00.
Warning: Teleporting vehicle 'veh6346'; collision with vehicle 'veh7346', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=2638.00, stage=move.
Warning: Vehicle 'veh6346' ends teleporting on edge 'E_PNK_W_WZM_T', time=2639.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2640: Phase map is None at time 2640 - algorithm may have crashed
Warning: Vehicle 'veh8054' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2640.00.
Warning: Vehicle 'veh8054' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-16.53, offset=1.71), time=2640.00.
Warning: Teleporting vehicle 'veh6396'; collision with vehicle 'veh6495', lane='E_GOR_W_NMR_H_s_1', gap=-6.48, time=2641.00, stage=move.
Warning: Vehicle 'veh6396' ends teleporting on edge 'E_PNK_W_WZM_T', time=2641.00.
Warning: Teleporting vehicle 'veh6291'; collision with vehicle 'veh6443', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=2643.00, stage=move.
Warning: Vehicle 'veh6291' ends teleporting on edge 'E_PNK_W_WZM', time=2647.00.
Warning: Teleporting vehicle 'veh6524'; collision with vehicle 'veh6545', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=2650.00, stage=move.
Warning: Vehicle 'veh6524' ends teleporting on edge 'E_PNK_W_WZM_T', time=2650.00.
Warning: Teleporting vehicle 'veh6533'; collision with vehicle 'veh7555', lane='E_GOR_W_NMR_H_s_1', gap=-6.03, time=2654.00, stage=move.
Warning: Teleporting vehicle 'veh7578'; collision with vehicle 'veh6434', lane='E_GOR_W_NMR_H_s_1', gap=-7.10, time=2657.00, stage=move.
Warning: Vehicle 'veh6533' ends teleporting on edge 'E_PNK_W_WZM_T', time=2658.00.
Warning: Vehicle 'veh7578' ends teleporting on edge 'E_PNK_W_WZM_T', time=2660.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2670: Phase map is None at time 2670 - algorithm may have crashed
Warning: Vehicle 'veh8327' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2675.00.
Warning: Teleporting vehicle 'veh6459'; collision with vehicle 'veh7730', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=2688.00, stage=move.
Warning: Vehicle 'veh6459' ends teleporting on edge 'E_PNK_W_WZM_T', time=2689.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 2700: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2700: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2700: Phase map is None at time 2700 - algorithm may have crashed
INFO:TrafficSimulator:Step 2700: 1121 vehicles active
Warning: Vehicle 'veh8288' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2713.00.
Warning: Vehicle 'veh8288' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-17.06, offset=4.50), time=2713.00.
Warning: Teleporting vehicle 'veh7534'; collision with vehicle 'veh6594', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=2720.00, stage=move.
Warning: Teleporting vehicle 'veh6633'; collision with vehicle 'veh6550', lane='E_GOR_W_NMR_H_s_1', gap=-4.79, time=2723.00, stage=move.
Warning: Vehicle 'veh7534' ends teleporting on edge 'E_PNK_W_WZM', time=2723.00.
Warning: Teleporting vehicle 'veh6538'; collision with vehicle 'veh6713', lane='E_GOR_W_NMR_H_s_1', gap=-5.70, time=2725.00, stage=move.
Warning: Vehicle 'veh6633' ends teleporting on edge 'E_PNK_W_WZM', time=2726.00.
Warning: Teleporting vehicle 'veh6562'; collision with vehicle 'veh6569', lane='E_GOR_W_NMR_H_s_1', gap=-2.62, time=2727.00, stage=move.
Warning: Vehicle 'veh6562' ends teleporting on edge 'E_PNK_W_WZM_T', time=2728.00.
Warning: Teleporting vehicle 'veh6578'; collision with vehicle 'veh6763', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=2729.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2730: Phase map is None at time 2730 - algorithm may have crashed
Warning: Vehicle 'veh6578' ends teleporting on edge 'E_PNK_W_WZM_T', time=2730.00.
Warning: Teleporting vehicle 'veh6746'; collision with vehicle 'veh6609', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=2731.00, stage=move.
Warning: Teleporting vehicle 'veh6651'; collision with vehicle 'veh6764', lane='E_GOR_W_NMR_H_s_1', gap=-6.89, time=2734.00, stage=move.
Warning: Vehicle 'veh6746' ends teleporting on edge 'E_PNK_W_WZM', time=2735.00.
Warning: Vehicle 'veh6651' ends teleporting on edge 'E_PNK_W_WZM_T', time=2737.00.
Warning: Vehicle 'veh8907' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=2741.00.
Warning: Vehicle 'veh8900' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=2741.00.
Warning: Vehicle 'veh8900' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_2' because of a red traffic light (decel=-20.01, offset=4.55), time=2741.00.
Warning: Teleporting vehicle 'veh6711'; collision with vehicle 'veh7966', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=2748.00, stage=move.
Warning: Vehicle 'veh6711' ends teleporting on edge 'E_PNK_W_WZM_T', time=2748.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2760: Phase map is None at time 2760 - algorithm may have crashed
Warning: Vehicle 'veh8954' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2760.00.
Warning: Vehicle 'veh8954' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-17.31, offset=7.27), time=2760.00.
Warning: Vehicle 'veh8636' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2766.00.
Warning: Vehicle 'veh8636' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-9.45, offset=0.19), time=2766.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2790: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2790: Phase map is None at time 2790 - algorithm may have crashed
Warning: Vehicle 'veh7921' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2790.00.
Warning: Vehicle 'veh7921' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-13.31, offset=3.74), time=2790.00.
INFO:TrafficSimulator:Step 2800: 1125 vehicles active
Warning: Teleporting vehicle 'veh7879'; collision with vehicle 'veh6813', lane='E_GOR_W_NMR_H_s_1', gap=-7.23, time=2814.00, stage=move.
Warning: Vehicle 'veh7879' ends teleporting on edge 'E_PNK_W_WZM_T', time=2814.00.
Warning: Teleporting vehicle 'veh6861'; collision with vehicle 'veh6761', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=2816.00, stage=move.
Warning: Teleporting vehicle 'veh6916'; collision with vehicle 'veh8026', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=2819.00, stage=move.
Warning: Vehicle 'veh6861' ends teleporting on edge 'E_PNK_W_WZM', time=2819.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2820: Phase map is None at time 2820 - algorithm may have crashed
Warning: Vehicle 'veh6916' ends teleporting on edge 'E_PNK_W_WZM_T', time=2820.00.
Warning: Teleporting vehicle 'veh6938'; collision with vehicle 'veh6653', lane='E_GOR_W_NMR_H_s_1', gap=-7.33, time=2821.00, stage=move.
Warning: Vehicle 'veh6938' ends teleporting on edge 'E_PNK_W_WZM_T', time=2822.00.
Warning: Teleporting vehicle 'veh6985'; collision with vehicle 'veh6668', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=2824.00, stage=move.
Warning: Vehicle 'veh6985' ends teleporting on edge 'E_PNK_W_WZM_T', time=2824.00.
Warning: Vehicle 'veh3913' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2825.00.
Warning: Vehicle 'veh3913' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.39, offset=3.33), time=2825.00.
Warning: Vehicle 'veh8610' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=2831.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2850: Phase map is None at time 2850 - algorithm may have crashed
Warning: Vehicle 'veh9270' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2850.00.
Warning: Vehicle 'veh9270' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.93, offset=5.37), time=2850.00.
Warning: Teleporting vehicle 'veh8087'; collision with vehicle 'veh6822', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=2856.00, stage=move.
Warning: Vehicle 'veh8087' ends teleporting on edge 'E_PNK_W_WZM_T', time=2856.00.
Warning: Vehicle 'veh9046' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=2859.00.
Warning: Vehicle 'veh9046' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_0' because of a red traffic light (decel=-10.28, offset=0.60), time=2859.00.
Warning: Teleporting vehicle 'veh6856'; collision with vehicle 'veh8233', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=2864.00, stage=move.
Warning: Vehicle 'veh6856' ends teleporting on edge 'E_PNK_W_WZM_T', time=2864.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2880: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2880: Phase map is None at time 2880 - algorithm may have crashed
Warning: Vehicle 'veh8162' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2880.00.
Warning: Vehicle 'veh8162' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.51, offset=0.25), time=2880.00.
Warning: Vehicle 'veh9068' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2893.00.
Warning: Vehicle 'veh9068' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_1' because of a red traffic light (decel=-9.60, offset=0.23), time=2893.00.
Warning: Teleporting vehicle 'veh6759'; collision with vehicle 'veh6920', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=2900.00, stage=move.
INFO:TrafficSimulator:Step 2900: 1117 vehicles active
Warning: Teleporting vehicle 'veh6750'; collision with vehicle 'veh8247', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=2903.00, stage=move.
Warning: Vehicle 'veh6750' ends teleporting on edge 'E_PNK_W_WZM_T', time=2903.00.
Warning: Vehicle 'veh6759' ends teleporting on edge 'E_PNK_W_WZM', time=2903.00.
Warning: Teleporting vehicle 'veh7033'; collision with vehicle 'veh6717', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=2905.00, stage=move.
Warning: Vehicle 'veh7033' ends teleporting on edge 'E_PNK_W_WZM_T', time=2905.00.
Warning: Teleporting vehicle 'veh6747'; collision with vehicle 'veh7114', lane='E_GOR_W_NMR_H_s_1', gap=-5.71, time=2907.00, stage=move.
Warning: Vehicle 'veh6747' ends teleporting on edge 'E_PNK_W_WZM_T', time=2907.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2910: Phase map is None at time 2910 - algorithm may have crashed
Warning: Vehicle 'veh7042' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=2910.00.
Warning: Vehicle 'veh6538' teleports beyond arrival edge 'E_WZM_S', time=2911.00.
Warning: Teleporting vehicle 'veh8376'; collision with vehicle 'veh3732', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=2920.00, stage=move.
Warning: Vehicle 'veh8376' ends teleporting on edge 'E_PNK_W_WZM_T', time=2920.00.
Warning: Vehicle 'veh7779' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2932.00.
Warning: Vehicle 'veh7779' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-13.93, offset=3.56), time=2932.00.
Warning: Vehicle 'veh4048' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2932.00.
Warning: Vehicle 'veh4048' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-14.07, offset=3.79), time=2932.00.
Warning: Vehicle 'veh6660' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=2939.00.
Warning: Vehicle 'veh6660' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-14.50, offset=0.31), time=2939.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 2940: Phase map is None at time 2940 - algorithm may have crashed
Warning: Vehicle 'veh7386' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2940.00.
Warning: Teleporting vehicle 'veh7269'; collision with vehicle 'veh7079', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=2949.00, stage=move.
Warning: Vehicle 'veh7269' ends teleporting on edge 'E_PNK_W_WZM_T', time=2949.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 2970: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 2970: Phase map is None at time 2970 - algorithm may have crashed
Warning: Vehicle 'veh8450' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=2970.00.
Warning: Vehicle 'veh8450' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.82, offset=2.02), time=2970.00.
Warning: Vehicle 'veh9318' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=2982.00.
Warning: Vehicle 'veh9170' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=2982.00.
Warning: Vehicle 'veh9170' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.78, offset=0.08), time=2982.00.
Warning: Teleporting vehicle 'veh7308'; collision with vehicle 'veh6775', lane='E_GOR_W_NMR_H_s_1', gap=-5.99, time=2996.00, stage=move.
Warning: Teleporting vehicle 'veh6852'; collision with vehicle 'veh7275', lane='E_GOR_W_NMR_H_s_1', gap=-5.94, time=2999.00, stage=move.
Warning: Vehicle 'veh6852' ends teleporting on edge 'E_PNK_W_WZM_T', time=2999.00.
Warning: Vehicle 'veh7308' ends teleporting on edge 'E_PNK_W_WZM', time=2999.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3000: Phase map is None at time 3000 - algorithm may have crashed
Warning: Vehicle 'veh9266' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3000.00.
Warning: Vehicle 'veh9266' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-12.03, offset=2.12), time=3000.00.
INFO:TrafficSimulator:Step 3000: 1132 vehicles active
Warning: Teleporting vehicle 'veh6859'; collision with vehicle 'veh7339', lane='E_GOR_W_NMR_H_s_1', gap=-2.91, time=3001.00, stage=move.
Warning: Teleporting vehicle 'veh7158'; collision with vehicle 'veh7359', lane='E_GOR_W_NMR_H_s_1', gap=-1.21, time=3003.00, stage=move.
Warning: Vehicle 'veh7158' ends teleporting on edge 'E_PNK_W_WZM_T', time=3004.00.
Warning: Teleporting vehicle 'veh7334'; collision with vehicle 'veh8636', lane='E_GOR_W_NMR_H_s_1', gap=-4.83, time=3007.00, stage=move.
Warning: Vehicle 'veh7334' ends teleporting on edge 'E_PNK_W_WZM_T', time=3008.00.
Warning: Vehicle 'veh6859' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3009.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3030: Phase map is None at time 3030 - algorithm may have crashed
Warning: Vehicle 'veh9299' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3047.00.
Warning: Vehicle 'veh9299' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-10.38, offset=0.34), time=3047.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3060: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3060: Phase map is None at time 3060 - algorithm may have crashed
Warning: Vehicle 'veh8051' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3060.00.
Warning: Teleporting vehicle 'veh7356'; collision with vehicle 'veh8748', lane='E_GOR_W_NMR_H_s_1', gap=-5.84, time=3082.00, stage=move.
Warning: Vehicle 'veh7356' ends teleporting on edge 'E_PNK_W_WZM', time=3085.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3090: Phase map is None at time 3090 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7402'; collision with vehicle 'veh7460', lane='E_GOR_W_NMR_H_s_1', gap=-5.05, time=3092.00, stage=move.
Warning: Vehicle 'veh7402' ends teleporting on edge 'E_PNK_W_WZM_T', time=3094.00.
Warning: Teleporting vehicle 'veh7497'; collision with vehicle 'veh7435', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=3096.00, stage=move.
Warning: Vehicle 'veh7497' ends teleporting on edge 'E_PNK_W_WZM_T', time=3096.00.
Warning: Teleporting vehicle 'veh8633'; collision with vehicle 'veh7645', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=3099.00, stage=move.
Warning: Vehicle 'veh8633' ends teleporting on edge 'E_PNK_W_WZM_T', time=3099.00.
INFO:TrafficSimulator:Step 3100: 1159 vehicles active
Warning: Teleporting vehicle 'veh7624'; collision with vehicle 'veh8739', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=3101.00, stage=move.
Warning: Teleporting vehicle 'veh8821'; collision with vehicle 'veh7715', lane='E_GOR_W_NMR_H_s_1', gap=-3.02, time=3103.00, stage=move.
Warning: Vehicle 'veh7624' ends teleporting on edge 'E_PNK_W_WZM_T', time=3103.00.
Warning: Vehicle 'veh8821' ends teleporting on edge 'E_PNK_W_WZM_T', time=3105.00.
Warning: Teleporting vehicle 'veh6908'; collision with vehicle 'veh7774', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=3106.00, stage=move.
Warning: Vehicle 'veh4258' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=3107.00.
Warning: Vehicle 'veh6908' ends teleporting on edge 'E_PNK_W_WZM_T', time=3108.00.
Warning: Vehicle 'veh8609' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3115.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3120: Phase map is None at time 3120 - algorithm may have crashed
Warning: Vehicle 'veh10224' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3120.00.
Warning: Teleporting vehicle 'veh7764'; collision with vehicle 'veh6971', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=3125.00, stage=move.
Warning: Vehicle 'veh7764' ends teleporting on edge 'E_PNK_W_WZM_T', time=3125.00.
Warning: Teleporting vehicle 'veh9485'; collision with vehicle 'veh6987', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=3128.00, stage=move.
Warning: Vehicle 'veh9485' ends teleporting on edge 'E_PNK_W_WZM_T', time=3128.00.
Warning: Vehicle 'veh9423' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3132.00.
Warning: Vehicle 'veh9423' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-11.81, offset=2.45), time=3132.00.
Warning: Teleporting vehicle 'veh7814'; collision with vehicle 'veh7464', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=3132.00, stage=move.
Warning: Vehicle 'veh7814' ends teleporting on edge 'E_PNK_W_WZM_T', time=3132.00.
Warning: Teleporting vehicle 'veh7779'; collision with vehicle 'veh7604', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=3137.00, stage=move.
Warning: Vehicle 'veh7779' ends teleporting on edge 'E_PNK_W_WZM_T', time=3137.00.
Warning: Vehicle 'veh9469' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3138.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3150: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3150: Phase map is None at time 3150 - algorithm may have crashed
Warning: Vehicle 'veh10086' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3168.00.
Warning: Vehicle 'veh10086' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-14.32, offset=4.99), time=3168.00.
Warning: Teleporting vehicle 'veh7821'; collision with vehicle 'veh9204', lane='E_GOR_W_NMR_H_s_1', gap=-3.01, time=3177.00, stage=move.
Warning: Vehicle 'veh7821' ends teleporting on edge 'E_PNK_W_WZM_T', time=3179.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3180: Phase map is None at time 3180 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7845'; collision with vehicle 'veh9532', lane='E_GOR_W_NMR_H_s_1', gap=-3.64, time=3182.00, stage=move.
Warning: Vehicle 'veh7845' ends teleporting on edge 'E_PNK_W_WZM', time=3185.00.
Warning: Vehicle 'veh4580' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3198.00.
Warning: Vehicle 'veh4580' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_0' because of a red traffic light (decel=-12.80, offset=1.86), time=3198.00.
INFO:TrafficSimulator:Step 3200: 1176 vehicles active
Warning: Teleporting vehicle 'veh7934'; collision with vehicle 'veh7018', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=3201.00, stage=move.
Warning: Vehicle 'veh7934' ends teleporting on edge 'E_PNK_W_WZM_T', time=3201.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3210: Phase map is None at time 3210 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7035'; collision with vehicle 'veh7965', lane='E_GOR_W_NMR_H_s_1', gap=-6.61, time=3210.00, stage=move.
Warning: Vehicle 'veh7035' ends teleporting on edge 'E_PNK_W_WZM_T', time=3211.00.
Warning: Teleporting vehicle 'veh8085'; collision with vehicle 'veh7847', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=3222.00, stage=move.
Warning: Vehicle 'veh8085' ends teleporting on edge 'E_PNK_W_WZM_T', time=3222.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3240: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3240: Phase map is None at time 3240 - algorithm may have crashed
Warning: Vehicle 'veh10605' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=3240.00.
Warning: Teleporting vehicle 'veh7959'; collision with vehicle 'veh8126', lane='E_GOR_W_NMR_H_s_1', gap=-6.68, time=3267.00, stage=move.
Warning: Vehicle 'veh7959' ends teleporting on edge 'E_PNK_W_WZM_T', time=3268.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3270: Phase map is None at time 3270 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8198'; collision with vehicle 'veh8058', lane='E_GOR_W_NMR_H_s_1', gap=-4.74, time=3274.00, stage=move.
Warning: Vehicle 'veh8198' ends teleporting on edge 'E_PNK_W_WZM_T', time=3274.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3300: Phase map is None at time 3300 - algorithm may have crashed
INFO:TrafficSimulator:Step 3300: 1172 vehicles active
Warning: Teleporting vehicle 'veh8252'; collision with vehicle 'veh9710', lane='E_GOR_W_NMR_H_s_1', gap=-6.00, time=3312.00, stage=move.
Warning: Vehicle 'veh8252' ends teleporting on edge 'E_PNK_W_WZM_T', time=3312.00.
Warning: Teleporting vehicle 'veh8196'; collision with vehicle 'veh8012', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=3315.00, stage=move.
Warning: Vehicle 'veh8196' ends teleporting on edge 'E_PNK_W_WZM_T', time=3315.00.
Warning: Teleporting vehicle 'veh8284'; collision with vehicle 'veh8210', lane='E_GOR_W_NMR_H_s_1', gap=-6.95, time=3318.00, stage=move.
Warning: Vehicle 'veh8284' ends teleporting on edge 'E_PNK_W_WZM_T', time=3318.00.
Warning: Teleporting vehicle 'veh8239'; collision with vehicle 'veh7150', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=3329.00, stage=move.
Warning: Vehicle 'veh8239' ends teleporting on edge 'E_PNK_W_WZM_T', time=3329.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3330: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3330: Phase map is None at time 3330 - algorithm may have crashed
Warning: Vehicle 'veh9296' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh9296' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.25, offset=2.91), time=3330.00.
Warning: Vehicle 'veh9462' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh9462' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-12.75, offset=1.55), time=3330.00.
Warning: Vehicle 'veh8988' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3330.00.
Warning: Vehicle 'veh8988' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-14.60, offset=1.54), time=3330.00.
Warning: Teleporting vehicle 'veh8293'; collision with vehicle 'veh8387', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=3349.00, stage=move.
Warning: Teleporting vehicle 'veh10066'; collision with vehicle 'veh8323', lane='E_GOR_W_NMR_H_s_1', gap=-6.66, time=3352.00, stage=move.
Warning: Teleporting vehicle 'veh10094'; collision with vehicle 'veh8329', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=3355.00, stage=move.
Warning: Teleporting vehicle 'veh8308'; collision with vehicle 'veh8406', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=3357.00, stage=move.
Warning: Vehicle 'veh10066' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3357.00.
Warning: Teleporting vehicle 'veh8414'; collision with vehicle 'veh8582', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=3359.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3360: Phase map is None at time 3360 - algorithm may have crashed
Warning: Vehicle 'veh8308' ends teleporting on edge 'E_PNK_W_WZM', time=3360.00.
Warning: Vehicle 'veh8414' ends teleporting on edge 'E_PNK_W_WZM_T', time=3360.00.
Warning: Vehicle 'veh8607' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3361.00.
Warning: Vehicle 'veh8506' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=3362.00.
Warning: Teleporting vehicle 'veh8506'; collision with vehicle 'veh8615', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=3364.00, stage=move.
Warning: Vehicle 'veh8506' ends teleporting on edge 'E_PNK_W_WZM_T', time=3364.00.
Warning: Vehicle 'veh9572' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3365.00.
Warning: Teleporting vehicle 'veh8451'; collision with vehicle 'veh8553', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=3367.00, stage=move.
Warning: Vehicle 'veh8451' ends teleporting on edge 'E_PNK_W_WZM_T', time=3367.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3390: Phase map is None at time 3390 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8658'; collision with vehicle 'veh8482', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=3400.00, stage=move.
Warning: Vehicle 'veh8658' ends teleporting on edge 'E_PNK_W_WZM_T', time=3400.00.
INFO:TrafficSimulator:Step 3400: 1164 vehicles active
Warning: Teleporting vehicle 'veh8738'; collision with vehicle 'veh8646', lane='E_GOR_W_NMR_H_s_1', gap=-5.91, time=3404.00, stage=move.
Warning: Vehicle 'veh8738' ends teleporting on edge 'E_PNK_W_WZM_T', time=3404.00.
Warning: Teleporting vehicle 'veh8711'; collision with vehicle 'veh8797', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=3407.00, stage=move.
Warning: Vehicle 'veh8711' ends teleporting on edge 'E_PNK_W_WZM_T', time=3407.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3420: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3420: Phase map is None at time 3420 - algorithm may have crashed
Warning: Vehicle 'veh8293' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3430.00.
Warning: Teleporting vehicle 'veh8688'; collision with vehicle 'veh8880', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=3439.00, stage=move.
Warning: Teleporting vehicle 'veh8834'; collision with vehicle 'veh8759', lane='E_GOR_W_NMR_H_s_1', gap=-6.80, time=3442.00, stage=move.
Warning: Vehicle 'veh8688' ends teleporting on edge 'E_PNK_W_WZM', time=3442.00.
Warning: Teleporting vehicle 'veh8959'; collision with vehicle 'veh10258', lane='E_GOR_W_NMR_H_s_1', gap=-6.74, time=3444.00, stage=move.
Warning: Vehicle 'veh8834' ends teleporting on edge 'E_PNK_W_WZM_T', time=3444.00.
Warning: Vehicle 'veh8959' ends teleporting on edge 'E_PNK_W_WZM_T', time=3446.00.
Warning: Vehicle 'veh9106' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=3449.00.
Warning: Teleporting vehicle 'veh9106'; collision with vehicle 'veh10332', lane='E_GOR_W_NMR_H_s_1', gap=-1.85, time=3449.00, stage=move.
Warning: Vehicle 'veh9106' ends teleporting on edge 'E_PNK_W_WZM_T', time=3449.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3450: Phase map is None at time 3450 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10418'; collision with vehicle 'veh8904', lane='E_GOR_W_NMR_H_s_1', gap=-6.16, time=3451.00, stage=move.
Warning: Vehicle 'veh10418' ends teleporting on edge 'E_PNK_W_WZM_T', time=3451.00.
Warning: Teleporting vehicle 'veh8803'; collision with vehicle 'veh9118', lane='E_GOR_W_NMR_H_s_1', gap=-4.01, time=3455.00, stage=move.
Warning: Vehicle 'veh8803' ends teleporting on edge 'E_PNK_W_WZM_T', time=3455.00.
Warning: Teleporting vehicle 'veh8872'; collision with vehicle 'veh9123', lane='E_GOR_W_NMR_H_s_1', gap=-3.98, time=3457.00, stage=move.
Warning: Vehicle 'veh8872' ends teleporting on edge 'E_PNK_W_WZM_T', time=3457.00.
Warning: Teleporting vehicle 'veh8932'; collision with vehicle 'veh9131', lane='E_GOR_W_NMR_H_s_1', gap=-5.67, time=3459.00, stage=move.
Warning: Vehicle 'veh8932' ends teleporting on edge 'E_PNK_W_WZM_T', time=3459.00.
Warning: Teleporting vehicle 'veh9055'; collision with vehicle 'veh8958', lane='E_GOR_W_NMR_H_s_1', gap=-7.16, time=3462.00, stage=move.
Warning: Vehicle 'veh9055' ends teleporting on edge 'E_PNK_W_WZM_T', time=3462.00.
Warning: Vehicle 'veh7477' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3479.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3480: Phase map is None at time 3480 - algorithm may have crashed
Warning: Vehicle 'veh10094' teleports beyond arrival edge 'E_WZM_S', time=3484.00.
Warning: Teleporting vehicle 'veh9003'; collision with vehicle 'veh9196', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=3487.00, stage=move.
Warning: Vehicle 'veh9003' ends teleporting on edge 'E_PNK_W_WZM_T', time=3488.00.
Warning: Teleporting vehicle 'veh9102'; collision with vehicle 'veh9250', lane='E_GOR_W_NMR_H_s_1', gap=-7.24, time=3490.00, stage=move.
Warning: Vehicle 'veh9102' ends teleporting on edge 'E_PNK_W_WZM_T', time=3490.00.
Warning: Teleporting vehicle 'veh9129'; collision with vehicle 'veh10590', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=3496.00, stage=move.
Warning: Vehicle 'veh9129' ends teleporting on edge 'E_PNK_W_WZM_T', time=3496.00.
INFO:TrafficSimulator:Step 3500: 1175 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3510: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3510: Phase map is None at time 3510 - algorithm may have crashed
Warning: Vehicle 'veh9656' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3510.00.
Warning: Vehicle 'veh9656' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_0' because of a red traffic light (decel=-10.99, offset=0.09), time=3510.00.
Warning: Teleporting vehicle 'veh9366'; collision with vehicle 'veh9125', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=3528.00, stage=move.
Warning: Vehicle 'veh9366' ends teleporting on edge 'E_PNK_W_WZM_T', time=3528.00.
Warning: Teleporting vehicle 'veh9144'; collision with vehicle 'veh9147', lane='E_GOR_W_NMR_H_s_1', gap=-6.36, time=3531.00, stage=move.
Warning: Teleporting vehicle 'veh9158'; collision with vehicle 'veh9365', lane='E_GOR_W_NMR_H_s_1', gap=-5.17, time=3533.00, stage=move.
Warning: Vehicle 'veh9144' ends teleporting on edge 'E_PNK_W_WZM', time=3534.00.
Warning: Vehicle 'veh9158' ends teleporting on edge 'E_PNK_W_WZM_T', time=3534.00.
Warning: Teleporting vehicle 'veh9138'; collision with vehicle 'veh9388', lane='E_GOR_W_NMR_H_s_1', gap=-5.22, time=3535.00, stage=move.
Warning: Vehicle 'veh9138' ends teleporting on edge 'E_PNK_W_WZM_T', time=3536.00.
Warning: Teleporting vehicle 'veh9169'; collision with vehicle 'veh9248', lane='E_GOR_W_NMR_H_s_1', gap=-5.59, time=3539.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3540: Phase map is None at time 3540 - algorithm may have crashed
Warning: Vehicle 'veh10000' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3540.00.
Warning: Teleporting vehicle 'veh9452'; collision with vehicle 'veh7432', lane='E_GOR_W_NMR_H_s_1', gap=-4.59, time=3541.00, stage=move.
Warning: Vehicle 'veh9169' ends teleporting on edge 'E_PNK_W_WZM', time=3543.00.
Warning: Teleporting vehicle 'veh9397'; collision with vehicle 'veh9534', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=3544.00, stage=move.
Warning: Vehicle 'veh9397' ends teleporting on edge 'E_PNK_W_WZM_T', time=3545.00.
Warning: Vehicle 'veh9452' ends teleporting on edge 'E_PNK_W_WZM', time=3546.00.
Warning: Teleporting vehicle 'veh10780'; collision with vehicle 'veh9500', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=3552.00, stage=move.
Warning: Vehicle 'veh10780' ends teleporting on edge 'E_PNK_W_WZM_T', time=3552.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3570: Phase map is None at time 3570 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9527'; collision with vehicle 'veh10784', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=3586.00, stage=move.
Warning: Vehicle 'veh9527' ends teleporting on edge 'E_PNK_W_WZM_T', time=3586.00.
Warning: Teleporting vehicle 'veh9571'; collision with vehicle 'veh9414', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=3589.00, stage=move.
Warning: Vehicle 'veh9571' ends teleporting on edge 'E_PNK_W_WZM_T', time=3589.00.
Warning: Teleporting vehicle 'veh9509'; collision with vehicle 'veh9441', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=3592.00, stage=move.
Warning: Vehicle 'veh9509' ends teleporting on edge 'E_PNK_W_WZM_T', time=3592.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 3600: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3600: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3600: Phase map is None at time 3600 - algorithm may have crashed
Warning: Vehicle 'veh9829' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh9829' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-10.57, offset=0.36), time=3600.00.
Warning: Vehicle 'veh10637' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
Warning: Vehicle 'veh10637' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-10.81, offset=0.25), time=3600.00.
Warning: Vehicle 'veh9988' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3600.00.
INFO:TrafficSimulator:Step 3600: 1187 vehicles active
Warning: Teleporting vehicle 'veh10899'; collision with vehicle 'veh11048', lane='E_NMR_N_PNK_H_s_3', gap=-0.89, time=3612.00, stage=move.
Warning: Vehicle 'veh10899' ends teleporting on edge 'E_NMR_N_YMK_T', time=3612.00.
Warning: Teleporting vehicle 'veh9483'; collision with vehicle 'veh9453', lane='E_GOR_W_NMR_H_s_1', gap=-6.50, time=3621.00, stage=move.
Warning: Teleporting vehicle 'veh9641'; collision with vehicle 'veh9463', lane='E_GOR_W_NMR_H_s_1', gap=-5.45, time=3625.00, stage=move.
Warning: Vehicle 'veh9641' ends teleporting on edge 'E_PNK_W_WZM_T', time=3625.00.
Warning: Vehicle 'veh5096' performs emergency braking on lane 'E_BLK_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3626.00.
Warning: Teleporting vehicle 'veh9501'; collision with vehicle 'veh9589', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=3628.00, stage=move.
Warning: Vehicle 'veh9501' ends teleporting on edge 'E_PNK_W_WZM_T', time=3628.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3630: Phase map is None at time 3630 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9680'; collision with vehicle 'veh7489', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=3630.00, stage=move.
Warning: Vehicle 'veh9680' ends teleporting on edge 'E_PNK_W_WZM_T', time=3630.00.
Warning: Teleporting vehicle 'veh7521'; collision with vehicle 'veh9668', lane='E_GOR_W_NMR_H_s_1', gap=-4.32, time=3632.00, stage=move.
Warning: Vehicle 'veh7521' ends teleporting on edge 'E_PNK_W_WZM_T', time=3632.00.
Warning: Teleporting vehicle 'veh9755'; collision with vehicle 'veh9622', lane='E_GOR_W_NMR_H_s_1', gap=-7.18, time=3637.00, stage=move.
Warning: Vehicle 'veh9755' ends teleporting on edge 'E_PNK_W_WZM_T', time=3637.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3660: Phase map is None at time 3660 - algorithm may have crashed
Warning: Vehicle 'veh10743' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3660.00.
Warning: Vehicle 'veh10743' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-17.17, offset=2.58), time=3660.00.
Warning: Teleporting vehicle 'veh9773'; collision with vehicle 'veh11140', lane='E_GOR_W_NMR_H_s_1', gap=-4.46, time=3664.00, stage=move.
Warning: Vehicle 'veh9773' ends teleporting on edge 'E_PNK_W_WZM_T', time=3664.00.
Warning: Teleporting vehicle 'veh9807'; collision with vehicle 'veh9860', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=3667.00, stage=move.
Warning: Vehicle 'veh9807' ends teleporting on edge 'E_PNK_W_WZM_T', time=3667.00.
Warning: Teleporting vehicle 'veh9816'; collision with vehicle 'veh7558', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=3672.00, stage=move.
Warning: Vehicle 'veh9816' ends teleporting on edge 'E_PNK_W_WZM_T', time=3672.00.
Warning: Teleporting vehicle 'veh9814'; collision with vehicle 'veh9934', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=3674.00, stage=move.
Warning: Vehicle 'veh9814' ends teleporting on edge 'E_PNK_W_WZM_T', time=3674.00.
Warning: Teleporting vehicle 'veh7553'; collision with vehicle 'veh9952', lane='E_GOR_W_NMR_H_s_1', gap=-7.29, time=3677.00, stage=move.
Warning: Vehicle 'veh7553' ends teleporting on edge 'E_PNK_W_WZM_T', time=3677.00.
Warning: Teleporting vehicle 'veh9964'; collision with vehicle 'veh7563', lane='E_GOR_W_NMR_H_s_1', gap=-6.57, time=3679.00, stage=move.
Warning: Vehicle 'veh9964' ends teleporting on edge 'E_PNK_W_WZM_T', time=3679.00.
Warning: Teleporting vehicle 'veh9995'; collision with vehicle 'veh9850', lane='E_GOR_W_NMR_H_s_1', gap=-4.72, time=3681.00, stage=move.
Warning: Vehicle 'veh9995' ends teleporting on edge 'E_PNK_W_WZM_T', time=3681.00.
Warning: Teleporting vehicle 'veh9972'; collision with vehicle 'veh9904', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=3684.00, stage=move.
Warning: Vehicle 'veh9972' ends teleporting on edge 'E_PNK_W_WZM_T', time=3684.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3690: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3690: Phase map is None at time 3690 - algorithm may have crashed
Warning: Vehicle 'veh9981' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=3690.00.
Warning: Vehicle 'veh9483' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=3696.00.
INFO:TrafficSimulator:Step 3700: 1260 vehicles active
Warning: Vehicle 'veh11868' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3706.00.
Warning: Vehicle 'veh11868' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-9.69, offset=0.40), time=3706.00.
Warning: Teleporting vehicle 'veh9898'; collision with vehicle 'veh11408', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=3713.00, stage=move.
Warning: Vehicle 'veh9898' ends teleporting on edge 'E_PNK_W_WZM_T', time=3715.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3720: Phase map is None at time 3720 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10100'; collision with vehicle 'veh9986', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=3720.00, stage=move.
Warning: Vehicle 'veh10100' ends teleporting on edge 'E_PNK_W_WZM_T', time=3721.00.
Warning: Teleporting vehicle 'veh11326'; collision with vehicle 'veh10140', lane='E_GOR_W_NMR_H_s_1', gap=-6.98, time=3723.00, stage=move.
Warning: Vehicle 'veh11326' ends teleporting on edge 'E_PNK_W_WZM_T', time=3723.00.
Warning: Teleporting vehicle 'veh11325'; collision with vehicle 'veh10090', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=3726.00, stage=move.
Warning: Teleporting vehicle 'veh11277'; collision with vehicle 'veh10139', lane='E_GOR_W_NMR_H_s_1', gap=-6.43, time=3728.00, stage=move.
Warning: Vehicle 'veh11277' ends teleporting on edge 'E_PNK_W_WZM_T', time=3729.00.
Warning: Vehicle 'veh11325' ends teleporting on edge 'E_PNK_W_WZM', time=3729.00.
Warning: Teleporting vehicle 'veh7607'; collision with vehicle 'veh10150', lane='E_GOR_W_NMR_H_s_1', gap=-6.67, time=3731.00, stage=move.
Warning: Vehicle 'veh7607' ends teleporting on edge 'E_PNK_W_WZM_T', time=3731.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3750: Phase map is None at time 3750 - algorithm may have crashed
Warning: Vehicle 'veh12408' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=3750.00.
Warning: Vehicle 'veh5096' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3759.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3780: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3780: Phase map is None at time 3780 - algorithm may have crashed
Warning: Vehicle 'veh10124' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3780.00.
Warning: Vehicle 'veh10124' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-10.49, offset=0.72), time=3780.00.
Warning: Vehicle 'veh10122' performs emergency braking on lane 'E_HLC_W_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=3780.00.
Warning: Vehicle 'veh10406' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3800.00.
INFO:TrafficSimulator:Step 3800: 1273 vehicles active
Warning: Vehicle 'veh12291' performs emergency braking on lane 'E_NMR_S_PNK_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=3802.00.
Warning: Teleporting vehicle 'veh10127'; collision with vehicle 'veh10000', lane='E_GOR_W_NMR_H_s_1', gap=-7.35, time=3808.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3810: Phase map is None at time 3810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10062'; collision with vehicle 'veh10144', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=3811.00, stage=move.
Warning: Vehicle 'veh10127' ends teleporting on edge 'E_PNK_W_WZM', time=3811.00.
Warning: Teleporting vehicle 'veh10010'; collision with vehicle 'veh10248', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=3813.00, stage=move.
Warning: Teleporting vehicle 'veh10267'; collision with vehicle 'veh11338', lane='E_GOR_W_NMR_H_s_1', gap=-6.65, time=3815.00, stage=move.
Warning: Vehicle 'veh10062' ends teleporting on edge 'E_PNK_W_WZM', time=3815.00.
Warning: Teleporting vehicle 'veh10290'; collision with vehicle 'veh11529', lane='E_GOR_W_NMR_H_s_1', gap=-5.66, time=3817.00, stage=move.
Warning: Vehicle 'veh10010' ends teleporting on edge 'E_PNK_W_WZM', time=3817.00.
Warning: Vehicle 'veh10290' ends teleporting on edge 'E_PNK_W_WZM_T', time=3818.00.
Warning: Vehicle 'veh10267' ends teleporting on edge 'E_PNK_W_WZM', time=3819.00.
Warning: Vehicle 'veh12312' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3837.00.
Warning: Vehicle 'veh12312' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_1' because of a red traffic light (decel=-19.37, offset=1.73), time=3837.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3840: Phase map is None at time 3840 - algorithm may have crashed
Warning: Teleporting vehicle 'veh7683'; collision with vehicle 'veh10312', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=3850.00, stage=move.
Warning: Vehicle 'veh7683' ends teleporting on edge 'E_PNK_W_WZM_T', time=3850.00.
Warning: Teleporting vehicle 'veh7717'; collision with vehicle 'veh10327', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=3855.00, stage=move.
Warning: Vehicle 'veh7717' ends teleporting on edge 'E_PNK_W_WZM_T', time=3855.00.
Warning: Teleporting vehicle 'veh10162'; collision with vehicle 'veh11648', lane='E_GOR_W_NMR_H_s_1', gap=-7.27, time=3858.00, stage=move.
Warning: Vehicle 'veh10162' ends teleporting on edge 'E_PNK_W_WZM_T', time=3858.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3870: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3870: Phase map is None at time 3870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12062'; collision with vehicle 'veh11706', lane='E_GOR_W_NMR_H_s_1', gap=-7.15, time=3899.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3900: Phase map is None at time 3900 - algorithm may have crashed
INFO:TrafficSimulator:Step 3900: 1242 vehicles active
Warning: Teleporting vehicle 'veh10405'; collision with vehicle 'veh11744', lane='E_GOR_W_NMR_H_s_1', gap=-6.04, time=3901.00, stage=move.
Warning: Vehicle 'veh10405' ends teleporting on edge 'E_PNK_W_WZM_T', time=3901.00.
Warning: Teleporting vehicle 'veh10361'; collision with vehicle 'veh11904', lane='E_GOR_W_NMR_H_s_1', gap=-4.89, time=3904.00, stage=move.
Warning: Vehicle 'veh12062' ends teleporting on edge 'E_PNK_W_WZM', time=3904.00.
Warning: Teleporting vehicle 'veh12016'; collision with vehicle 'veh10484', lane='E_GOR_W_NMR_H_s_1', gap=-7.17, time=3906.00, stage=move.
Warning: Teleporting vehicle 'veh12192'; collision with vehicle 'veh10488', lane='E_GOR_W_NMR_H_s_1', gap=-6.82, time=3908.00, stage=move.
Warning: Vehicle 'veh10361' ends teleporting on edge 'E_PNK_W_WZM', time=3909.00.
Warning: Vehicle 'veh12016' ends teleporting on edge 'E_PNK_W_WZM_T', time=3909.00.
Warning: Vehicle 'veh12192' ends teleporting on edge 'E_PNK_W_WZM_T', time=3911.00.
Warning: Teleporting vehicle 'veh12393'; collision with vehicle 'veh7796', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=3914.00, stage=move.
Warning: Vehicle 'veh12393' ends teleporting on edge 'E_PNK_W_WZM_T', time=3914.00.
Warning: Teleporting vehicle 'veh12491'; collision with vehicle 'veh12393', lane='E_PNK_W_WZM_T_0', gap=-1.91, time=3915.00, stage=move.
Warning: Vehicle 'veh12491' ends teleporting on edge 'E_PNK_W_WZM', time=3915.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3930: Phase map is None at time 3930 - algorithm may have crashed
Warning: Vehicle 'veh13048' performs emergency braking on lane 'E_NMR_N_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3930.00.
Warning: Teleporting vehicle 'veh11978'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_1', time=3930.00.
Warning: Vehicle 'veh11978' ends teleporting on edge 'E_WZM_S_PNK', time=3930.00.
Warning: Vehicle 'veh13048' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_1' because of a red traffic light (decel=-12.68, offset=2.65), time=3931.00.
Warning: Vehicle 'veh13031' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=3939.00.
Warning: Vehicle 'veh13031' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-13.11, offset=1.38), time=3939.00.
Warning: Teleporting vehicle 'veh12033'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_2', time=3948.00.
Warning: Vehicle 'veh12033' ends teleporting on edge 'E_WZM_S_PNK', time=3948.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 3960: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 3960: Phase map is None at time 3960 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10392'; collision with vehicle 'veh12524', lane='E_GOR_W_NMR_H_s_1', gap=-6.41, time=3984.00, stage=move.
Warning: Vehicle 'veh10392' ends teleporting on edge 'E_PNK_W_WZM_T', time=3984.00.
Warning: Teleporting vehicle 'veh12555'; collision with vehicle 'veh12221', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=3987.00, stage=move.
Warning: Vehicle 'veh10882' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=3988.00.
Warning: Vehicle 'veh10882' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.03, offset=1.19), time=3988.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 3990: Phase map is None at time 3990 - algorithm may have crashed
Warning: Vehicle 'veh12555' ends teleporting on edge 'E_PNK_W_WZM', time=3990.00.
Warning: Teleporting vehicle 'veh12608'; collision with vehicle 'veh12674', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=3991.00, stage=move.
Warning: Vehicle 'veh12608' ends teleporting on edge 'E_PNK_W_WZM_T', time=3992.00.
Warning: Teleporting vehicle 'veh7898'; collision with vehicle 'veh7861', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=3994.00, stage=move.
Warning: Vehicle 'veh7898' ends teleporting on edge 'E_PNK_W_WZM_T', time=3994.00.
Warning: Teleporting vehicle 'veh7849'; collision with vehicle 'veh10492', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=3996.00, stage=move.
Warning: Vehicle 'veh7849' ends teleporting on edge 'E_PNK_W_WZM_T', time=3996.00.
Warning: Teleporting vehicle 'veh7902'; collision with vehicle 'veh7907', lane='E_GOR_W_NMR_H_s_1', gap=-7.49, time=3998.00, stage=move.
Warning: Vehicle 'veh7902' ends teleporting on edge 'E_PNK_W_WZM_T', time=3998.00.
INFO:TrafficSimulator:Step 4000: 1237 vehicles active
Warning: Vehicle 'veh10531' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4001.00.
Warning: Teleporting vehicle 'veh10531'; collision with vehicle 'veh10512', lane='E_GOR_W_NMR_H_s_1', gap=-1.61, time=4001.00, stage=move.
Warning: Vehicle 'veh10531' ends teleporting on edge 'E_PNK_W_WZM_T', time=4001.00.
Warning: Teleporting vehicle 'veh10599'; collision with vehicle 'veh10654', lane='E_GOR_W_NMR_H_s_1', gap=-7.08, time=4008.00, stage=move.
Warning: Vehicle 'veh10599' ends teleporting on edge 'E_PNK_W_WZM_T', time=4008.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4020: Phase map is None at time 4020 - algorithm may have crashed
Warning: Vehicle 'veh2126' performs emergency braking on lane 'E_NMR_S_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4020.00.
Warning: Vehicle 'veh2126' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_s_0' because of a red traffic light (decel=-20.09, offset=3.86), time=4020.00.
Warning: Vehicle 'veh5362' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4029.00.
Warning: Teleporting vehicle 'veh10645'; collision with vehicle 'veh12823', lane='E_GOR_W_NMR_H_s_1', gap=-6.99, time=4036.00, stage=move.
Warning: Vehicle 'veh10645' ends teleporting on edge 'E_PNK_W_WZM_T', time=4036.00.
Warning: Vehicle 'veh13009' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4037.00.
Warning: Vehicle 'veh13009' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-13.45, offset=3.92), time=4037.00.
Warning: Vehicle 'veh13393' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4039.00.
Warning: Vehicle 'veh13393' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-20.62, offset=10.12), time=4039.00.
Warning: Teleporting vehicle 'veh7922'; collision with vehicle 'veh10532', lane='E_GOR_W_NMR_H_s_1', gap=-6.06, time=4042.00, stage=move.
Warning: Vehicle 'veh7922' ends teleporting on edge 'E_PNK_W_WZM_T', time=4042.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4050: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4050: Phase map is None at time 4050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12948'; collision with vehicle 'veh7949', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=4072.00, stage=move.
Warning: Vehicle 'veh12948' ends teleporting on edge 'E_PNK_W_WZM_T', time=4073.00.
Warning: Teleporting vehicle 'veh10728'; collision with vehicle 'veh7990', lane='E_GOR_W_NMR_H_s_1', gap=-5.76, time=4075.00, stage=move.
Warning: Vehicle 'veh10728' ends teleporting on edge 'E_PNK_W_WZM_T', time=4075.00.
Warning: Teleporting vehicle 'veh8040'; collision with vehicle 'veh10846', lane='E_GOR_W_NMR_H_s_1', gap=-7.21, time=4077.00, stage=move.
Warning: Vehicle 'veh8040' ends teleporting on edge 'E_PNK_W_WZM_T', time=4077.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4080: Phase map is None at time 4080 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12266'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_1', time=4081.00.
Warning: Teleporting vehicle 'veh10745'; collision with vehicle 'veh10787', lane='E_GOR_W_NMR_H_s_1', gap=-7.07, time=4081.00, stage=move.
Warning: Vehicle 'veh10745' ends teleporting on edge 'E_PNK_W_WZM_T', time=4081.00.
Warning: Vehicle 'veh11112' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4083.00.
Warning: Teleporting vehicle 'veh10736'; collision with vehicle 'veh10778', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=4084.00, stage=move.
Warning: Vehicle 'veh10736' ends teleporting on edge 'E_PNK_W_WZM_T', time=4084.00.
Warning: Teleporting vehicle 'veh10833'; collision with vehicle 'veh10799', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=4086.00, stage=move.
Warning: Vehicle 'veh10833' ends teleporting on edge 'E_PNK_W_WZM', time=4090.00.
INFO:TrafficSimulator:Step 4100: 1241 vehicles active
Warning: Teleporting vehicle 'veh13203'; collision with vehicle 'veh10776', lane='E_GOR_W_NMR_H_s_1', gap=-7.47, time=4101.00, stage=move.
Warning: Vehicle 'veh13203' ends teleporting on edge 'E_PNK_W_WZM_T', time=4101.00.
Warning: Vehicle 'veh13361' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4105.00.
Warning: Vehicle 'veh13293' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4105.00.
Warning: Vehicle 'veh13293' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-16.79, offset=2.75), time=4105.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4110: Phase map is None at time 4110 - algorithm may have crashed
Warning: Vehicle 'veh13706' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4119.00.
Warning: Vehicle 'veh13706' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_1' because of a red traffic light (decel=-16.07, offset=4.13), time=4119.00.
Warning: Vehicle 'veh13612' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4128.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4140: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4140: Phase map is None at time 4140 - algorithm may have crashed
Warning: Vehicle 'veh10771' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4140.00.
Warning: Vehicle 'veh10771' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-13.38, offset=0.65), time=4140.00.
Warning: Vehicle 'veh13603' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4153.00.
Warning: Vehicle 'veh13603' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-14.66, offset=1.14), time=4153.00.
Warning: Teleporting vehicle 'veh13341'; collision with vehicle 'veh8081', lane='E_GOR_W_NMR_H_s_1', gap=-4.06, time=4164.00, stage=move.
Warning: Vehicle 'veh13341' ends teleporting on edge 'E_PNK_W_WZM_T', time=4164.00.
Warning: Teleporting vehicle 'veh10890'; collision with vehicle 'veh8139', lane='E_GOR_W_NMR_H_s_1', gap=-6.81, time=4169.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4170: Phase map is None at time 4170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10950'; collision with vehicle 'veh10889', lane='E_GOR_W_NMR_H_s_1', gap=-1.81, time=4171.00, stage=move.
Warning: Vehicle 'veh10890' ends teleporting on edge 'E_PNK_W_WZM', time=4172.00.
Warning: Teleporting vehicle 'veh11150'; collision with vehicle 'veh10927', lane='E_GOR_W_NMR_H_s_1', gap=-1.40, time=4173.00, stage=move.
Warning: Vehicle 'veh10950' ends teleporting on edge 'E_PNK_W_WZM_T', time=4173.00.
Warning: Teleporting vehicle 'veh11029'; collision with vehicle 'veh10951', lane='E_GOR_W_NMR_H_s_1', gap=-0.52, time=4175.00, stage=move.
Warning: Vehicle 'veh11029' ends teleporting on edge 'E_PNK_W_WZM_T', time=4175.00.
Warning: Vehicle 'veh11402' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4177.00.
Warning: Vehicle 'veh11402' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.89, offset=0.95), time=4177.00.
Warning: Teleporting vehicle 'veh13460'; collision with vehicle 'veh10968', lane='E_GOR_W_NMR_H_s_1', gap=-0.96, time=4177.00, stage=move.
Warning: Vehicle 'veh13460' ends teleporting on edge 'E_PNK_W_WZM_T', time=4177.00.
Warning: Vehicle 'veh11150' ends teleporting on edge 'E_PNK_W_WZM', time=4178.00.
Warning: Teleporting vehicle 'veh13573'; collision with vehicle 'veh10975', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=4181.00, stage=move.
Warning: Vehicle 'veh13573' ends teleporting on edge 'E_PNK_W_WZM_T', time=4181.00.
Warning: Teleporting vehicle 'veh8159'; collision with vehicle 'veh11112', lane='E_GOR_W_NMR_H_s_1', gap=-7.05, time=4187.00, stage=move.
Warning: Vehicle 'veh8159' ends teleporting on edge 'E_PNK_W_WZM_T', time=4187.00.
Warning: Teleporting vehicle 'veh8169'; collision with vehicle 'veh11175', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=4189.00, stage=move.
Warning: Vehicle 'veh8169' ends teleporting on edge 'E_PNK_W_WZM_T', time=4189.00.
Warning: Vehicle 'veh13626' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4192.00.
Warning: Vehicle 'veh13626' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-16.42, offset=4.33), time=4192.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4200: Phase map is None at time 4200 - algorithm may have crashed
INFO:TrafficSimulator:Step 4200: 1258 vehicles active
Warning: Teleporting vehicle 'veh11207'; collision with vehicle 'veh11221', lane='E_GOR_W_NMR_H_s_1', gap=-6.93, time=4212.00, stage=move.
Warning: Vehicle 'veh11207' ends teleporting on edge 'E_PNK_W_WZM_T', time=4212.00.
Warning: Vehicle 'veh13599' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4218.00.
Warning: Vehicle 'veh13599' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-9.91, offset=0.17), time=4218.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4230: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4230: Phase map is None at time 4230 - algorithm may have crashed
Warning: Vehicle 'veh10875' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh10875' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.37, offset=1.55), time=4230.00.
Warning: Vehicle 'veh8433' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4230.00.
Warning: Vehicle 'veh8433' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-10.86, offset=0.53), time=4230.00.
Warning: Teleporting vehicle 'veh12074'; waited too long (jam), lane='E_WZM_S_YMK_H_slr_1', time=4234.00.
Warning: Vehicle 'veh12074' ends teleporting on edge 'E_WZM_S_PNK', time=4234.00.
Warning: Vehicle 'veh12266' ends teleporting on edge 'E_NMR_S_PNK', time=4238.00.
Warning: Teleporting vehicle 'veh12084'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_1', time=4252.00.
Warning: Vehicle 'veh12084' ends teleporting on edge 'E_WZM_S_PNK', time=4252.00.
Warning: Teleporting vehicle 'veh11284'; collision with vehicle 'veh11350', lane='E_GOR_W_NMR_H_s_1', gap=-7.39, time=4253.00, stage=move.
Warning: Vehicle 'veh11284' ends teleporting on edge 'E_PNK_W_WZM', time=4256.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4260: Phase map is None at time 4260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11341'; collision with vehicle 'veh13857', lane='E_GOR_W_NMR_H_s_1', gap=-5.80, time=4261.00, stage=move.
Warning: Vehicle 'veh11341' ends teleporting on edge 'E_PNK_W_WZM_T', time=4261.00.
Warning: Teleporting vehicle 'veh11323'; collision with vehicle 'veh13814', lane='E_GOR_W_NMR_H_s_1', gap=-5.89, time=4263.00, stage=move.
Warning: Vehicle 'veh11323' ends teleporting on edge 'E_PNK_W_WZM_T', time=4263.00.
Warning: Vehicle 'veh11842' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4271.00.
Warning: Vehicle 'veh11842' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-11.94, offset=0.36), time=4271.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4290: Phase map is None at time 4290 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13691'; collision with vehicle 'veh11313', lane='E_GOR_W_NMR_H_s_1', gap=-7.34, time=4300.00, stage=move.
Warning: Vehicle 'veh13691' ends teleporting on edge 'E_PNK_W_WZM_T', time=4300.00.
INFO:TrafficSimulator:Step 4300: 1235 vehicles active
Warning: Vehicle 'veh14147' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4303.00.
Warning: Vehicle 'veh14147' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-14.37, offset=4.76), time=4303.00.
Warning: Teleporting vehicle 'veh8268'; collision with vehicle 'veh13719', lane='E_GOR_W_NMR_H_s_1', gap=-5.95, time=4303.00, stage=move.
Warning: Vehicle 'veh8268' ends teleporting on edge 'E_PNK_W_WZM_T', time=4303.00.
Warning: Teleporting vehicle 'veh8243'; collision with vehicle 'veh11414', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=4308.00, stage=move.
Warning: Vehicle 'veh8243' ends teleporting on edge 'E_PNK_W_WZM_T', time=4308.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4320: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4320: Phase map is None at time 4320 - algorithm may have crashed
Warning: Vehicle 'veh11742' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4320.00.
Warning: Vehicle 'veh11742' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-15.25, offset=5.66), time=4320.00.
Warning: Vehicle 'veh14113' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4333.00.
Warning: Vehicle 'veh14113' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.35, offset=3.75), time=4333.00.
Warning: Teleporting vehicle 'veh8272'; collision with vehicle 'veh11506', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=4341.00, stage=move.
Warning: Vehicle 'veh8272' ends teleporting on edge 'E_PNK_W_WZM_T', time=4343.00.
Warning: Teleporting vehicle 'veh11487'; collision with vehicle 'veh11548', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=4348.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4350: Phase map is None at time 4350 - algorithm may have crashed
Warning: Vehicle 'veh11487' ends teleporting on edge 'E_PNK_W_WZM_T', time=4350.00.
Warning: Teleporting vehicle 'veh11865'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_0', time=4351.00.
Warning: Teleporting vehicle 'veh11514'; collision with vehicle 'veh11617', lane='E_GOR_W_NMR_H_s_1', gap=-6.84, time=4351.00, stage=move.
Warning: Vehicle 'veh11865' ends teleporting on edge 'E_NMR_S_PNK', time=4351.00.
Warning: Vehicle 'veh11514' ends teleporting on edge 'E_PNK_W_WZM_T', time=4352.00.
Warning: Teleporting vehicle 'veh11690'; collision with vehicle 'veh11663', lane='E_GOR_W_NMR_H_s_1', gap=-6.53, time=4355.00, stage=move.
Warning: Vehicle 'veh11690' ends teleporting on edge 'E_PNK_W_WZM_T', time=4355.00.
Warning: Teleporting vehicle 'veh14109'; collision with vehicle 'veh11679', lane='E_GOR_W_NMR_H_s_1', gap=-6.59, time=4358.00, stage=move.
Warning: Vehicle 'veh14109' ends teleporting on edge 'E_PNK_W_WZM_T', time=4358.00.
Warning: Teleporting vehicle 'veh11077'; waited too long (jam), lane='E_HZG_W_NMR_0', time=4361.00.
Warning: Teleporting vehicle 'veh11756'; collision with vehicle 'veh14139', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=4361.00, stage=move.
Warning: Vehicle 'veh12167' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4366.00.
Warning: Vehicle 'veh12167' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.20, offset=1.04), time=4366.00.
Warning: Vehicle 'veh14378' performs emergency braking on lane 'E_GOR_E_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4370.00.
Warning: Vehicle 'veh14378' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_2' because of a red traffic light (decel=-26.67, offset=9.83), time=4370.00.
Warning: Vehicle 'veh12085' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4370.00.
Warning: Vehicle 'veh12085' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-19.80, offset=0.11), time=4370.00.
Warning: Vehicle 'veh11756' ends teleporting on edge 'E_PNK_W_WZM_T', time=4378.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4380: Phase map is None at time 4380 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12268'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_0', time=4385.00.
Warning: Vehicle 'veh11077' ends teleporting on edge 'E_HZG_W_NMR_H_slr', time=4385.00.
Warning: Vehicle 'veh8339' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4389.00.
Warning: Vehicle 'veh8339' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.83, offset=1.31), time=4389.00.
INFO:TrafficSimulator:Step 4400: 1258 vehicles active
Warning: Teleporting vehicle 'veh11254'; waited too long (jam), lane='E_HZG_W_NMR_H_slr_0', time=4409.00.
Warning: Vehicle 'veh11254' ends teleporting on edge 'E_NMR_N', time=4409.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4410: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4410: Phase map is None at time 4410 - algorithm may have crashed
Warning: Vehicle 'veh12403' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4410.00.
Warning: Vehicle 'veh12403' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-13.38, offset=1.72), time=4410.00.
Warning: Vehicle 'veh8391' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4410.00.
Warning: Vehicle 'veh8391' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.89, offset=1.04), time=4410.00.
Warning: Vehicle 'veh12268' ends teleporting on edge 'E_NMR_S_PNK', time=4423.00.
Warning: Teleporting vehicle 'veh13979'; collision with vehicle 'veh11785', lane='E_GOR_W_NMR_H_s_1', gap=-7.02, time=4431.00, stage=move.
Warning: Teleporting vehicle 'veh8516'; collision with vehicle 'veh11804', lane='E_GOR_W_NMR_H_s_1', gap=-5.19, time=4434.00, stage=move.
Warning: Vehicle 'veh13979' ends teleporting on edge 'E_PNK_W_WZM', time=4434.00.
Warning: Teleporting vehicle 'veh8559'; collision with vehicle 'veh8433', lane='E_GOR_W_NMR_H_s_1', gap=-5.23, time=4436.00, stage=move.
Warning: Teleporting vehicle 'veh11842'; collision with vehicle 'veh11873', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=4438.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4440: Phase map is None at time 4440 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11861'; collision with vehicle 'veh12020', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=4440.00, stage=move.
Warning: Vehicle 'veh11842' ends teleporting on edge 'E_PNK_W_WZM_T', time=4440.00.
Warning: Vehicle 'veh8559' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=4441.00.
Warning: Teleporting vehicle 'veh12058'; collision with vehicle 'veh11959', lane='E_GOR_W_NMR_H_s_1', gap=-6.28, time=4442.00, stage=move.
Warning: Vehicle 'veh11861' ends teleporting on edge 'E_PNK_W_WZM_T', time=4442.00.
Warning: Teleporting vehicle 'veh12050'; collision with vehicle 'veh11997', lane='E_GOR_W_NMR_H_s_1', gap=-6.01, time=4444.00, stage=move.
Warning: Vehicle 'veh12050' ends teleporting on edge 'E_PNK_W_WZM_T', time=4445.00.
Warning: Teleporting vehicle 'veh14538'; collision with vehicle 'veh12012', lane='E_GOR_W_NMR_H_s_1', gap=-6.36, time=4446.00, stage=move.
Warning: Vehicle 'veh12058' ends teleporting on edge 'E_PNK_W_WZM', time=4446.00.
Warning: Vehicle 'veh14538' ends teleporting on edge 'E_PNK_W_WZM_T', time=4448.00.
Warning: Teleporting vehicle 'veh12234'; collision with vehicle 'veh12017', lane='E_GOR_W_NMR_H_s_1', gap=-7.36, time=4449.00, stage=move.
Warning: Vehicle 'veh12234' ends teleporting on edge 'E_PNK_W_WZM_T', time=4452.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4470: Phase map is None at time 4470 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 4500: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4500: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4500: Phase map is None at time 4500 - algorithm may have crashed
INFO:TrafficSimulator:Step 4500: 1258 vehicles active
Warning: Vehicle 'veh8516' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=4508.00.
Warning: Teleporting vehicle 'veh14241'; collision with vehicle 'veh14789', lane='E_NMR_N_PNK_H_s_3', gap=-1.48, time=4515.00, stage=move.
Warning: Vehicle 'veh14241' ends teleporting on edge 'E_NMR_N_YMK_T', time=4515.00.
Warning: Teleporting vehicle 'veh14320'; collision with vehicle 'veh12181', lane='E_GOR_W_NMR_H_s_1', gap=-6.13, time=4521.00, stage=move.
Warning: Teleporting vehicle 'veh12306'; collision with vehicle 'veh14404', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=4524.00, stage=move.
Warning: Vehicle 'veh14320' ends teleporting on edge 'E_PNK_W_WZM', time=4524.00.
Warning: Teleporting vehicle 'veh12318'; collision with vehicle 'veh12085', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=4527.00, stage=move.
Warning: Vehicle 'veh12318' ends teleporting on edge 'E_PNK_W_WZM_T', time=4527.00.
Warning: Vehicle 'veh12306' ends teleporting on edge 'E_PNK_W_WZM', time=4528.00.
Warning: Teleporting vehicle 'veh12353'; collision with vehicle 'veh12241', lane='E_GOR_W_NMR_H_s_1', gap=-4.50, time=4529.00, stage=move.
Warning: Vehicle 'veh12353' ends teleporting on edge 'E_PNK_W_WZM_T', time=4529.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4530: Phase map is None at time 4530 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12449'; collision with vehicle 'veh8605', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=4531.00, stage=move.
Warning: Teleporting vehicle 'veh12557'; collision with vehicle 'veh8624', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=4533.00, stage=move.
Warning: Vehicle 'veh12449' ends teleporting on edge 'E_PNK_W_WZM_T', time=4533.00.
Warning: Teleporting vehicle 'veh12462'; collision with vehicle 'veh12252', lane='E_GOR_W_NMR_H_s_1', gap=-2.83, time=4535.00, stage=move.
Warning: Vehicle 'veh12462' ends teleporting on edge 'E_PNK_W_WZM_T', time=4535.00.
Warning: Vehicle 'veh14752' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=4537.00.
Warning: Vehicle 'veh12557' ends teleporting on edge 'E_PNK_W_WZM', time=4537.00.
Warning: Teleporting vehicle 'veh12172'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_2', time=4539.00.
Warning: Vehicle 'veh12172' ends teleporting on edge 'E_WZM_S_PNK', time=4539.00.
Warning: Teleporting vehicle 'veh12465'; collision with vehicle 'veh12314', lane='E_GOR_W_NMR_H_s_1', gap=-6.04, time=4540.00, stage=move.
Warning: Vehicle 'veh12465' ends teleporting on edge 'E_PNK_W_WZM_T', time=4540.00.
Warning: Vehicle 'veh13055' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4550.00.
Warning: Teleporting vehicle 'veh12154'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_1', time=4557.00.
Warning: Vehicle 'veh12154' ends teleporting on edge 'E_WZM_S_PNK', time=4557.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4560: Phase map is None at time 4560 - algorithm may have crashed
Warning: Vehicle 'veh15269' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4560.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4590: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4590: Phase map is None at time 4590 - algorithm may have crashed
Warning: Vehicle 'veh13892' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh13892' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-12.83, offset=2.37), time=4590.00.
Warning: Vehicle 'veh8786' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=4590.00.
Warning: Vehicle 'veh8786' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-9.05, offset=0.01), time=4590.00.
INFO:TrafficSimulator:Step 4600: 1311 vehicles active
Warning: Vehicle 'veh15238' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4602.00.
Warning: Teleporting vehicle 'veh12444'; collision with vehicle 'veh12576', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=4609.00, stage=move.
Warning: Vehicle 'veh12444' ends teleporting on edge 'E_PNK_W_WZM_T', time=4609.00.
Warning: Teleporting vehicle 'veh14568'; collision with vehicle 'veh12622', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=4612.00, stage=move.
Warning: Vehicle 'veh14568' ends teleporting on edge 'E_PNK_W_WZM_T', time=4614.00.
Warning: Teleporting vehicle 'veh14620'; collision with vehicle 'veh12689', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=4615.00, stage=move.
Warning: Teleporting vehicle 'veh14684'; collision with vehicle 'veh12588', lane='E_GOR_W_NMR_H_s_1', gap=-6.36, time=4617.00, stage=move.
Warning: Vehicle 'veh14620' ends teleporting on edge 'E_PNK_W_WZM', time=4618.00.
Warning: Teleporting vehicle 'veh14775'; collision with vehicle 'veh12580', lane='E_GOR_W_NMR_H_s_1', gap=-6.69, time=4619.00, stage=move.
Warning: Vehicle 'veh14684' ends teleporting on edge 'E_PNK_W_WZM_T', time=4619.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4620: Phase map is None at time 4620 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12700'; collision with vehicle 'veh12744', lane='E_GOR_W_NMR_H_s_1', gap=-5.48, time=4621.00, stage=move.
Warning: Vehicle 'veh12700' ends teleporting on edge 'E_PNK_W_WZM_T', time=4621.00.
Warning: Vehicle 'veh14775' ends teleporting on edge 'E_PNK_W_WZM', time=4622.00.
Warning: Teleporting vehicle 'veh8650'; collision with vehicle 'veh12653', lane='E_GOR_W_NMR_H_s_1', gap=-7.12, time=4623.00, stage=move.
Warning: Teleporting vehicle 'veh12787'; collision with vehicle 'veh8737', lane='E_GOR_W_NMR_H_s_1', gap=-6.36, time=4624.00, stage=move.
Warning: Vehicle 'veh8650' ends teleporting on edge 'E_PNK_W_WZM_T', time=4624.00.
Warning: Teleporting vehicle 'veh12757'; collision with vehicle 'veh12808', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=4626.00, stage=move.
Warning: Teleporting vehicle 'veh12862'; collision with vehicle 'veh12761', lane='E_GOR_W_NMR_H_s_1', gap=-7.28, time=4629.00, stage=move.
Warning: Vehicle 'veh12787' ends teleporting on edge 'E_PNK_W_WZM', time=4629.00.
Warning: Vehicle 'veh13570' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4639.00.
Warning: Vehicle 'veh13570' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-13.06, offset=0.54), time=4639.00.
Warning: Vehicle 'veh12757' ends teleporting on edge 'E_PNK_W_WZM', time=4641.00.
Warning: Vehicle 'veh12862' ends teleporting on edge 'E_PNK_W_WZM', time=4641.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4650: Phase map is None at time 4650 - algorithm may have crashed
Warning: Vehicle 'veh15597' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4650.00.
Warning: Vehicle 'veh15597' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-16.83, offset=3.36), time=4650.00.
Warning: Teleporting vehicle 'veh12091'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_1', time=4656.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4680: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4680: Phase map is None at time 4680 - algorithm may have crashed
Warning: Vehicle 'veh13338' performs emergency braking on lane 'E_HLC_W_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh13338' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_l_1' because of a red traffic light (decel=-19.14, offset=7.00), time=4680.00.
Warning: Vehicle 'veh8642' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=4680.00.
Warning: Vehicle 'veh12091' ends teleporting on edge 'E_NMR_S_PNK', time=4680.00.
Warning: Teleporting vehicle 'veh12873'; collision with vehicle 'veh12814', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=4700.00, stage=move.
INFO:TrafficSimulator:Step 4700: 1332 vehicles active
Warning: Teleporting vehicle 'veh12997'; collision with vehicle 'veh12915', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=4702.00, stage=move.
Warning: Vehicle 'veh12873' ends teleporting on edge 'E_PNK_W_WZM', time=4704.00.
Warning: Teleporting vehicle 'veh12992'; collision with vehicle 'veh12963', lane='E_GOR_W_NMR_H_s_1', gap=-6.87, time=4705.00, stage=move.
Warning: Vehicle 'veh12997' ends teleporting on edge 'E_PNK_W_WZM', time=4705.00.
Warning: Vehicle 'veh12992' ends teleporting on edge 'E_PNK_W_WZM_T', time=4706.00.
Warning: Teleporting vehicle 'veh13055'; collision with vehicle 'veh14868', lane='E_GOR_W_NMR_H_s_1', gap=-4.00, time=4707.00, stage=move.
Warning: Teleporting vehicle 'veh13100'; collision with vehicle 'veh13063', lane='E_GOR_W_NMR_H_s_1', gap=-5.18, time=4709.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4710: Phase map is None at time 4710 - algorithm may have crashed
Warning: Vehicle 'veh13055' ends teleporting on edge 'E_PNK_W_WZM', time=4710.00.
Warning: Teleporting vehicle 'veh13082'; collision with vehicle 'veh13081', lane='E_GOR_W_NMR_H_s_1', gap=-5.19, time=4711.00, stage=move.
Warning: Vehicle 'veh13082' ends teleporting on edge 'E_PNK_W_WZM_T', time=4711.00.
Warning: Teleporting vehicle 'veh8764'; collision with vehicle 'veh13093', lane='E_GOR_W_NMR_H_s_1', gap=-3.85, time=4714.00, stage=move.
Warning: Vehicle 'veh8764' ends teleporting on edge 'E_PNK_W_WZM_T', time=4714.00.
Warning: Vehicle 'veh13100' ends teleporting on edge 'E_PNK_W_WZM', time=4714.00.
Warning: Teleporting vehicle 'veh8763'; collision with vehicle 'veh13131', lane='E_GOR_W_NMR_H_s_1', gap=-5.74, time=4716.00, stage=move.
Warning: Teleporting vehicle 'veh13169'; collision with vehicle 'veh13123', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=4719.00, stage=move.
Warning: Vehicle 'veh8763' ends teleporting on edge 'E_PNK_W_WZM_T', time=4726.00.
Warning: Vehicle 'veh13169' ends teleporting on edge 'E_PNK_W_WZM_T', time=4727.00.
Warning: Vehicle 'veh6613' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4728.00.
Warning: Vehicle 'veh6613' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-19.66, offset=3.17), time=4728.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4740: Phase map is None at time 4740 - algorithm may have crashed
Warning: Vehicle 'veh6539' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=4745.00.
Warning: Vehicle 'veh8631' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4745.00.
Warning: Vehicle 'veh8631' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-18.39, offset=3.04), time=4745.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4770: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4770: Phase map is None at time 4770 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13127'; collision with vehicle 'veh13241', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=4791.00, stage=move.
Warning: Vehicle 'veh13127' ends teleporting on edge 'E_PNK_W_WZM', time=4794.00.
Warning: Teleporting vehicle 'veh13287'; collision with vehicle 'veh13342', lane='E_GOR_W_NMR_H_s_1', gap=-5.60, time=4795.00, stage=move.
Warning: Vehicle 'veh13287' ends teleporting on edge 'E_PNK_W_WZM_T', time=4795.00.
Warning: Teleporting vehicle 'veh13300'; collision with vehicle 'veh13268', lane='E_GOR_W_NMR_H_s_1', gap=-7.19, time=4798.00, stage=move.
Warning: Vehicle 'veh13300' ends teleporting on edge 'E_PNK_W_WZM_T', time=4798.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4800: Phase map is None at time 4800 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13297'; collision with vehicle 'veh13386', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=4800.00, stage=move.
Warning: Vehicle 'veh13297' ends teleporting on edge 'E_PNK_W_WZM_T', time=4800.00.
INFO:TrafficSimulator:Step 4800: 1332 vehicles active
Warning: Teleporting vehicle 'veh11895'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_0', time=4802.00.
Warning: Teleporting vehicle 'veh15112'; collision with vehicle 'veh15280', lane='E_GOR_W_NMR_H_s_1', gap=-7.14, time=4802.00, stage=move.
Warning: Vehicle 'veh11895' ends teleporting on edge 'E_NMR_S_PNK', time=4802.00.
Warning: Vehicle 'veh15112' ends teleporting on edge 'E_PNK_W_WZM_T', time=4802.00.
Warning: Teleporting vehicle 'veh13518'; collision with vehicle 'veh13307', lane='E_GOR_W_NMR_H_s_1', gap=-5.53, time=4809.00, stage=move.
Warning: Vehicle 'veh13518' ends teleporting on edge 'E_PNK_W_WZM_T', time=4809.00.
Warning: Teleporting vehicle 'veh13502'; collision with vehicle 'veh13516', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=4812.00, stage=move.
Warning: Vehicle 'veh13502' ends teleporting on edge 'E_PNK_W_WZM_T', time=4812.00.
Warning: Vehicle 'veh15773' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=4824.00.
Warning: Vehicle 'veh15773' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-14.99, offset=0.85), time=4824.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4830: Phase map is None at time 4830 - algorithm may have crashed
Warning: Vehicle 'veh8657' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=4838.00.
Warning: Vehicle 'veh8657' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_0' because of a red traffic light (decel=-18.50, offset=8.12), time=4838.00.
Warning: Teleporting vehicle 'veh12311'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_2', time=4845.00.
Warning: Vehicle 'veh12311' ends teleporting on edge 'E_WZM_S_PNK', time=4845.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4860: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4860: Phase map is None at time 4860 - algorithm may have crashed
Warning: Teleporting vehicle 'veh12190'; waited too long (jam), lane='E_WZM_S_YMK_H_slr_1', time=4863.00.
Warning: Vehicle 'veh12190' ends teleporting on edge 'E_WZM_S_PNK', time=4863.00.
Warning: Teleporting vehicle 'veh13473'; collision with vehicle 'veh8786', lane='E_GOR_W_NMR_H_s_1', gap=-7.26, time=4886.00, stage=move.
Warning: Vehicle 'veh13473' ends teleporting on edge 'E_PNK_W_WZM_T', time=4886.00.
Warning: Vehicle 'veh14385' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=4889.00.
Warning: Vehicle 'veh14385' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.67, offset=0.13), time=4889.00.
Warning: Teleporting vehicle 'veh13695'; collision with vehicle 'veh8852', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=4889.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4890: Phase map is None at time 4890 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8855'; collision with vehicle 'veh13592', lane='E_GOR_W_NMR_H_s_1', gap=-6.77, time=4891.00, stage=move.
Warning: Teleporting vehicle 'veh13721'; collision with vehicle 'veh13605', lane='E_GOR_W_NMR_H_s_1', gap=-6.39, time=4893.00, stage=move.
Warning: Teleporting vehicle 'veh13762'; collision with vehicle 'veh13747', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=4895.00, stage=move.
Warning: Vehicle 'veh13762' ends teleporting on edge 'E_PNK_W_WZM_T', time=4896.00.
Warning: Teleporting vehicle 'veh13788'; collision with vehicle 'veh13819', lane='E_GOR_W_NMR_H_s_1', gap=-6.94, time=4897.00, stage=move.
Warning: Vehicle 'veh13788' ends teleporting on edge 'E_PNK_W_WZM_T', time=4898.00.
Warning: Teleporting vehicle 'veh15604'; collision with vehicle 'veh13792', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=4899.00, stage=move.
INFO:TrafficSimulator:Step 4900: 1340 vehicles active
Warning: Teleporting vehicle 'veh13893'; collision with vehicle 'veh13830', lane='E_GOR_W_NMR_H_s_1', gap=-6.20, time=4901.00, stage=move.
Warning: Vehicle 'veh13893' ends teleporting on edge 'E_PNK_W_WZM_T', time=4902.00.
Warning: Teleporting vehicle 'veh13931'; collision with vehicle 'veh13831', lane='E_GOR_W_NMR_H_s_1', gap=-6.32, time=4903.00, stage=move.
Warning: Vehicle 'veh15604' ends teleporting on edge 'E_PNK_W_WZM', time=4903.00.
Warning: Vehicle 'veh13931' ends teleporting on edge 'E_PNK_W_WZM_T', time=4904.00.
Warning: Teleporting vehicle 'veh15605'; collision with vehicle 'veh13932', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=4906.00, stage=move.
Warning: Vehicle 'veh15605' ends teleporting on edge 'E_PNK_W_WZM_T', time=4906.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4920: Phase map is None at time 4920 - algorithm may have crashed
Warning: Teleporting vehicle 'veh15744'; collision with vehicle 'veh13855', lane='E_GOR_W_NMR_H_s_1', gap=-6.85, time=4929.00, stage=move.
Warning: Vehicle 'veh15744' ends teleporting on edge 'E_PNK_W_WZM_T', time=4929.00.
Warning: Vehicle 'veh16581' performs emergency braking on lane 'E_AYA_N_GRN_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=4934.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 4950: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 4950: Phase map is None at time 4950 - algorithm may have crashed
Warning: Vehicle 'veh16685' performs emergency braking on lane 'E_JBT_E_NMR_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=4950.00.
Warning: Teleporting vehicle 'veh12163'; waited too long (yield), lane='E_HZG_W_NMR_H_slr_1', time=4960.00.
Warning: Vehicle 'veh12163' ends teleporting on edge 'E_NMR_S_PNK', time=4960.00.
Warning: Vehicle 'veh14593' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=4972.00.
Warning: Teleporting vehicle 'veh15673'; collision with vehicle 'veh13959', lane='E_GOR_W_NMR_H_s_1', gap=-5.85, time=4978.00, stage=move.
Warning: Vehicle 'veh15673' ends teleporting on edge 'E_PNK_W_WZM_T', time=4978.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 4980: Phase map is None at time 4980 - algorithm may have crashed
Warning: Teleporting vehicle 'veh13977'; collision with vehicle 'veh8863', lane='E_GOR_W_NMR_H_s_1', gap=-5.07, time=4982.00, stage=move.
Warning: Vehicle 'veh13977' ends teleporting on edge 'E_PNK_W_WZM_T', time=4982.00.
Warning: Teleporting vehicle 'veh8889'; collision with vehicle 'veh14075', lane='E_GOR_W_NMR_H_s_1', gap=-6.12, time=4985.00, stage=move.
Warning: Vehicle 'veh8889' ends teleporting on edge 'E_PNK_W_WZM_T', time=4985.00.
Warning: Teleporting vehicle 'veh13937'; collision with vehicle 'veh14129', lane='E_GOR_W_NMR_H_s_1', gap=-5.49, time=4987.00, stage=move.
Warning: Vehicle 'veh13937' ends teleporting on edge 'E_PNK_W_WZM_T', time=4987.00.
Warning: Teleporting vehicle 'veh13958'; collision with vehicle 'veh16032', lane='E_GOR_W_NMR_H_s_1', gap=-5.06, time=4989.00, stage=move.
Warning: Vehicle 'veh13958' ends teleporting on edge 'E_PNK_W_WZM_T', time=4989.00.
Warning: Teleporting vehicle 'veh14157'; collision with vehicle 'veh14011', lane='E_GOR_W_NMR_H_s_1', gap=-6.88, time=4992.00, stage=move.
Warning: Vehicle 'veh14157' ends teleporting on edge 'E_PNK_W_WZM_T', time=4994.00.
INFO:TrafficSimulator:Step 5000: 1353 vehicles active
Warning: Vehicle 'veh16606' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_0' with decel=9.00, wished=4.50, severity=1.00, time=5007.00.
Warning: Vehicle 'veh16606' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_0' because of a red traffic light (decel=-13.67, offset=0.64), time=5007.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5010: Phase map is None at time 5010 - algorithm may have crashed
Warning: Vehicle 'veh16905' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5010.00.
Warning: Vehicle 'veh16905' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.22, offset=6.85), time=5010.00.
Warning: Vehicle 'veh8855' teleports beyond arrival edge 'E_WZM_S', time=5010.00.
Warning: Vehicle 'veh13721' teleports beyond arrival edge 'E_WZM_S', time=5010.00.
Warning: Vehicle 'veh13695' ends teleporting on edge 'E_WZM_S', time=5018.00.
Warning: Vehicle 'veh16120' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5029.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5040: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5040: Phase map is None at time 5040 - algorithm may have crashed
Warning: Vehicle 'veh14687' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5056.00.
Warning: Vehicle 'veh14687' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.52, offset=2.45), time=5056.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5070: Phase map is None at time 5070 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14219'; collision with vehicle 'veh14123', lane='E_GOR_W_NMR_H_s_1', gap=-7.45, time=5071.00, stage=move.
Warning: Vehicle 'veh14219' ends teleporting on edge 'E_PNK_W_WZM_T', time=5071.00.
Warning: Teleporting vehicle 'veh14186'; collision with vehicle 'veh14119', lane='E_GOR_W_NMR_H_s_1', gap=-6.54, time=5074.00, stage=move.
Warning: Vehicle 'veh14186' ends teleporting on edge 'E_PNK_W_WZM_T', time=5075.00.
Warning: Teleporting vehicle 'veh14131'; collision with vehicle 'veh14169', lane='E_GOR_W_NMR_H_s_1', gap=-6.71, time=5076.00, stage=move.
Warning: Vehicle 'veh14131' ends teleporting on edge 'E_PNK_W_WZM_T', time=5077.00.
Warning: Teleporting vehicle 'veh14135'; collision with vehicle 'veh14318', lane='E_GOR_W_NMR_H_s_1', gap=-6.24, time=5078.00, stage=move.
Warning: Vehicle 'veh14135' ends teleporting on edge 'E_PNK_W_WZM_T', time=5079.00.
Warning: Teleporting vehicle 'veh14141'; collision with vehicle 'veh14308', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=5080.00, stage=move.
Warning: Teleporting vehicle 'veh8950'; collision with vehicle 'veh14379', lane='E_GOR_W_NMR_H_s_1', gap=-6.30, time=5082.00, stage=move.
Warning: Teleporting vehicle 'veh14330'; collision with vehicle 'veh8929', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=5084.00, stage=move.
Warning: Vehicle 'veh8950' ends teleporting on edge 'E_PNK_W_WZM_T', time=5085.00.
Warning: Vehicle 'veh14141' ends teleporting on edge 'E_PNK_W_WZM', time=5085.00.
Warning: Teleporting vehicle 'veh14170'; collision with vehicle 'veh14369', lane='E_GOR_W_NMR_H_s_1', gap=-6.14, time=5086.00, stage=move.
Warning: Teleporting vehicle 'veh14282'; collision with vehicle 'veh14533', lane='E_GOR_W_NMR_H_s_1', gap=-6.79, time=5088.00, stage=move.
Warning: Vehicle 'veh14170' ends teleporting on edge 'E_PNK_W_WZM_T', time=5089.00.
Warning: Vehicle 'veh14330' ends teleporting on edge 'E_PNK_W_WZM', time=5089.00.
Warning: Teleporting vehicle 'veh14510'; collision with vehicle 'veh14278', lane='E_GOR_W_NMR_H_s_1', gap=-6.70, time=5091.00, stage=move.
Warning: Vehicle 'veh14282' ends teleporting on edge 'E_PNK_W_WZM_T', time=5091.00.
Warning: Vehicle 'veh17238' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_3' with decel=9.00, wished=4.50, severity=1.00, time=5093.00.
Warning: Vehicle 'veh14510' ends teleporting on edge 'E_PNK_W_WZM_T', time=5093.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5100: Phase map is None at time 5100 - algorithm may have crashed
INFO:TrafficSimulator:Step 5100: 1319 vehicles active
Warning: Vehicle 'veh16486' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5110.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5130: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5130: Phase map is None at time 5130 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14485'; collision with vehicle 'veh14336', lane='E_GOR_W_NMR_H_s_1', gap=-7.09, time=5158.00, stage=move.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5160: Phase map is None at time 5160 - algorithm may have crashed
Warning: Teleporting vehicle 'veh14433'; collision with vehicle 'veh16226', lane='E_GOR_W_NMR_H_s_1', gap=-7.03, time=5161.00, stage=move.
Warning: Vehicle 'veh14485' ends teleporting on edge 'E_PNK_W_WZM', time=5161.00.
Warning: Teleporting vehicle 'veh16377'; collision with vehicle 'veh14540', lane='E_GOR_W_NMR_H_s_1', gap=-4.80, time=5163.00, stage=move.
Warning: Vehicle 'veh14433' ends teleporting on edge 'E_PNK_W_WZM_T', time=5163.00.
Warning: Teleporting vehicle 'veh8955'; collision with vehicle 'veh16674', lane='E_GOR_W_NMR_H_s_1', gap=-3.54, time=5165.00, stage=move.
Warning: Vehicle 'veh8955' ends teleporting on edge 'E_PNK_W_WZM_T', time=5165.00.
Warning: Teleporting vehicle 'veh16600'; collision with vehicle 'veh14597', lane='E_GOR_W_NMR_H_s_1', gap=-2.66, time=5167.00, stage=move.
Warning: Teleporting vehicle 'veh12321'; waited too long (yield), lane='E_WZM_S_YMK_H_slr_1', time=5169.00.
Warning: Teleporting vehicle 'veh14643'; collision with vehicle 'veh9053', lane='E_GOR_W_NMR_H_s_1', gap=-5.64, time=5169.00, stage=move.
Warning: Vehicle 'veh12321' ends teleporting on edge 'E_WZM_S_PNK', time=5169.00.
Warning: Vehicle 'veh14643' ends teleporting on edge 'E_PNK_W_WZM_T', time=5169.00.
Warning: Teleporting vehicle 'veh14722'; collision with vehicle 'veh6954', lane='E_GOR_W_NMR_H_s_1', gap=-5.36, time=5171.00, stage=move.
Warning: Vehicle 'veh16600' ends teleporting on edge 'E_PNK_W_WZM', time=5171.00.
Warning: Teleporting vehicle 'veh14634'; collision with vehicle 'veh14744', lane='E_GOR_W_NMR_H_s_1', gap=-6.19, time=5173.00, stage=move.
Warning: Teleporting vehicle 'veh14660'; collision with vehicle 'veh14659', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=5175.00, stage=move.
Warning: Teleporting vehicle 'veh14741'; collision with vehicle 'veh16780', lane='E_GOR_W_NMR_H_s_1', gap=-4.97, time=5176.00, stage=move.
Warning: Vehicle 'veh14722' ends teleporting on edge 'E_PNK_W_WZM', time=5176.00.
Warning: Vehicle 'veh14634' ends teleporting on edge 'E_PNK_W_WZM_T', time=5177.00.
Warning: Teleporting vehicle 'veh16965'; collision with vehicle 'veh9214', lane='E_GOR_W_NMR_H_s_1', gap=-3.75, time=5178.00, stage=move.
Warning: Vehicle 'veh14660' ends teleporting on edge 'E_PNK_W_WZM_T', time=5179.00.
Warning: Vehicle 'veh14741' ends teleporting on edge 'E_PNK_W_WZM', time=5183.00.
Warning: Vehicle 'veh16965' ends teleporting on edge 'E_PNK_W_WZM_T', time=5184.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5190: Phase map is None at time 5190 - algorithm may have crashed
INFO:TrafficSimulator:Step 5200: 1288 vehicles active
Warning: Vehicle 'veh15256' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5209.00.
Warning: Vehicle 'veh15256' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.43, offset=2.69), time=5209.00.
Warning: Vehicle 'veh17102' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5209.00.
Warning: Vehicle 'veh17102' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-11.15, offset=0.21), time=5209.00.
Warning: Teleporting vehicle 'veh2433'; waited too long (yield), lane='E_PNK_E_WZM_H_slr_0', time=5218.00.
Warning: Vehicle 'veh2433' ends teleporting on edge 'E_WZM_S', time=5218.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5220: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5220: Phase map is None at time 5220 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5250: Phase map is None at time 5250 - algorithm may have crashed
Warning: Vehicle 'veh17271' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5250.00.
Warning: Vehicle 'veh17271' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-19.11, offset=7.19), time=5250.00.
Warning: Teleporting vehicle 'veh14904'; collision with vehicle 'veh14832', lane='E_GOR_W_NMR_H_s_1', gap=-7.46, time=5251.00, stage=move.
Warning: Vehicle 'veh14904' ends teleporting on edge 'E_PNK_W_WZM_T', time=5251.00.
Warning: Teleporting vehicle 'veh17192'; collision with vehicle 'veh9302', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=5254.00, stage=move.
Warning: Vehicle 'veh17192' ends teleporting on edge 'E_PNK_W_WZM_T', time=5254.00.
Warning: Vehicle 'veh17878' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5267.00.
Warning: Vehicle 'veh17555' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5267.00.
Warning: Vehicle 'veh17555' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-15.16, offset=0.27), time=5267.00.
Warning: Teleporting vehicle 'veh14944'; collision with vehicle 'veh14987', lane='E_GOR_W_NMR_H_s_1', gap=-6.52, time=5272.00, stage=move.
Warning: Vehicle 'veh14944' ends teleporting on edge 'E_PNK_W_WZM_T', time=5277.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5280: Phase map is None at time 5280 - algorithm may have crashed
Warning: Vehicle 'veh16924' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5290.00.
Warning: Vehicle 'veh16924' performs emergency stop at the end of lane 'E_GOR_E_AYA_H_s_0' because of a red traffic light (decel=-10.20, offset=0.41), time=5290.00.
INFO:TrafficSimulator:Step 5300: 1284 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5310: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5310: Phase map is None at time 5310 - algorithm may have crashed
Warning: Vehicle 'veh9394' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=5310.00.
Warning: Vehicle 'veh9394' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-9.90, offset=0.10), time=5310.00.
Warning: Vehicle 'veh16377' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=5315.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5340: Phase map is None at time 5340 - algorithm may have crashed
Warning: Teleporting vehicle 'veh9375'; collision with vehicle 'veh14926', lane='E_GOR_W_NMR_H_s_1', gap=-7.01, time=5344.00, stage=move.
Warning: Vehicle 'veh9375' ends teleporting on edge 'E_PNK_W_WZM_T', time=5344.00.
Warning: Teleporting vehicle 'veh17449'; collision with vehicle 'veh17402', lane='E_GOR_W_NMR_H_s_1', gap=-7.32, time=5347.00, stage=move.
Warning: Vehicle 'veh17449' ends teleporting on edge 'E_PNK_W_WZM_T', time=5347.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5370: Phase map is None at time 5370 - algorithm may have crashed
Warning: Vehicle 'veh18241' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5370.00.
Warning: Vehicle 'veh18241' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-20.42, offset=9.50), time=5370.00.
Warning: Vehicle 'veh17668' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5390.00.
Warning: Vehicle 'veh17668' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-10.31, offset=0.28), time=5390.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 5400: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5400: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5400: Phase map is None at time 5400 - algorithm may have crashed
INFO:TrafficSimulator:Step 5400: 1231 vehicles active
Warning: Vehicle 'veh15023' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=5413.00.
Warning: Vehicle 'veh15023' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-9.58, offset=0.38), time=5413.00.
Warning: Teleporting vehicle 'veh9543'; collision with vehicle 'veh9528', lane='E_GOR_W_NMR_H_s_1', gap=-5.02, time=5428.00, stage=move.
Warning: Vehicle 'veh9543' ends teleporting on edge 'E_PNK_W_WZM_T', time=5428.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5430: Phase map is None at time 5430 - algorithm may have crashed
Warning: Vehicle 'veh18235' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5431.00.
Warning: Vehicle 'veh18235' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-16.59, offset=4.64), time=5431.00.
Warning: Vehicle 'veh18055' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5442.00.
Warning: Vehicle 'veh18055' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.66, offset=3.92), time=5442.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5460: Phase map is None at time 5460 - algorithm may have crashed
Warning: Vehicle 'veh18586' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5460.00.
Warning: Vehicle 'veh18586' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-18.61, offset=5.30), time=5460.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5490: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5490: Phase map is None at time 5490 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17915'; collision with vehicle 'veh17963', lane='E_GOR_W_NMR_H_s_1', gap=-6.13, time=5496.00, stage=move.
Warning: Vehicle 'veh17915' ends teleporting on edge 'E_PNK_W_WZM_T', time=5496.00.
INFO:TrafficSimulator:Step 5500: 1226 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5520: Phase map is None at time 5520 - algorithm may have crashed
Warning: Vehicle 'veh18866' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=5530.00.
Warning: Teleporting vehicle 'veh9646'; collision with vehicle 'veh9657', lane='E_GOR_W_NMR_H_s_1', gap=-6.55, time=5530.00, stage=move.
Warning: Vehicle 'veh9646' ends teleporting on edge 'E_PNK_W_WZM', time=5533.00.
Warning: Teleporting vehicle 'veh15206'; collision with vehicle 'veh15247', lane='E_GOR_W_NMR_H_s_1', gap=-4.85, time=5535.00, stage=move.
Warning: Vehicle 'veh15206' ends teleporting on edge 'E_PNK_W_WZM_T', time=5536.00.
Warning: Vehicle 'veh18553' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=5538.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5550: Phase map is None at time 5550 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5580: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5580: Phase map is None at time 5580 - algorithm may have crashed
INFO:TrafficSimulator:Step 5600: 1189 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5610: Phase map is None at time 5610 - algorithm may have crashed
Warning: Vehicle 'veh18928' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=5619.00.
Warning: Vehicle 'veh18928' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-18.95, offset=6.79), time=5619.00.
Warning: Teleporting vehicle 'veh18628'; collision with vehicle 'veh18647', lane='E_GOR_W_NMR_H_s_1', gap=-7.42, time=5626.00, stage=move.
Warning: Vehicle 'veh18628' ends teleporting on edge 'E_PNK_W_WZM', time=5629.00.
Warning: Teleporting vehicle 'veh15435'; collision with vehicle 'veh15353', lane='E_GOR_W_NMR_H_s_1', gap=-7.31, time=5636.00, stage=move.
Warning: Vehicle 'veh15435' ends teleporting on edge 'E_PNK_W_WZM_T', time=5636.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5640: Phase map is None at time 5640 - algorithm may have crashed
Warning: Vehicle 'veh19292' performs emergency braking on lane 'E_AYA_N_GRN_H_l_2' with decel=9.00, wished=4.50, severity=1.00, time=5660.00.
Warning: Vehicle 'veh19292' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_2' because of a red traffic light (decel=-11.01, offset=0.54), time=5660.00.
Warning: Vehicle 'veh19318' performs emergency braking on lane 'E_AYA_N_GRN_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5660.00.
Warning: Vehicle 'veh19318' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_l_1' because of a red traffic light (decel=-13.79, offset=0.17), time=5660.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5670: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5670: Phase map is None at time 5670 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5700: Phase map is None at time 5700 - algorithm may have crashed
INFO:TrafficSimulator:Step 5700: 1137 vehicles active
Warning: Teleporting vehicle 'veh15439'; collision with vehicle 'veh15392', lane='E_GOR_W_NMR_H_s_1', gap=-7.20, time=5711.00, stage=move.
Warning: Vehicle 'veh15439' ends teleporting on edge 'E_PNK_W_WZM', time=5714.00.
Warning: Teleporting vehicle 'veh18616'; collision with vehicle 'veh18644', lane='E_GOR_W_NMR_H_s_1', gap=-6.05, time=5715.00, stage=move.
Warning: Vehicle 'veh18616' ends teleporting on edge 'E_PNK_W_WZM', time=5718.00.
Warning: Teleporting vehicle 'veh18899'; collision with vehicle 'veh18816', lane='E_GOR_W_NMR_H_s_1', gap=-2.47, time=5720.00, stage=move.
Warning: Vehicle 'veh18899' ends teleporting on edge 'E_PNK_W_WZM_T', time=5720.00.
Warning: Vehicle 'veh14459' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_1' with decel=9.00, wished=4.50, severity=1.00, time=5726.00.
Warning: Vehicle 'veh14459' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_1' because of a red traffic light (decel=-12.43, offset=1.53), time=5726.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5730: Phase map is None at time 5730 - algorithm may have crashed
Warning: Vehicle 'veh5800' performs emergency braking on lane ':J_WZM_PNK_12_2' with decel=9.00, wished=4.50, severity=1.00, time=5737.00.
Warning: Teleporting vehicle 'veh15499'; collision with vehicle 'veh15464', lane='E_GOR_W_NMR_H_s_1', gap=-5.95, time=5737.00, stage=move.
Warning: Vehicle 'veh15499' ends teleporting on edge 'E_PNK_W_WZM_T', time=5737.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5760: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5760: Phase map is None at time 5760 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5790: Phase map is None at time 5790 - algorithm may have crashed
Warning: Vehicle 'veh19744' performs emergency braking on lane 'E_NMR_N_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5790.00.
Warning: Teleporting vehicle 'veh19401'; collision with vehicle 'veh15513', lane='E_GOR_W_NMR_H_s_1', gap=-7.41, time=5796.00, stage=move.
Warning: Vehicle 'veh19943' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5798.00.
Warning: Vehicle 'veh19503' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=5798.00.
Warning: Vehicle 'veh19401' ends teleporting on edge 'E_PNK_W_WZM', time=5799.00.
INFO:TrafficSimulator:Step 5800: 1136 vehicles active
Warning: Teleporting vehicle 'veh19636'; collision with vehicle 'veh19345', lane='E_GOR_W_NMR_H_s_1', gap=-6.42, time=5802.00, stage=move.
Warning: Vehicle 'veh19636' ends teleporting on edge 'E_PNK_W_WZM_T', time=5802.00.
Warning: Teleporting vehicle 'veh7329'; collision with vehicle 'veh9924', lane='E_GOR_W_NMR_H_s_1', gap=-3.54, time=5810.00, stage=move.
Warning: Vehicle 'veh7329' ends teleporting on edge 'E_PNK_W_WZM_T', time=5810.00.
Warning: Teleporting vehicle 'veh15547'; collision with vehicle 'veh9941', lane='E_GOR_W_NMR_H_s_1', gap=-3.37, time=5812.00, stage=move.
Warning: Vehicle 'veh15547' ends teleporting on edge 'E_PNK_W_WZM_T', time=5812.00.
Warning: Vehicle 'veh18889' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5813.00.
Warning: Teleporting vehicle 'veh15524'; collision with vehicle 'veh15539', lane='E_GOR_W_NMR_H_s_1', gap=-6.49, time=5814.00, stage=move.
Warning: Vehicle 'veh15524' ends teleporting on edge 'E_PNK_W_WZM_H_sl', time=5819.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5820: Phase map is None at time 5820 - algorithm may have crashed
Warning: Vehicle 'veh19460' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=5835.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5850: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5850: Phase map is None at time 5850 - algorithm may have crashed
Warning: Vehicle 'veh19925' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5850.00.
Warning: Vehicle 'veh19925' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-11.51, offset=1.08), time=5850.00.
Warning: Vehicle 'veh15863' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=5877.00.
Warning: Vehicle 'veh15863' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-10.49, offset=1.06), time=5877.00.
Warning: Teleporting vehicle 'veh10007'; collision with vehicle 'veh9983', lane='E_GOR_W_NMR_H_s_1', gap=-6.47, time=5878.00, stage=move.
Warning: Vehicle 'veh10007' ends teleporting on edge 'E_PNK_W_WZM_T', time=5878.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5880: Phase map is None at time 5880 - algorithm may have crashed
INFO:TrafficSimulator:Step 5900: 1132 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5910: Phase map is None at time 5910 - algorithm may have crashed
Warning: Vehicle 'veh20374' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5910.00.
Warning: Vehicle 'veh15807' performs emergency braking on lane 'E_GOR_W_NMR_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=5918.00.
Warning: Teleporting vehicle 'veh20051'; collision with vehicle 'veh20090', lane='E_GOR_W_NMR_H_s_1', gap=-6.31, time=5934.00, stage=move.
Warning: Vehicle 'veh20051' ends teleporting on edge 'E_PNK_W_WZM_T', time=5934.00.
Warning: Teleporting vehicle 'veh20196'; collision with vehicle 'veh20156', lane='E_GOR_W_NMR_H_s_1', gap=-5.62, time=5936.00, stage=move.
Warning: Vehicle 'veh20196' ends teleporting on edge 'E_PNK_W_WZM_T', time=5936.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 5940: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 5940: Phase map is None at time 5940 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 5970: Phase map is None at time 5970 - algorithm may have crashed
Warning: Vehicle 'veh20240' performs emergency braking on lane 'E_NMR_S_JBT_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=5970.00.
Warning: Vehicle 'veh20240' performs emergency stop at the end of lane 'E_NMR_S_JBT_H_l_0' because of a red traffic light (decel=-17.09, offset=1.80), time=5970.00.
Warning: Teleporting vehicle 'veh15991'; collision with vehicle 'veh16011', lane='E_GOR_W_NMR_H_s_1', gap=-5.39, time=5990.00, stage=move.
Warning: Vehicle 'veh15991' ends teleporting on edge 'E_PNK_W_WZM_T', time=5990.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6000: Phase map is None at time 6000 - algorithm may have crashed
INFO:TrafficSimulator:Step 6000: 1146 vehicles active
Warning: Vehicle 'veh19960' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6018.00.
Warning: Vehicle 'veh19960' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-15.42, offset=1.77), time=6018.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6030: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6030: Phase map is None at time 6030 - algorithm may have crashed
Warning: Vehicle 'veh13620' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6030.00.
Warning: Vehicle 'veh13620' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-14.90, offset=0.05), time=6030.00.
Warning: Teleporting vehicle 'veh20605'; collision with vehicle 'veh20589', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=6032.00, stage=move.
Warning: Vehicle 'veh20605' ends teleporting on edge 'E_PNK_W_WZM_T', time=6032.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6060: Phase map is None at time 6060 - algorithm may have crashed
Warning: Teleporting vehicle 'veh10266'; collision with vehicle 'veh10281', lane='E_GOR_W_NMR_H_s_1', gap=-7.48, time=6060.00, stage=move.
Warning: Vehicle 'veh16320' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6061.00.
Warning: Vehicle 'veh10266' ends teleporting on edge 'E_PNK_W_WZM_T', time=6061.00.
Warning: Vehicle 'veh20608' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6071.00.
Warning: Vehicle 'veh20608' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-20.41, offset=4.50), time=6071.00.
Warning: Vehicle 'veh20483' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6071.00.
Warning: Teleporting vehicle 'veh16101'; collision with vehicle 'veh16122', lane='E_GOR_W_NMR_H_s_1', gap=-5.55, time=6071.00, stage=move.
Warning: Vehicle 'veh16101' ends teleporting on edge 'E_PNK_W_WZM_T', time=6073.00.
Warning: Vehicle 'veh16233' performs emergency braking on lane ':J31_3_1' with decel=9.00, wished=4.50, severity=1.00, time=6081.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6090: Phase map is None at time 6090 - algorithm may have crashed
Warning: Vehicle 'veh16325' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6091.00.
Warning: Vehicle 'veh16325' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_2' because of a red traffic light (decel=-18.42, offset=8.42), time=6091.00.
INFO:TrafficSimulator:Step 6100: 1144 vehicles active
Warning: Vehicle 'veh20232' performs emergency braking on lane 'E_HLC_E_AYA_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6108.00.
Warning: Vehicle 'veh20232' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_1' because of a red traffic light (decel=-13.07, offset=3.86), time=6108.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6120: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6120: Phase map is None at time 6120 - algorithm may have crashed
Warning: Vehicle 'veh17293' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6120.00.
Warning: Vehicle 'veh17293' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.80, offset=2.31), time=6120.00.
Warning: Vehicle 'veh20945' performs emergency braking on lane 'E_NMR_N_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6137.00.
Warning: Vehicle 'veh20945' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_0' because of a red traffic light (decel=-10.34, offset=0.95), time=6137.00.
Warning: Vehicle 'veh21023' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6137.00.
Warning: Vehicle 'veh21023' performs emergency stop at the end of lane 'E_NMR_N_PNK_H_s_3' because of a red traffic light (decel=-9.45, offset=0.40), time=6137.00.
Warning: Vehicle 'veh16552' performs emergency braking on lane 'E_BLK_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6149.00.
Warning: Vehicle 'veh16552' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_1' because of a red traffic light (decel=-12.35, offset=3.18), time=6149.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6150: Phase map is None at time 6150 - algorithm may have crashed
Warning: Teleporting vehicle 'veh16357'; collision with vehicle 'veh10424', lane='E_GOR_W_NMR_H_s_1', gap=-3.88, time=6162.00, stage=move.
Warning: Vehicle 'veh16357' ends teleporting on edge 'E_PNK_W_WZM_T', time=6162.00.
Warning: Vehicle 'veh16454' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6175.00.
Warning: Vehicle 'veh16454' performs emergency stop at the end of lane 'E_GOR_W_NMR_H_s_1' because of a red traffic light (decel=-12.97, offset=3.34), time=6175.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6180: Phase map is None at time 6180 - algorithm may have crashed
Warning: Vehicle 'veh21354' performs emergency braking on lane 'E_WZM_N_PNK_H_r_0' with decel=9.00, wished=4.50, severity=1.00, time=6196.00.
INFO:TrafficSimulator:Step 6200: 1166 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6210: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6210: Phase map is None at time 6210 - algorithm may have crashed
Warning: Vehicle 'veh20992' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6210.00.
Warning: Teleporting vehicle 'veh21305'; collision with vehicle 'veh21299', lane='E_GOR_W_NMR_H_s_1', gap=-7.40, time=6232.00, stage=move.
Warning: Vehicle 'veh21305' ends teleporting on edge 'E_PNK_W_WZM', time=6235.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6240: Phase map is None at time 6240 - algorithm may have crashed
Warning: Vehicle 'veh21094' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6247.00.
Warning: Vehicle 'veh16673' performs emergency braking on lane 'E_GOR_W_NMR_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6258.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6270: Phase map is None at time 6270 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method calculation failed at step 6300: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6300: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6300: Phase map is None at time 6300 - algorithm may have crashed
INFO:TrafficSimulator:Step 6300: 1166 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6330: Phase map is None at time 6330 - algorithm may have crashed
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6360: Phase map is None at time 6360 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6390: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6390: Phase map is None at time 6390 - algorithm may have crashed
Warning: Vehicle 'veh22227' performs emergency braking on lane 'E_AYA_N_GRN_H_r_1' with decel=9.00, wished=4.50, severity=1.00, time=6390.00.
Warning: Vehicle 'veh22227' performs emergency stop at the end of lane 'E_AYA_N_GRN_H_r_1' because of a red traffic light (decel=-13.23, offset=3.77), time=6390.00.
INFO:TrafficSimulator:Step 6400: 1140 vehicles active
Warning: Teleporting vehicle 'veh21846'; collision with vehicle 'veh16934', lane='E_GOR_W_NMR_H_s_1', gap=-6.64, time=6413.00, stage=move.
Warning: Vehicle 'veh21846' ends teleporting on edge 'E_PNK_W_WZM', time=6416.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6420: Phase map is None at time 6420 - algorithm may have crashed
Warning: Vehicle 'veh21660' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6423.00.
Warning: Vehicle 'veh21660' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-16.35, offset=1.13), time=6423.00.
Warning: Vehicle 'veh16877' performs emergency braking on lane 'E_PNK_W_WZM_H_sl_2' with decel=9.00, wished=4.50, severity=1.00, time=6444.00.
Warning: Vehicle 'veh16877' performs emergency stop at the end of lane 'E_PNK_W_WZM_H_sl_2' because of a red traffic light (decel=-10.02, offset=0.96), time=6444.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6450: Phase map is None at time 6450 - algorithm may have crashed
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6480: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6480: Phase map is None at time 6480 - algorithm may have crashed
INFO:TrafficSimulator:Step 6500: 1146 vehicles active
Warning: Teleporting vehicle 'veh22090'; collision with vehicle 'veh21993', lane='E_GOR_W_NMR_H_s_1', gap=-7.43, time=6506.00, stage=move.
Warning: Vehicle 'veh22090' ends teleporting on edge 'E_PNK_W_WZM', time=6509.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6510: Phase map is None at time 6510 - algorithm may have crashed
Warning: Vehicle 'veh22770' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6512.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6540: Phase map is None at time 6540 - algorithm may have crashed
Warning: Vehicle 'veh22453' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6550.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6570: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6570: Phase map is None at time 6570 - algorithm may have crashed
Warning: Vehicle 'veh17217' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6585.00.
Warning: Vehicle 'veh17217' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-12.62, offset=2.26), time=6585.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6600: Phase map is None at time 6600 - algorithm may have crashed
INFO:TrafficSimulator:Step 6600: 1106 vehicles active
Warning: Teleporting vehicle 'veh22460'; collision with vehicle 'veh22072', lane='E_GOR_W_NMR_H_s_1', gap=-7.04, time=6603.00, stage=move.
Warning: Vehicle 'veh22460' ends teleporting on edge 'E_PNK_W_WZM_T', time=6605.00.
Warning: Vehicle 'veh23112' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_0' with decel=9.00, wished=4.50, severity=1.00, time=6610.00.
Warning: Vehicle 'veh23112' performs emergency stop at the end of lane 'E_NMR_S_YMK_H_sr_0' because of a red traffic light (decel=-19.02, offset=0.75), time=6610.00.
Warning: Teleporting vehicle 'veh17277'; collision with vehicle 'veh17297', lane='E_GOR_W_NMR_H_s_1', gap=-7.25, time=6616.00, stage=move.
Warning: Vehicle 'veh17277' ends teleporting on edge 'E_PNK_W_WZM_T', time=6617.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6630: Phase map is None at time 6630 - algorithm may have crashed
Warning: Vehicle 'veh3247' performs emergency braking on lane 'E_NMR_S_JBT_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6630.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6660: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6660: Phase map is None at time 6660 - algorithm may have crashed
Warning: Vehicle 'veh22847' performs emergency braking on lane 'E_NMR_N_PNK_H_s_3' with decel=9.00, wished=4.50, severity=1.00, time=6685.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6690: Phase map is None at time 6690 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17369'; collision with vehicle 'veh22860', lane='E_GOR_W_NMR_H_s_1', gap=-4.84, time=6694.00, stage=move.
Warning: Vehicle 'veh17369' ends teleporting on edge 'E_PNK_W_WZM_T', time=6694.00.
Warning: Vehicle 'veh23466' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6697.00.
INFO:TrafficSimulator:Step 6700: 1083 vehicles active
Warning: Teleporting vehicle 'veh17490'; collision with vehicle 'veh17430', lane='E_GOR_W_NMR_H_s_1', gap=-7.44, time=6714.00, stage=move.
Warning: Vehicle 'veh17490' ends teleporting on edge 'E_PNK_W_WZM_T', time=6714.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6720: Phase map is None at time 6720 - algorithm may have crashed
Warning: Vehicle 'veh23205' performs emergency braking on lane 'E_GOR_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6728.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6750: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6750: Phase map is None at time 6750 - algorithm may have crashed
Warning: Vehicle 'veh23466' performs emergency braking on lane 'E_NMR_S_PNK_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6775.00.
Warning: Vehicle 'veh23466' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_1' because of a red traffic light (decel=-18.65, offset=2.29), time=6775.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6780: Phase map is None at time 6780 - algorithm may have crashed
Warning: Teleporting vehicle 'veh23186'; collision with vehicle 'veh22992', lane='E_GOR_W_NMR_H_s_1', gap=-6.51, time=6781.00, stage=move.
Warning: Vehicle 'veh23186' ends teleporting on edge 'E_PNK_W_WZM', time=6784.00.
Warning: Vehicle 'veh23355' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=6795.00.
INFO:TrafficSimulator:Step 6800: 1085 vehicles active
Warning: Vehicle 'veh17673' performs emergency braking on lane 'E_GOR_W_NMR_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6809.00.
Warning: Vehicle 'veh23405' performs emergency braking on lane 'E_PNK_E_NMR_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=6809.00.
Warning: Vehicle 'veh23405' performs emergency stop at the end of lane 'E_PNK_E_NMR_H_sr_1' because of a red traffic light (decel=-13.66, offset=4.50), time=6809.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6810: Phase map is None at time 6810 - algorithm may have crashed
Warning: Teleporting vehicle 'veh17739'; collision with vehicle 'veh17735', lane='E_GOR_W_NMR_H_s_1', gap=-0.02, time=6811.00, stage=move.
Warning: Vehicle 'veh17739' ends teleporting on edge 'E_PNK_W_WZM_T', time=6811.00.
Warning: Vehicle 'veh23256' performs emergency braking on lane 'E_HLC_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6826.00.
Warning: Vehicle 'veh23256' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_1' because of a red traffic light (decel=-17.77, offset=1.42), time=6826.00.
Warning: Vehicle 'veh22927' performs emergency braking on lane 'E_HLC_E_AYA_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6826.00.
Warning: Vehicle 'veh22927' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_l_0' because of a red traffic light (decel=-9.91, offset=0.42), time=6826.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6840: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6840: Phase map is None at time 6840 - algorithm may have crashed
Warning: Vehicle 'veh23791' performs emergency braking on lane 'E_NMR_S_PNK_H_l_1' with decel=9.00, wished=4.50, severity=1.00, time=6840.00.
Warning: Vehicle 'veh23791' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_1' because of a red traffic light (decel=-11.89, offset=1.34), time=6840.00.
Warning: Vehicle 'veh23361' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6843.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6870: Phase map is None at time 6870 - algorithm may have crashed
Warning: Teleporting vehicle 'veh23654'; collision with vehicle 'veh23617', lane='E_GOR_W_NMR_H_s_1', gap=-5.79, time=6871.00, stage=move.
Warning: Vehicle 'veh23654' ends teleporting on edge 'E_PNK_W_WZM_T', time=6871.00.
Warning: Vehicle 'veh17746' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=6883.00.
Warning: Teleporting vehicle 'veh17746'; collision with vehicle 'veh17795', lane='E_GOR_W_NMR_H_s_1', gap=-6.73, time=6885.00, stage=move.
Warning: Vehicle 'veh17746' ends teleporting on edge 'E_PNK_W_WZM_T', time=6885.00.
Warning: Teleporting vehicle 'veh17876'; collision with vehicle 'veh8380', lane='E_GOR_W_NMR_H_s_1', gap=-0.40, time=6890.00, stage=move.
Warning: Vehicle 'veh17876' ends teleporting on edge 'E_PNK_W_WZM_T', time=6890.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6900: Phase map is None at time 6900 - algorithm may have crashed
Warning: Vehicle 'veh24229' performs emergency braking on lane 'E_NMR_N_JBT_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6900.00.
Warning: Vehicle 'veh24229' performs emergency stop at the end of lane 'E_NMR_N_JBT_H_s_0' because of a red traffic light (decel=-19.57, offset=7.61), time=6900.00.
INFO:TrafficSimulator:Step 6900: 1112 vehicles active
Warning: Vehicle 'veh23881' performs emergency braking on lane 'E_GOR_E_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=6908.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 6930: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 6930: Phase map is None at time 6930 - algorithm may have crashed
Warning: Vehicle 'veh24161' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
Warning: Vehicle 'veh11291' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_1' with decel=9.00, wished=4.50, severity=1.00, time=6930.00.
Warning: Vehicle 'veh11291' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_1' because of a red traffic light (decel=-10.08, offset=0.30), time=6930.00.
Warning: Teleporting vehicle 'veh23980'; collision with vehicle 'veh23765', lane='E_GOR_W_NMR_H_s_1', gap=-5.61, time=6935.00, stage=move.
Warning: Vehicle 'veh23980' ends teleporting on edge 'E_PNK_W_WZM_T', time=6935.00.
Warning: Vehicle 'veh24209' performs emergency braking on lane 'E_NMR_S_PNK_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=6955.00.
Warning: Vehicle 'veh24209' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_s_0' because of a red traffic light (decel=-16.67, offset=3.05), time=6955.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6960: Phase map is None at time 6960 - algorithm may have crashed
Warning: Vehicle 'veh18250' performs emergency braking on lane 'E_BLK_W_AYA_H_s_2' with decel=9.00, wished=4.50, severity=1.00, time=6969.00.
Warning: Vehicle 'veh18250' performs emergency stop at the end of lane 'E_BLK_W_AYA_H_s_2' because of a red traffic light (decel=-11.44, offset=0.80), time=6969.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 6990: Phase map is None at time 6990 - algorithm may have crashed
INFO:TrafficSimulator:Step 7000: 1137 vehicles active
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7020: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7020: Phase map is None at time 7020 - algorithm may have crashed
Warning: Vehicle 'veh24401' performs emergency braking on lane 'E_NMR_S_PNK_H_l_0' with decel=9.00, wished=4.50, severity=1.00, time=7020.00.
Warning: Vehicle 'veh24401' performs emergency stop at the end of lane 'E_NMR_S_PNK_H_l_0' because of a red traffic light (decel=-12.33, offset=2.70), time=7020.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7050: Phase map is None at time 7050 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18479'; collision with vehicle 'veh18478', lane='E_GOR_W_NMR_H_s_1', gap=-4.41, time=7068.00, stage=move.
Warning: Vehicle 'veh18479' ends teleporting on edge 'E_PNK_W_WZM_T', time=7070.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7080: Phase map is None at time 7080 - algorithm may have crashed
INFO:TrafficSimulator:Step 7100: 1192 vehicles active
Warning: Teleporting vehicle 'veh24616'; collision with vehicle 'veh24573', lane='E_GOR_W_NMR_H_s_1', gap=-6.83, time=7109.00, stage=move.
Warning: Vehicle 'veh24616' ends teleporting on edge 'E_PNK_W_WZM_T', time=7109.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7110: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7110: Phase map is None at time 7110 - algorithm may have crashed
Warning: Vehicle 'veh11796' performs emergency braking on lane 'E_AYA_N_HLC_H_rl_2' with decel=9.00, wished=4.50, severity=1.00, time=7110.00.
Warning: Vehicle 'veh11796' performs emergency stop at the end of lane 'E_AYA_N_HLC_H_rl_2' because of a red traffic light (decel=-11.13, offset=0.83), time=7110.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7140: Phase map is None at time 7140 - algorithm may have crashed
Warning: Teleporting vehicle 'veh11451'; collision with vehicle 'veh24655', lane='E_GOR_W_NMR_H_s_1', gap=-6.78, time=7140.00, stage=move.
Warning: Vehicle 'veh11451' ends teleporting on edge 'E_PNK_W_WZM', time=7143.00.
Warning: Vehicle 'veh25203' performs emergency braking on lane 'E_NMR_S_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7156.00.
Warning: Vehicle 'veh24737' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_2' with decel=9.00, wished=4.50, severity=1.00, time=7156.00.
Warning: Vehicle 'veh24737' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_2' because of a red traffic light (decel=-18.10, offset=2.41), time=7156.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7170: Phase map is None at time 7170 - algorithm may have crashed
Warning: Teleporting vehicle 'veh18996'; collision with vehicle 'veh19031', lane='E_GOR_W_NMR_H_s_1', gap=-7.00, time=7176.00, stage=move.
Warning: Vehicle 'veh18996' ends teleporting on edge 'E_PNK_W_WZM_T', time=7176.00.
Warning: Vehicle 'veh19183' performs emergency braking on lane ':J31_3_0' with decel=9.00, wished=4.50, severity=1.00, time=7185.00.
Warning: Vehicle 'veh24624' performs emergency braking on lane 'E_HLC_E_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7189.00.
Warning: Vehicle 'veh24624' performs emergency stop at the end of lane 'E_HLC_E_AYA_H_s_0' because of a red traffic light (decel=-16.23, offset=6.35), time=7189.00.
ERROR:TreeMethodController:Tree Method calculation failed at step 7200: 'list' object has no attribute 'values'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 149, in update
    total_cost = sum(this_iter_trees_costs.values()) if this_iter_trees_costs else 0
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'values'

ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7200: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7200: Phase map is None at time 7200 - algorithm may have crashed
INFO:TrafficSimulator:Step 7200: 1233 vehicles active
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7230: Phase map is None at time 7230 - algorithm may have crashed
Warning: Teleporting vehicle 'veh19183'; collision with vehicle 'veh11639', lane='E_GOR_W_NMR_H_s_1', gap=-6.90, time=7231.00, stage=move.
Warning: Vehicle 'veh19183' ends teleporting on edge 'E_PNK_W_WZM_T', time=7231.00.
Warning: Teleporting vehicle 'veh25102'; collision with vehicle 'veh11708', lane='E_GOR_W_NMR_H_s_1', gap=-1.65, time=7234.00, stage=move.
Warning: Teleporting vehicle 'veh11593'; collision with vehicle 'veh19206', lane='E_GOR_W_NMR_H_s_1', gap=-7.11, time=7239.00, stage=move.
Warning: Vehicle 'veh11593' ends teleporting on edge 'E_PNK_W_WZM_T', time=7239.00.
Warning: Vehicle 'veh25153' performs emergency braking on lane 'E_NMR_N_YMK_H_sr_1' with decel=9.00, wished=4.50, severity=1.00, time=7242.00.
Warning: Vehicle 'veh25153' performs emergency stop at the end of lane 'E_NMR_N_YMK_H_sr_1' because of a red traffic light (decel=-18.91, offset=2.12), time=7242.00.
Warning: Vehicle 'veh9015' performs emergency braking on lane 'E_HLC_W_AYA_H_s_1' with decel=9.00, wished=4.50, severity=1.00, time=7254.00.
Warning: Vehicle 'veh9015' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_1' because of a red traffic light (decel=-17.30, offset=6.18), time=7254.00.
Warning: Vehicle 'veh9048' performs emergency braking on lane 'E_HLC_W_AYA_H_s_0' with decel=9.00, wished=4.50, severity=1.00, time=7254.00.
Warning: Vehicle 'veh9048' performs emergency stop at the end of lane 'E_HLC_W_AYA_H_s_0' because of a red traffic light (decel=-17.46, offset=0.86), time=7254.00.
WARNING:TreeMethodController:Algorithm runtime validation failed at step 7260: Phase map is None at time 7260 - algorithm may have crashed
Warning: Teleporting vehicle 'veh8979'; collision with vehicle 'veh19268', lane='E_GOR_W_NMR_H_s_1', gap=-7.06, time=7260.00, stage=move.
Warning: Vehicle 'veh8979' ends teleporting on edge 'E_PNK_W_WZM_T', time=7260.00.
ERROR:TreeMethodController:Tree Method traffic light update ERROR at step 7290: 'list' object has no attribute 'keys'
ERROR:TreeMethodController:Traceback: Traceback (most recent call last):
  File "/Users/arielcohen/development/ariel_dev/sumo/Projects/sumo-traffic-generator/src/orchestration/traffic_controller.py", line 169, in update
    for node_id in list(self.graph.tl_node_ids.keys())[:2]:  # Log first 2 nodes only
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'keys'

WARNING:TreeMethodController:Algorithm runtime validation failed at step 7290: Phase map is None at time 7290 - algorithm may have crashed
INFO:TrafficSimulator:=== SIMULATION METRICS ===
INFO:TrafficSimulator:Total simulation steps: 7300
INFO:TrafficSimulator:Total vehicles: 1353
INFO:TrafficSimulator:Completed vehicles: 255
INFO:TrafficSimulator:Completion rate: 18.8%
INFO:TrafficSimulator:Traffic control method: tree_method
INFO:TreeMethodController:=== TREE METHOD CLEANUP STARTED ===
INFO:TreeMethodController:Graph object exists: <class 'src.traffic_control.decentralized_traffic_bottlenecks.classes.graph.Graph'>
INFO:TreeMethodController:Ended vehicles count: 18494
INFO:TreeMethodController:Vehicle total time: 7163296
INFO:TreeMethodController:=== TREE METHOD STATISTICS ===
INFO:TreeMethodController:Tree Method - Vehicles completed: 18494
INFO:TreeMethodController:Tree Method - Total driving time: 7163296
INFO:TreeMethodController:Tree Method - Average duration: 387.33 steps
INFO:TreeMethodController:Tree Method - Individual durations collected: 18494
Simulation ended at time: 7300.00.
Reason: TraCI requested termination.
Performance:
 Duration: 107.27s
 TraCI-Duration: 57.68s
 Real time factor: 68.0538
 UPS: 71864.768617
Vehicles:
 Inserted: 19379 (Loaded: 25470)
 Running: 1099
 Waiting: 6091
 Teleports: 462 (Collisions: 444, Jam: 4, Yield: 14)
 Emergency Stops: 193
 Emergency Braking: 313
Statistics (avg of 18280):
 RouteLength: 1443.40
 Speed: 6.21
 Duration: 391.91
 WaitingTime: 197.10
 TimeLoss: 289.40
 DepartDelay: 279.90
DijkstraRouter answered 308144 queries and explored 16.51 edges on average.
DijkstraRouter spent 0.37s answering queries (0.00ms on average).
INFO:TrafficSimulator:Simulation completed successfully!
INFO:SamplePipeline:=== SAMPLE SIMULATION COMPLETED ===
INFO:SamplePipeline:total_simulation_steps: 7300
INFO:SamplePipeline:total_vehicles: 1353
INFO:SamplePipeline:completed_vehicles: 255
INFO:SamplePipeline:traffic_control_method: tree_method
INFO:SamplePipeline:completion_rate: 18.8470066518847
INFO:__main__:Pipeline execution completed successfully
